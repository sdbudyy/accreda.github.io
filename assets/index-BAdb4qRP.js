function Gm(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var je=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function rl(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Jm(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var _d={exports:{}},$i={},kd={exports:{}},q={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vs=Symbol.for("react.element"),Km=Symbol.for("react.portal"),Qm=Symbol.for("react.fragment"),Ym=Symbol.for("react.strict_mode"),Xm=Symbol.for("react.profiler"),Zm=Symbol.for("react.provider"),ep=Symbol.for("react.context"),tp=Symbol.for("react.forward_ref"),np=Symbol.for("react.suspense"),rp=Symbol.for("react.memo"),sp=Symbol.for("react.lazy"),pc=Symbol.iterator;function ip(e){return e===null||typeof e!="object"?null:(e=pc&&e[pc]||e["@@iterator"],typeof e=="function"?e:null)}var Sd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Nd=Object.assign,Ed={};function hr(e,t,n){this.props=e,this.context=t,this.refs=Ed,this.updater=n||Sd}hr.prototype.isReactComponent={};hr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};hr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Cd(){}Cd.prototype=hr.prototype;function sl(e,t,n){this.props=e,this.context=t,this.refs=Ed,this.updater=n||Sd}var il=sl.prototype=new Cd;il.constructor=sl;Nd(il,hr.prototype);il.isPureReactComponent=!0;var gc=Array.isArray,Td=Object.prototype.hasOwnProperty,al={current:null},Od={key:!0,ref:!0,__self:!0,__source:!0};function Pd(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Td.call(t,r)&&!Od.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:vs,type:e,key:i,ref:o,props:s,_owner:al.current}}function ap(e,t){return{$$typeof:vs,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ol(e){return typeof e=="object"&&e!==null&&e.$$typeof===vs}function op(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var vc=/\/+/g;function ha(e,t){return typeof e=="object"&&e!==null&&e.key!=null?op(""+e.key):t.toString(36)}function Ks(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case vs:case Km:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+ha(o,0):r,gc(s)?(n="",e!=null&&(n=e.replace(vc,"$&/")+"/"),Ks(s,t,n,"",function(u){return u})):s!=null&&(ol(s)&&(s=ap(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(vc,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",gc(e))for(var l=0;l<e.length;l++){i=e[l];var c=r+ha(i,l);o+=Ks(i,t,n,c,s)}else if(c=ip(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=r+ha(i,l++),o+=Ks(i,t,n,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Cs(e,t,n){if(e==null)return e;var r=[],s=0;return Ks(e,r,"","",function(i){return t.call(n,i,s++)}),r}function lp(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Se={current:null},Qs={transition:null},cp={ReactCurrentDispatcher:Se,ReactCurrentBatchConfig:Qs,ReactCurrentOwner:al};function Ad(){throw Error("act(...) is not supported in production builds of React.")}q.Children={map:Cs,forEach:function(e,t,n){Cs(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Cs(e,function(){t++}),t},toArray:function(e){return Cs(e,function(t){return t})||[]},only:function(e){if(!ol(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};q.Component=hr;q.Fragment=Qm;q.Profiler=Xm;q.PureComponent=sl;q.StrictMode=Ym;q.Suspense=np;q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cp;q.act=Ad;q.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Nd({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=al.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Td.call(t,c)&&!Od.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:vs,type:e.type,key:s,ref:i,props:r,_owner:o}};q.createContext=function(e){return e={$$typeof:ep,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Zm,_context:e},e.Consumer=e};q.createElement=Pd;q.createFactory=function(e){var t=Pd.bind(null,e);return t.type=e,t};q.createRef=function(){return{current:null}};q.forwardRef=function(e){return{$$typeof:tp,render:e}};q.isValidElement=ol;q.lazy=function(e){return{$$typeof:sp,_payload:{_status:-1,_result:e},_init:lp}};q.memo=function(e,t){return{$$typeof:rp,type:e,compare:t===void 0?null:t}};q.startTransition=function(e){var t=Qs.transition;Qs.transition={};try{e()}finally{Qs.transition=t}};q.unstable_act=Ad;q.useCallback=function(e,t){return Se.current.useCallback(e,t)};q.useContext=function(e){return Se.current.useContext(e)};q.useDebugValue=function(){};q.useDeferredValue=function(e){return Se.current.useDeferredValue(e)};q.useEffect=function(e,t){return Se.current.useEffect(e,t)};q.useId=function(){return Se.current.useId()};q.useImperativeHandle=function(e,t,n){return Se.current.useImperativeHandle(e,t,n)};q.useInsertionEffect=function(e,t){return Se.current.useInsertionEffect(e,t)};q.useLayoutEffect=function(e,t){return Se.current.useLayoutEffect(e,t)};q.useMemo=function(e,t){return Se.current.useMemo(e,t)};q.useReducer=function(e,t,n){return Se.current.useReducer(e,t,n)};q.useRef=function(e){return Se.current.useRef(e)};q.useState=function(e){return Se.current.useState(e)};q.useSyncExternalStore=function(e,t,n){return Se.current.useSyncExternalStore(e,t,n)};q.useTransition=function(){return Se.current.useTransition()};q.version="18.3.1";kd.exports=q;var w=kd.exports;const ll=rl(w),up=Gm({__proto__:null,default:ll},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dp=w,hp=Symbol.for("react.element"),fp=Symbol.for("react.fragment"),mp=Object.prototype.hasOwnProperty,pp=dp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,gp={key:!0,ref:!0,__self:!0,__source:!0};function Id(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)mp.call(t,r)&&!gp.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:hp,type:e,key:i,ref:o,props:s,_owner:pp.current}}$i.Fragment=fp;$i.jsx=Id;$i.jsxs=Id;_d.exports=$i;var a=_d.exports,Rd={exports:{}},Me={},Ld={exports:{}},$d={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(S,L){var z=S.length;S.push(L);e:for(;0<z;){var G=z-1>>>1,ie=S[G];if(0<s(ie,L))S[G]=L,S[z]=ie,z=G;else break e}}function n(S){return S.length===0?null:S[0]}function r(S){if(S.length===0)return null;var L=S[0],z=S.pop();if(z!==L){S[0]=z;e:for(var G=0,ie=S.length,qe=ie>>>1;G<qe;){var nn=2*(G+1)-1,da=S[nn],rn=nn+1,Es=S[rn];if(0>s(da,z))rn<ie&&0>s(Es,da)?(S[G]=Es,S[rn]=z,G=rn):(S[G]=da,S[nn]=z,G=nn);else if(rn<ie&&0>s(Es,z))S[G]=Es,S[rn]=z,G=rn;else break e}}return L}function s(S,L){var z=S.sortIndex-L.sortIndex;return z!==0?z:S.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,m=3,v=!1,p=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(S){for(var L=n(u);L!==null;){if(L.callback===null)r(u);else if(L.startTime<=S)r(u),L.sortIndex=L.expirationTime,t(c,L);else break;L=n(u)}}function j(S){if(y=!1,g(S),!p)if(n(c)!==null)p=!0,I(_);else{var L=n(u);L!==null&&O(j,L.startTime-S)}}function _(S,L){p=!1,y&&(y=!1,x(P),P=-1),v=!0;var z=m;try{for(g(L),h=n(c);h!==null&&(!(h.expirationTime>L)||S&&!V());){var G=h.callback;if(typeof G=="function"){h.callback=null,m=h.priorityLevel;var ie=G(h.expirationTime<=L);L=e.unstable_now(),typeof ie=="function"?h.callback=ie:h===n(c)&&r(c),g(L)}else r(c);h=n(c)}if(h!==null)var qe=!0;else{var nn=n(u);nn!==null&&O(j,nn.startTime-L),qe=!1}return qe}finally{h=null,m=z,v=!1}}var C=!1,T=null,P=-1,D=5,$=-1;function V(){return!(e.unstable_now()-$<D)}function F(){if(T!==null){var S=e.unstable_now();$=S;var L=!0;try{L=T(!0,S)}finally{L?N():(C=!1,T=null)}}else C=!1}var N;if(typeof f=="function")N=function(){f(F)};else if(typeof MessageChannel<"u"){var E=new MessageChannel,k=E.port2;E.port1.onmessage=F,N=function(){k.postMessage(null)}}else N=function(){b(F,0)};function I(S){T=S,C||(C=!0,N())}function O(S,L){P=b(function(){S(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(S){S.callback=null},e.unstable_continueExecution=function(){p||v||(p=!0,I(_))},e.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<S?Math.floor(1e3/S):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(S){switch(m){case 1:case 2:case 3:var L=3;break;default:L=m}var z=m;m=L;try{return S()}finally{m=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(S,L){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var z=m;m=S;try{return L()}finally{m=z}},e.unstable_scheduleCallback=function(S,L,z){var G=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?G+z:G):z=G,S){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=z+ie,S={id:d++,callback:L,priorityLevel:S,startTime:z,expirationTime:ie,sortIndex:-1},z>G?(S.sortIndex=z,t(u,S),n(c)===null&&S===n(u)&&(y?(x(P),P=-1):y=!0,O(j,z-G))):(S.sortIndex=ie,t(c,S),p||v||(p=!0,I(_))),S},e.unstable_shouldYield=V,e.unstable_wrapCallback=function(S){var L=m;return function(){var z=m;m=L;try{return S.apply(this,arguments)}finally{m=z}}}})($d);Ld.exports=$d;var vp=Ld.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xp=w,ze=vp;function R(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Dd=new Set,Wr={};function jn(e,t){Zn(e,t),Zn(e+"Capture",t)}function Zn(e,t){for(Wr[e]=t,e=0;e<t.length;e++)Dd.add(t[e])}var wt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ja=Object.prototype.hasOwnProperty,yp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,xc={},yc={};function wp(e){return Ja.call(yc,e)?!0:Ja.call(xc,e)?!1:yp.test(e)?yc[e]=!0:(xc[e]=!0,!1)}function jp(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function bp(e,t,n,r){if(t===null||typeof t>"u"||jp(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ne(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var ge={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ge[e]=new Ne(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ge[t]=new Ne(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ge[e]=new Ne(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ge[e]=new Ne(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ge[e]=new Ne(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ge[e]=new Ne(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ge[e]=new Ne(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ge[e]=new Ne(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ge[e]=new Ne(e,5,!1,e.toLowerCase(),null,!1,!1)});var cl=/[\-:]([a-z])/g;function ul(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(cl,ul);ge[t]=new Ne(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(cl,ul);ge[t]=new Ne(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(cl,ul);ge[t]=new Ne(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ge[e]=new Ne(e,1,!1,e.toLowerCase(),null,!1,!1)});ge.xlinkHref=new Ne("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ge[e]=new Ne(e,1,!1,e.toLowerCase(),null,!0,!0)});function dl(e,t,n,r){var s=ge.hasOwnProperty(t)?ge[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(bp(t,n,s,r)&&(n=null),r||s===null?wp(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var kt=xp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ts=Symbol.for("react.element"),Rn=Symbol.for("react.portal"),Ln=Symbol.for("react.fragment"),hl=Symbol.for("react.strict_mode"),Ka=Symbol.for("react.profiler"),Ud=Symbol.for("react.provider"),zd=Symbol.for("react.context"),fl=Symbol.for("react.forward_ref"),Qa=Symbol.for("react.suspense"),Ya=Symbol.for("react.suspense_list"),ml=Symbol.for("react.memo"),Ot=Symbol.for("react.lazy"),Md=Symbol.for("react.offscreen"),wc=Symbol.iterator;function xr(e){return e===null||typeof e!="object"?null:(e=wc&&e[wc]||e["@@iterator"],typeof e=="function"?e:null)}var re=Object.assign,fa;function Cr(e){if(fa===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);fa=t&&t[1]||""}return`
`+fa+e}var ma=!1;function pa(e,t){if(!e||ma)return"";ma=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{ma=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Cr(e):""}function _p(e){switch(e.tag){case 5:return Cr(e.type);case 16:return Cr("Lazy");case 13:return Cr("Suspense");case 19:return Cr("SuspenseList");case 0:case 2:case 15:return e=pa(e.type,!1),e;case 11:return e=pa(e.type.render,!1),e;case 1:return e=pa(e.type,!0),e;default:return""}}function Xa(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ln:return"Fragment";case Rn:return"Portal";case Ka:return"Profiler";case hl:return"StrictMode";case Qa:return"Suspense";case Ya:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case zd:return(e.displayName||"Context")+".Consumer";case Ud:return(e._context.displayName||"Context")+".Provider";case fl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ml:return t=e.displayName||null,t!==null?t:Xa(e.type)||"Memo";case Ot:t=e._payload,e=e._init;try{return Xa(e(t))}catch{}}return null}function kp(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Xa(t);case 8:return t===hl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Qt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Fd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Sp(e){var t=Fd(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Os(e){e._valueTracker||(e._valueTracker=Sp(e))}function Bd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Fd(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function li(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Za(e,t){var n=t.checked;return re({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function jc(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Qt(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function qd(e,t){t=t.checked,t!=null&&dl(e,"checked",t,!1)}function eo(e,t){qd(e,t);var n=Qt(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?to(e,t.type,n):t.hasOwnProperty("defaultValue")&&to(e,t.type,Qt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function bc(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function to(e,t,n){(t!=="number"||li(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Tr=Array.isArray;function Wn(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Qt(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function no(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(R(91));return re({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function _c(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(R(92));if(Tr(n)){if(1<n.length)throw Error(R(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Qt(n)}}function Hd(e,t){var n=Qt(t.value),r=Qt(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function kc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Vd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ro(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Vd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ps,Wd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ps=Ps||document.createElement("div"),Ps.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ps.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Gr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ir={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Np=["Webkit","ms","Moz","O"];Object.keys(Ir).forEach(function(e){Np.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ir[t]=Ir[e]})});function Gd(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ir.hasOwnProperty(e)&&Ir[e]?(""+t).trim():t+"px"}function Jd(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Gd(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Ep=re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function so(e,t){if(t){if(Ep[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(R(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(R(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(R(61))}if(t.style!=null&&typeof t.style!="object")throw Error(R(62))}}function io(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ao=null;function pl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var oo=null,Gn=null,Jn=null;function Sc(e){if(e=ws(e)){if(typeof oo!="function")throw Error(R(280));var t=e.stateNode;t&&(t=Fi(t),oo(e.stateNode,e.type,t))}}function Kd(e){Gn?Jn?Jn.push(e):Jn=[e]:Gn=e}function Qd(){if(Gn){var e=Gn,t=Jn;if(Jn=Gn=null,Sc(e),t)for(e=0;e<t.length;e++)Sc(t[e])}}function Yd(e,t){return e(t)}function Xd(){}var ga=!1;function Zd(e,t,n){if(ga)return e(t,n);ga=!0;try{return Yd(e,t,n)}finally{ga=!1,(Gn!==null||Jn!==null)&&(Xd(),Qd())}}function Jr(e,t){var n=e.stateNode;if(n===null)return null;var r=Fi(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(R(231,t,typeof n));return n}var lo=!1;if(wt)try{var yr={};Object.defineProperty(yr,"passive",{get:function(){lo=!0}}),window.addEventListener("test",yr,yr),window.removeEventListener("test",yr,yr)}catch{lo=!1}function Cp(e,t,n,r,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Rr=!1,ci=null,ui=!1,co=null,Tp={onError:function(e){Rr=!0,ci=e}};function Op(e,t,n,r,s,i,o,l,c){Rr=!1,ci=null,Cp.apply(Tp,arguments)}function Pp(e,t,n,r,s,i,o,l,c){if(Op.apply(this,arguments),Rr){if(Rr){var u=ci;Rr=!1,ci=null}else throw Error(R(198));ui||(ui=!0,co=u)}}function bn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function eh(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Nc(e){if(bn(e)!==e)throw Error(R(188))}function Ap(e){var t=e.alternate;if(!t){if(t=bn(e),t===null)throw Error(R(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Nc(s),e;if(i===r)return Nc(s),t;i=i.sibling}throw Error(R(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(R(189))}}if(n.alternate!==r)throw Error(R(190))}if(n.tag!==3)throw Error(R(188));return n.stateNode.current===n?e:t}function th(e){return e=Ap(e),e!==null?nh(e):null}function nh(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=nh(e);if(t!==null)return t;e=e.sibling}return null}var rh=ze.unstable_scheduleCallback,Ec=ze.unstable_cancelCallback,Ip=ze.unstable_shouldYield,Rp=ze.unstable_requestPaint,ae=ze.unstable_now,Lp=ze.unstable_getCurrentPriorityLevel,gl=ze.unstable_ImmediatePriority,sh=ze.unstable_UserBlockingPriority,di=ze.unstable_NormalPriority,$p=ze.unstable_LowPriority,ih=ze.unstable_IdlePriority,Di=null,ut=null;function Dp(e){if(ut&&typeof ut.onCommitFiberRoot=="function")try{ut.onCommitFiberRoot(Di,e,void 0,(e.current.flags&128)===128)}catch{}}var nt=Math.clz32?Math.clz32:Mp,Up=Math.log,zp=Math.LN2;function Mp(e){return e>>>=0,e===0?32:31-(Up(e)/zp|0)|0}var As=64,Is=4194304;function Or(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function hi(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=Or(l):(i&=o,i!==0&&(r=Or(i)))}else o=n&~s,o!==0?r=Or(o):i!==0&&(r=Or(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-nt(t),s=1<<n,r|=e[n],t&=~s;return r}function Fp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bp(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-nt(i),l=1<<o,c=s[o];c===-1?(!(l&n)||l&r)&&(s[o]=Fp(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function uo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ah(){var e=As;return As<<=1,!(As&4194240)&&(As=64),e}function va(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function xs(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-nt(t),e[t]=n}function qp(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-nt(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function vl(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-nt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var J=0;function oh(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var lh,xl,ch,uh,dh,ho=!1,Rs=[],Mt=null,Ft=null,Bt=null,Kr=new Map,Qr=new Map,Rt=[],Hp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Cc(e,t){switch(e){case"focusin":case"focusout":Mt=null;break;case"dragenter":case"dragleave":Ft=null;break;case"mouseover":case"mouseout":Bt=null;break;case"pointerover":case"pointerout":Kr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qr.delete(t.pointerId)}}function wr(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=ws(t),t!==null&&xl(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Vp(e,t,n,r,s){switch(t){case"focusin":return Mt=wr(Mt,e,t,n,r,s),!0;case"dragenter":return Ft=wr(Ft,e,t,n,r,s),!0;case"mouseover":return Bt=wr(Bt,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Kr.set(i,wr(Kr.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Qr.set(i,wr(Qr.get(i)||null,e,t,n,r,s)),!0}return!1}function hh(e){var t=un(e.target);if(t!==null){var n=bn(t);if(n!==null){if(t=n.tag,t===13){if(t=eh(n),t!==null){e.blockedOn=t,dh(e.priority,function(){ch(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ys(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=fo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);ao=r,n.target.dispatchEvent(r),ao=null}else return t=ws(n),t!==null&&xl(t),e.blockedOn=n,!1;t.shift()}return!0}function Tc(e,t,n){Ys(e)&&n.delete(t)}function Wp(){ho=!1,Mt!==null&&Ys(Mt)&&(Mt=null),Ft!==null&&Ys(Ft)&&(Ft=null),Bt!==null&&Ys(Bt)&&(Bt=null),Kr.forEach(Tc),Qr.forEach(Tc)}function jr(e,t){e.blockedOn===t&&(e.blockedOn=null,ho||(ho=!0,ze.unstable_scheduleCallback(ze.unstable_NormalPriority,Wp)))}function Yr(e){function t(s){return jr(s,e)}if(0<Rs.length){jr(Rs[0],e);for(var n=1;n<Rs.length;n++){var r=Rs[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Mt!==null&&jr(Mt,e),Ft!==null&&jr(Ft,e),Bt!==null&&jr(Bt,e),Kr.forEach(t),Qr.forEach(t),n=0;n<Rt.length;n++)r=Rt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&(n=Rt[0],n.blockedOn===null);)hh(n),n.blockedOn===null&&Rt.shift()}var Kn=kt.ReactCurrentBatchConfig,fi=!0;function Gp(e,t,n,r){var s=J,i=Kn.transition;Kn.transition=null;try{J=1,yl(e,t,n,r)}finally{J=s,Kn.transition=i}}function Jp(e,t,n,r){var s=J,i=Kn.transition;Kn.transition=null;try{J=4,yl(e,t,n,r)}finally{J=s,Kn.transition=i}}function yl(e,t,n,r){if(fi){var s=fo(e,t,n,r);if(s===null)Ea(e,t,r,mi,n),Cc(e,r);else if(Vp(s,e,t,n,r))r.stopPropagation();else if(Cc(e,r),t&4&&-1<Hp.indexOf(e)){for(;s!==null;){var i=ws(s);if(i!==null&&lh(i),i=fo(e,t,n,r),i===null&&Ea(e,t,r,mi,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Ea(e,t,r,null,n)}}var mi=null;function fo(e,t,n,r){if(mi=null,e=pl(r),e=un(e),e!==null)if(t=bn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=eh(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return mi=e,null}function fh(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Lp()){case gl:return 1;case sh:return 4;case di:case $p:return 16;case ih:return 536870912;default:return 16}default:return 16}}var Dt=null,wl=null,Xs=null;function mh(){if(Xs)return Xs;var e,t=wl,n=t.length,r,s="value"in Dt?Dt.value:Dt.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return Xs=s.slice(e,1<r?1-r:void 0)}function Zs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ls(){return!0}function Oc(){return!1}function Fe(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ls:Oc,this.isPropagationStopped=Oc,this}return re(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ls)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ls)},persist:function(){},isPersistent:Ls}),t}var fr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jl=Fe(fr),ys=re({},fr,{view:0,detail:0}),Kp=Fe(ys),xa,ya,br,Ui=re({},ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==br&&(br&&e.type==="mousemove"?(xa=e.screenX-br.screenX,ya=e.screenY-br.screenY):ya=xa=0,br=e),xa)},movementY:function(e){return"movementY"in e?e.movementY:ya}}),Pc=Fe(Ui),Qp=re({},Ui,{dataTransfer:0}),Yp=Fe(Qp),Xp=re({},ys,{relatedTarget:0}),wa=Fe(Xp),Zp=re({},fr,{animationName:0,elapsedTime:0,pseudoElement:0}),eg=Fe(Zp),tg=re({},fr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ng=Fe(tg),rg=re({},fr,{data:0}),Ac=Fe(rg),sg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ig={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ag={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function og(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ag[e])?!!t[e]:!1}function bl(){return og}var lg=re({},ys,{key:function(e){if(e.key){var t=sg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Zs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ig[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bl,charCode:function(e){return e.type==="keypress"?Zs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Zs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),cg=Fe(lg),ug=re({},Ui,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ic=Fe(ug),dg=re({},ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bl}),hg=Fe(dg),fg=re({},fr,{propertyName:0,elapsedTime:0,pseudoElement:0}),mg=Fe(fg),pg=re({},Ui,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),gg=Fe(pg),vg=[9,13,27,32],_l=wt&&"CompositionEvent"in window,Lr=null;wt&&"documentMode"in document&&(Lr=document.documentMode);var xg=wt&&"TextEvent"in window&&!Lr,ph=wt&&(!_l||Lr&&8<Lr&&11>=Lr),Rc=" ",Lc=!1;function gh(e,t){switch(e){case"keyup":return vg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var $n=!1;function yg(e,t){switch(e){case"compositionend":return vh(t);case"keypress":return t.which!==32?null:(Lc=!0,Rc);case"textInput":return e=t.data,e===Rc&&Lc?null:e;default:return null}}function wg(e,t){if($n)return e==="compositionend"||!_l&&gh(e,t)?(e=mh(),Xs=wl=Dt=null,$n=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ph&&t.locale!=="ko"?null:t.data;default:return null}}var jg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $c(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!jg[e.type]:t==="textarea"}function xh(e,t,n,r){Kd(r),t=pi(t,"onChange"),0<t.length&&(n=new jl("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var $r=null,Xr=null;function bg(e){Th(e,0)}function zi(e){var t=zn(e);if(Bd(t))return e}function _g(e,t){if(e==="change")return t}var yh=!1;if(wt){var ja;if(wt){var ba="oninput"in document;if(!ba){var Dc=document.createElement("div");Dc.setAttribute("oninput","return;"),ba=typeof Dc.oninput=="function"}ja=ba}else ja=!1;yh=ja&&(!document.documentMode||9<document.documentMode)}function Uc(){$r&&($r.detachEvent("onpropertychange",wh),Xr=$r=null)}function wh(e){if(e.propertyName==="value"&&zi(Xr)){var t=[];xh(t,Xr,e,pl(e)),Zd(bg,t)}}function kg(e,t,n){e==="focusin"?(Uc(),$r=t,Xr=n,$r.attachEvent("onpropertychange",wh)):e==="focusout"&&Uc()}function Sg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return zi(Xr)}function Ng(e,t){if(e==="click")return zi(t)}function Eg(e,t){if(e==="input"||e==="change")return zi(t)}function Cg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var st=typeof Object.is=="function"?Object.is:Cg;function Zr(e,t){if(st(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Ja.call(t,s)||!st(e[s],t[s]))return!1}return!0}function zc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Mc(e,t){var n=zc(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=zc(n)}}function jh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?jh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function bh(){for(var e=window,t=li();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=li(e.document)}return t}function kl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Tg(e){var t=bh(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&jh(n.ownerDocument.documentElement,n)){if(r!==null&&kl(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=Mc(n,i);var o=Mc(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Og=wt&&"documentMode"in document&&11>=document.documentMode,Dn=null,mo=null,Dr=null,po=!1;function Fc(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;po||Dn==null||Dn!==li(r)||(r=Dn,"selectionStart"in r&&kl(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Dr&&Zr(Dr,r)||(Dr=r,r=pi(mo,"onSelect"),0<r.length&&(t=new jl("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Dn)))}function $s(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Un={animationend:$s("Animation","AnimationEnd"),animationiteration:$s("Animation","AnimationIteration"),animationstart:$s("Animation","AnimationStart"),transitionend:$s("Transition","TransitionEnd")},_a={},_h={};wt&&(_h=document.createElement("div").style,"AnimationEvent"in window||(delete Un.animationend.animation,delete Un.animationiteration.animation,delete Un.animationstart.animation),"TransitionEvent"in window||delete Un.transitionend.transition);function Mi(e){if(_a[e])return _a[e];if(!Un[e])return e;var t=Un[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in _h)return _a[e]=t[n];return e}var kh=Mi("animationend"),Sh=Mi("animationiteration"),Nh=Mi("animationstart"),Eh=Mi("transitionend"),Ch=new Map,Bc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xt(e,t){Ch.set(e,t),jn(t,[e])}for(var ka=0;ka<Bc.length;ka++){var Sa=Bc[ka],Pg=Sa.toLowerCase(),Ag=Sa[0].toUpperCase()+Sa.slice(1);Xt(Pg,"on"+Ag)}Xt(kh,"onAnimationEnd");Xt(Sh,"onAnimationIteration");Xt(Nh,"onAnimationStart");Xt("dblclick","onDoubleClick");Xt("focusin","onFocus");Xt("focusout","onBlur");Xt(Eh,"onTransitionEnd");Zn("onMouseEnter",["mouseout","mouseover"]);Zn("onMouseLeave",["mouseout","mouseover"]);Zn("onPointerEnter",["pointerout","pointerover"]);Zn("onPointerLeave",["pointerout","pointerover"]);jn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));jn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));jn("onBeforeInput",["compositionend","keypress","textInput","paste"]);jn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));jn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));jn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ig=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pr));function qc(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Pp(r,t,void 0,e),e.currentTarget=null}function Th(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;qc(s,l,u),i=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;qc(s,l,u),i=c}}}if(ui)throw e=co,ui=!1,co=null,e}function Y(e,t){var n=t[wo];n===void 0&&(n=t[wo]=new Set);var r=e+"__bubble";n.has(r)||(Oh(t,e,2,!1),n.add(r))}function Na(e,t,n){var r=0;t&&(r|=4),Oh(n,e,r,t)}var Ds="_reactListening"+Math.random().toString(36).slice(2);function es(e){if(!e[Ds]){e[Ds]=!0,Dd.forEach(function(n){n!=="selectionchange"&&(Ig.has(n)||Na(n,!1,e),Na(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ds]||(t[Ds]=!0,Na("selectionchange",!1,t))}}function Oh(e,t,n,r){switch(fh(t)){case 1:var s=Gp;break;case 4:s=Jp;break;default:s=yl}n=s.bind(null,t,n,e),s=void 0,!lo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Ea(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=un(l),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}l=l.parentNode}}r=r.return}Zd(function(){var u=i,d=pl(n),h=[];e:{var m=Ch.get(e);if(m!==void 0){var v=jl,p=e;switch(e){case"keypress":if(Zs(n)===0)break e;case"keydown":case"keyup":v=cg;break;case"focusin":p="focus",v=wa;break;case"focusout":p="blur",v=wa;break;case"beforeblur":case"afterblur":v=wa;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Pc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Yp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=hg;break;case kh:case Sh:case Nh:v=eg;break;case Eh:v=mg;break;case"scroll":v=Kp;break;case"wheel":v=gg;break;case"copy":case"cut":case"paste":v=ng;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Ic}var y=(t&4)!==0,b=!y&&e==="scroll",x=y?m!==null?m+"Capture":null:m;y=[];for(var f=u,g;f!==null;){g=f;var j=g.stateNode;if(g.tag===5&&j!==null&&(g=j,x!==null&&(j=Jr(f,x),j!=null&&y.push(ts(f,j,g)))),b)break;f=f.return}0<y.length&&(m=new v(m,p,null,n,d),h.push({event:m,listeners:y}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",m&&n!==ao&&(p=n.relatedTarget||n.fromElement)&&(un(p)||p[jt]))break e;if((v||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,v?(p=n.relatedTarget||n.toElement,v=u,p=p?un(p):null,p!==null&&(b=bn(p),p!==b||p.tag!==5&&p.tag!==6)&&(p=null)):(v=null,p=u),v!==p)){if(y=Pc,j="onMouseLeave",x="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(y=Ic,j="onPointerLeave",x="onPointerEnter",f="pointer"),b=v==null?m:zn(v),g=p==null?m:zn(p),m=new y(j,f+"leave",v,n,d),m.target=b,m.relatedTarget=g,j=null,un(d)===u&&(y=new y(x,f+"enter",p,n,d),y.target=g,y.relatedTarget=b,j=y),b=j,v&&p)t:{for(y=v,x=p,f=0,g=y;g;g=En(g))f++;for(g=0,j=x;j;j=En(j))g++;for(;0<f-g;)y=En(y),f--;for(;0<g-f;)x=En(x),g--;for(;f--;){if(y===x||x!==null&&y===x.alternate)break t;y=En(y),x=En(x)}y=null}else y=null;v!==null&&Hc(h,m,v,y,!1),p!==null&&b!==null&&Hc(h,b,p,y,!0)}}e:{if(m=u?zn(u):window,v=m.nodeName&&m.nodeName.toLowerCase(),v==="select"||v==="input"&&m.type==="file")var _=_g;else if($c(m))if(yh)_=Eg;else{_=Sg;var C=kg}else(v=m.nodeName)&&v.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(_=Ng);if(_&&(_=_(e,u))){xh(h,_,n,d);break e}C&&C(e,m,u),e==="focusout"&&(C=m._wrapperState)&&C.controlled&&m.type==="number"&&to(m,"number",m.value)}switch(C=u?zn(u):window,e){case"focusin":($c(C)||C.contentEditable==="true")&&(Dn=C,mo=u,Dr=null);break;case"focusout":Dr=mo=Dn=null;break;case"mousedown":po=!0;break;case"contextmenu":case"mouseup":case"dragend":po=!1,Fc(h,n,d);break;case"selectionchange":if(Og)break;case"keydown":case"keyup":Fc(h,n,d)}var T;if(_l)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else $n?gh(e,n)&&(P="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(ph&&n.locale!=="ko"&&($n||P!=="onCompositionStart"?P==="onCompositionEnd"&&$n&&(T=mh()):(Dt=d,wl="value"in Dt?Dt.value:Dt.textContent,$n=!0)),C=pi(u,P),0<C.length&&(P=new Ac(P,e,null,n,d),h.push({event:P,listeners:C}),T?P.data=T:(T=vh(n),T!==null&&(P.data=T)))),(T=xg?yg(e,n):wg(e,n))&&(u=pi(u,"onBeforeInput"),0<u.length&&(d=new Ac("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=T))}Th(h,t)})}function ts(e,t,n){return{instance:e,listener:t,currentTarget:n}}function pi(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Jr(e,n),i!=null&&r.unshift(ts(e,i,s)),i=Jr(e,t),i!=null&&r.push(ts(e,i,s))),e=e.return}return r}function En(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Hc(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=Jr(n,i),c!=null&&o.unshift(ts(n,c,l))):s||(c=Jr(n,i),c!=null&&o.push(ts(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Rg=/\r\n?/g,Lg=/\u0000|\uFFFD/g;function Vc(e){return(typeof e=="string"?e:""+e).replace(Rg,`
`).replace(Lg,"")}function Us(e,t,n){if(t=Vc(t),Vc(e)!==t&&n)throw Error(R(425))}function gi(){}var go=null,vo=null;function xo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var yo=typeof setTimeout=="function"?setTimeout:void 0,$g=typeof clearTimeout=="function"?clearTimeout:void 0,Wc=typeof Promise=="function"?Promise:void 0,Dg=typeof queueMicrotask=="function"?queueMicrotask:typeof Wc<"u"?function(e){return Wc.resolve(null).then(e).catch(Ug)}:yo;function Ug(e){setTimeout(function(){throw e})}function Ca(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Yr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Yr(t)}function qt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Gc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var mr=Math.random().toString(36).slice(2),ct="__reactFiber$"+mr,ns="__reactProps$"+mr,jt="__reactContainer$"+mr,wo="__reactEvents$"+mr,zg="__reactListeners$"+mr,Mg="__reactHandles$"+mr;function un(e){var t=e[ct];if(t)return t;for(var n=e.parentNode;n;){if(t=n[jt]||n[ct]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Gc(e);e!==null;){if(n=e[ct])return n;e=Gc(e)}return t}e=n,n=e.parentNode}return null}function ws(e){return e=e[ct]||e[jt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function zn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(R(33))}function Fi(e){return e[ns]||null}var jo=[],Mn=-1;function Zt(e){return{current:e}}function X(e){0>Mn||(e.current=jo[Mn],jo[Mn]=null,Mn--)}function Q(e,t){Mn++,jo[Mn]=e.current,e.current=t}var Yt={},be=Zt(Yt),Pe=Zt(!1),pn=Yt;function er(e,t){var n=e.type.contextTypes;if(!n)return Yt;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ae(e){return e=e.childContextTypes,e!=null}function vi(){X(Pe),X(be)}function Jc(e,t,n){if(be.current!==Yt)throw Error(R(168));Q(be,t),Q(Pe,n)}function Ph(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(R(108,kp(e)||"Unknown",s));return re({},n,r)}function xi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Yt,pn=be.current,Q(be,e),Q(Pe,Pe.current),!0}function Kc(e,t,n){var r=e.stateNode;if(!r)throw Error(R(169));n?(e=Ph(e,t,pn),r.__reactInternalMemoizedMergedChildContext=e,X(Pe),X(be),Q(be,e)):X(Pe),Q(Pe,n)}var pt=null,Bi=!1,Ta=!1;function Ah(e){pt===null?pt=[e]:pt.push(e)}function Fg(e){Bi=!0,Ah(e)}function en(){if(!Ta&&pt!==null){Ta=!0;var e=0,t=J;try{var n=pt;for(J=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}pt=null,Bi=!1}catch(s){throw pt!==null&&(pt=pt.slice(e+1)),rh(gl,en),s}finally{J=t,Ta=!1}}return null}var Fn=[],Bn=0,yi=null,wi=0,He=[],Ve=0,gn=null,gt=1,vt="";function an(e,t){Fn[Bn++]=wi,Fn[Bn++]=yi,yi=e,wi=t}function Ih(e,t,n){He[Ve++]=gt,He[Ve++]=vt,He[Ve++]=gn,gn=e;var r=gt;e=vt;var s=32-nt(r)-1;r&=~(1<<s),n+=1;var i=32-nt(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,gt=1<<32-nt(t)+s|n<<s|r,vt=i+e}else gt=1<<i|n<<s|r,vt=e}function Sl(e){e.return!==null&&(an(e,1),Ih(e,1,0))}function Nl(e){for(;e===yi;)yi=Fn[--Bn],Fn[Bn]=null,wi=Fn[--Bn],Fn[Bn]=null;for(;e===gn;)gn=He[--Ve],He[Ve]=null,vt=He[--Ve],He[Ve]=null,gt=He[--Ve],He[Ve]=null}var De=null,$e=null,Z=!1,tt=null;function Rh(e,t){var n=Ge(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Qc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,De=e,$e=qt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,De=e,$e=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=gn!==null?{id:gt,overflow:vt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ge(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,De=e,$e=null,!0):!1;default:return!1}}function bo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function _o(e){if(Z){var t=$e;if(t){var n=t;if(!Qc(e,t)){if(bo(e))throw Error(R(418));t=qt(n.nextSibling);var r=De;t&&Qc(e,t)?Rh(r,n):(e.flags=e.flags&-4097|2,Z=!1,De=e)}}else{if(bo(e))throw Error(R(418));e.flags=e.flags&-4097|2,Z=!1,De=e}}}function Yc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;De=e}function zs(e){if(e!==De)return!1;if(!Z)return Yc(e),Z=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!xo(e.type,e.memoizedProps)),t&&(t=$e)){if(bo(e))throw Lh(),Error(R(418));for(;t;)Rh(e,t),t=qt(t.nextSibling)}if(Yc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(R(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){$e=qt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}$e=null}}else $e=De?qt(e.stateNode.nextSibling):null;return!0}function Lh(){for(var e=$e;e;)e=qt(e.nextSibling)}function tr(){$e=De=null,Z=!1}function El(e){tt===null?tt=[e]:tt.push(e)}var Bg=kt.ReactCurrentBatchConfig;function _r(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(R(309));var r=n.stateNode}if(!r)throw Error(R(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(R(284));if(!n._owner)throw Error(R(290,e))}return e}function Ms(e,t){throw e=Object.prototype.toString.call(t),Error(R(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Xc(e){var t=e._init;return t(e._payload)}function $h(e){function t(x,f){if(e){var g=x.deletions;g===null?(x.deletions=[f],x.flags|=16):g.push(f)}}function n(x,f){if(!e)return null;for(;f!==null;)t(x,f),f=f.sibling;return null}function r(x,f){for(x=new Map;f!==null;)f.key!==null?x.set(f.key,f):x.set(f.index,f),f=f.sibling;return x}function s(x,f){return x=Gt(x,f),x.index=0,x.sibling=null,x}function i(x,f,g){return x.index=g,e?(g=x.alternate,g!==null?(g=g.index,g<f?(x.flags|=2,f):g):(x.flags|=2,f)):(x.flags|=1048576,f)}function o(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,f,g,j){return f===null||f.tag!==6?(f=$a(g,x.mode,j),f.return=x,f):(f=s(f,g),f.return=x,f)}function c(x,f,g,j){var _=g.type;return _===Ln?d(x,f,g.props.children,j,g.key):f!==null&&(f.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Ot&&Xc(_)===f.type)?(j=s(f,g.props),j.ref=_r(x,f,g),j.return=x,j):(j=ai(g.type,g.key,g.props,null,x.mode,j),j.ref=_r(x,f,g),j.return=x,j)}function u(x,f,g,j){return f===null||f.tag!==4||f.stateNode.containerInfo!==g.containerInfo||f.stateNode.implementation!==g.implementation?(f=Da(g,x.mode,j),f.return=x,f):(f=s(f,g.children||[]),f.return=x,f)}function d(x,f,g,j,_){return f===null||f.tag!==7?(f=mn(g,x.mode,j,_),f.return=x,f):(f=s(f,g),f.return=x,f)}function h(x,f,g){if(typeof f=="string"&&f!==""||typeof f=="number")return f=$a(""+f,x.mode,g),f.return=x,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Ts:return g=ai(f.type,f.key,f.props,null,x.mode,g),g.ref=_r(x,null,f),g.return=x,g;case Rn:return f=Da(f,x.mode,g),f.return=x,f;case Ot:var j=f._init;return h(x,j(f._payload),g)}if(Tr(f)||xr(f))return f=mn(f,x.mode,g,null),f.return=x,f;Ms(x,f)}return null}function m(x,f,g,j){var _=f!==null?f.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return _!==null?null:l(x,f,""+g,j);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ts:return g.key===_?c(x,f,g,j):null;case Rn:return g.key===_?u(x,f,g,j):null;case Ot:return _=g._init,m(x,f,_(g._payload),j)}if(Tr(g)||xr(g))return _!==null?null:d(x,f,g,j,null);Ms(x,g)}return null}function v(x,f,g,j,_){if(typeof j=="string"&&j!==""||typeof j=="number")return x=x.get(g)||null,l(f,x,""+j,_);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Ts:return x=x.get(j.key===null?g:j.key)||null,c(f,x,j,_);case Rn:return x=x.get(j.key===null?g:j.key)||null,u(f,x,j,_);case Ot:var C=j._init;return v(x,f,g,C(j._payload),_)}if(Tr(j)||xr(j))return x=x.get(g)||null,d(f,x,j,_,null);Ms(f,j)}return null}function p(x,f,g,j){for(var _=null,C=null,T=f,P=f=0,D=null;T!==null&&P<g.length;P++){T.index>P?(D=T,T=null):D=T.sibling;var $=m(x,T,g[P],j);if($===null){T===null&&(T=D);break}e&&T&&$.alternate===null&&t(x,T),f=i($,f,P),C===null?_=$:C.sibling=$,C=$,T=D}if(P===g.length)return n(x,T),Z&&an(x,P),_;if(T===null){for(;P<g.length;P++)T=h(x,g[P],j),T!==null&&(f=i(T,f,P),C===null?_=T:C.sibling=T,C=T);return Z&&an(x,P),_}for(T=r(x,T);P<g.length;P++)D=v(T,x,P,g[P],j),D!==null&&(e&&D.alternate!==null&&T.delete(D.key===null?P:D.key),f=i(D,f,P),C===null?_=D:C.sibling=D,C=D);return e&&T.forEach(function(V){return t(x,V)}),Z&&an(x,P),_}function y(x,f,g,j){var _=xr(g);if(typeof _!="function")throw Error(R(150));if(g=_.call(g),g==null)throw Error(R(151));for(var C=_=null,T=f,P=f=0,D=null,$=g.next();T!==null&&!$.done;P++,$=g.next()){T.index>P?(D=T,T=null):D=T.sibling;var V=m(x,T,$.value,j);if(V===null){T===null&&(T=D);break}e&&T&&V.alternate===null&&t(x,T),f=i(V,f,P),C===null?_=V:C.sibling=V,C=V,T=D}if($.done)return n(x,T),Z&&an(x,P),_;if(T===null){for(;!$.done;P++,$=g.next())$=h(x,$.value,j),$!==null&&(f=i($,f,P),C===null?_=$:C.sibling=$,C=$);return Z&&an(x,P),_}for(T=r(x,T);!$.done;P++,$=g.next())$=v(T,x,P,$.value,j),$!==null&&(e&&$.alternate!==null&&T.delete($.key===null?P:$.key),f=i($,f,P),C===null?_=$:C.sibling=$,C=$);return e&&T.forEach(function(F){return t(x,F)}),Z&&an(x,P),_}function b(x,f,g,j){if(typeof g=="object"&&g!==null&&g.type===Ln&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Ts:e:{for(var _=g.key,C=f;C!==null;){if(C.key===_){if(_=g.type,_===Ln){if(C.tag===7){n(x,C.sibling),f=s(C,g.props.children),f.return=x,x=f;break e}}else if(C.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Ot&&Xc(_)===C.type){n(x,C.sibling),f=s(C,g.props),f.ref=_r(x,C,g),f.return=x,x=f;break e}n(x,C);break}else t(x,C);C=C.sibling}g.type===Ln?(f=mn(g.props.children,x.mode,j,g.key),f.return=x,x=f):(j=ai(g.type,g.key,g.props,null,x.mode,j),j.ref=_r(x,f,g),j.return=x,x=j)}return o(x);case Rn:e:{for(C=g.key;f!==null;){if(f.key===C)if(f.tag===4&&f.stateNode.containerInfo===g.containerInfo&&f.stateNode.implementation===g.implementation){n(x,f.sibling),f=s(f,g.children||[]),f.return=x,x=f;break e}else{n(x,f);break}else t(x,f);f=f.sibling}f=Da(g,x.mode,j),f.return=x,x=f}return o(x);case Ot:return C=g._init,b(x,f,C(g._payload),j)}if(Tr(g))return p(x,f,g,j);if(xr(g))return y(x,f,g,j);Ms(x,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,f!==null&&f.tag===6?(n(x,f.sibling),f=s(f,g),f.return=x,x=f):(n(x,f),f=$a(g,x.mode,j),f.return=x,x=f),o(x)):n(x,f)}return b}var nr=$h(!0),Dh=$h(!1),ji=Zt(null),bi=null,qn=null,Cl=null;function Tl(){Cl=qn=bi=null}function Ol(e){var t=ji.current;X(ji),e._currentValue=t}function ko(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Qn(e,t){bi=e,Cl=qn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Oe=!0),e.firstContext=null)}function Ke(e){var t=e._currentValue;if(Cl!==e)if(e={context:e,memoizedValue:t,next:null},qn===null){if(bi===null)throw Error(R(308));qn=e,bi.dependencies={lanes:0,firstContext:e}}else qn=qn.next=e;return t}var dn=null;function Pl(e){dn===null?dn=[e]:dn.push(e)}function Uh(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Pl(t)):(n.next=s.next,s.next=n),t.interleaved=n,bt(e,r)}function bt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Pt=!1;function Al(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function xt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ht(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,W&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,bt(e,n)}return s=r.interleaved,s===null?(t.next=t,Pl(r)):(t.next=s.next,s.next=t),r.interleaved=t,bt(e,n)}function ei(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,vl(e,n)}}function Zc(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function _i(e,t,n,r){var s=e.updateQueue;Pt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;o=0,d=u=c=null,l=i;do{var m=l.lane,v=l.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=e,y=l;switch(m=t,v=n,y.tag){case 1:if(p=y.payload,typeof p=="function"){h=p.call(v,h,m);break e}h=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=y.payload,m=typeof p=="function"?p.call(v,h,m):p,m==null)break e;h=re({},h,m);break e;case 2:Pt=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else v={eventTime:v,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=v,c=h):d=d.next=v,o|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);xn|=o,e.lanes=o,e.memoizedState=h}}function eu(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(R(191,s));s.call(r)}}}var js={},dt=Zt(js),rs=Zt(js),ss=Zt(js);function hn(e){if(e===js)throw Error(R(174));return e}function Il(e,t){switch(Q(ss,t),Q(rs,e),Q(dt,js),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ro(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ro(t,e)}X(dt),Q(dt,t)}function rr(){X(dt),X(rs),X(ss)}function Mh(e){hn(ss.current);var t=hn(dt.current),n=ro(t,e.type);t!==n&&(Q(rs,e),Q(dt,n))}function Rl(e){rs.current===e&&(X(dt),X(rs))}var ee=Zt(0);function ki(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Oa=[];function Ll(){for(var e=0;e<Oa.length;e++)Oa[e]._workInProgressVersionPrimary=null;Oa.length=0}var ti=kt.ReactCurrentDispatcher,Pa=kt.ReactCurrentBatchConfig,vn=0,te=null,le=null,he=null,Si=!1,Ur=!1,is=0,qg=0;function ve(){throw Error(R(321))}function $l(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!st(e[n],t[n]))return!1;return!0}function Dl(e,t,n,r,s,i){if(vn=i,te=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ti.current=e===null||e.memoizedState===null?Gg:Jg,e=n(r,s),Ur){i=0;do{if(Ur=!1,is=0,25<=i)throw Error(R(301));i+=1,he=le=null,t.updateQueue=null,ti.current=Kg,e=n(r,s)}while(Ur)}if(ti.current=Ni,t=le!==null&&le.next!==null,vn=0,he=le=te=null,Si=!1,t)throw Error(R(300));return e}function Ul(){var e=is!==0;return is=0,e}function lt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return he===null?te.memoizedState=he=e:he=he.next=e,he}function Qe(){if(le===null){var e=te.alternate;e=e!==null?e.memoizedState:null}else e=le.next;var t=he===null?te.memoizedState:he.next;if(t!==null)he=t,le=e;else{if(e===null)throw Error(R(310));le=e,e={memoizedState:le.memoizedState,baseState:le.baseState,baseQueue:le.baseQueue,queue:le.queue,next:null},he===null?te.memoizedState=he=e:he=he.next=e}return he}function as(e,t){return typeof t=="function"?t(e):t}function Aa(e){var t=Qe(),n=t.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=e;var r=le,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((vn&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,o=r):c=c.next=h,te.lanes|=d,xn|=d}u=u.next}while(u!==null&&u!==i);c===null?o=r:c.next=l,st(r,t.memoizedState)||(Oe=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,te.lanes|=i,xn|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ia(e){var t=Qe(),n=t.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);st(i,t.memoizedState)||(Oe=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Fh(){}function Bh(e,t){var n=te,r=Qe(),s=t(),i=!st(r.memoizedState,s);if(i&&(r.memoizedState=s,Oe=!0),r=r.queue,zl(Vh.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||he!==null&&he.memoizedState.tag&1){if(n.flags|=2048,os(9,Hh.bind(null,n,r,s,t),void 0,null),fe===null)throw Error(R(349));vn&30||qh(n,t,s)}return s}function qh(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=te.updateQueue,t===null?(t={lastEffect:null,stores:null},te.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Hh(e,t,n,r){t.value=n,t.getSnapshot=r,Wh(t)&&Gh(e)}function Vh(e,t,n){return n(function(){Wh(t)&&Gh(e)})}function Wh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!st(e,n)}catch{return!0}}function Gh(e){var t=bt(e,1);t!==null&&rt(t,e,1,-1)}function tu(e){var t=lt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:e},t.queue=e,e=e.dispatch=Wg.bind(null,te,e),[t.memoizedState,e]}function os(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=te.updateQueue,t===null?(t={lastEffect:null,stores:null},te.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Jh(){return Qe().memoizedState}function ni(e,t,n,r){var s=lt();te.flags|=e,s.memoizedState=os(1|t,n,void 0,r===void 0?null:r)}function qi(e,t,n,r){var s=Qe();r=r===void 0?null:r;var i=void 0;if(le!==null){var o=le.memoizedState;if(i=o.destroy,r!==null&&$l(r,o.deps)){s.memoizedState=os(t,n,i,r);return}}te.flags|=e,s.memoizedState=os(1|t,n,i,r)}function nu(e,t){return ni(8390656,8,e,t)}function zl(e,t){return qi(2048,8,e,t)}function Kh(e,t){return qi(4,2,e,t)}function Qh(e,t){return qi(4,4,e,t)}function Yh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Xh(e,t,n){return n=n!=null?n.concat([e]):null,qi(4,4,Yh.bind(null,t,e),n)}function Ml(){}function Zh(e,t){var n=Qe();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&$l(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ef(e,t){var n=Qe();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&$l(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function tf(e,t,n){return vn&21?(st(n,t)||(n=ah(),te.lanes|=n,xn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Oe=!0),e.memoizedState=n)}function Hg(e,t){var n=J;J=n!==0&&4>n?n:4,e(!0);var r=Pa.transition;Pa.transition={};try{e(!1),t()}finally{J=n,Pa.transition=r}}function nf(){return Qe().memoizedState}function Vg(e,t,n){var r=Wt(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rf(e))sf(t,n);else if(n=Uh(e,t,n,r),n!==null){var s=ke();rt(n,e,r,s),af(n,t,r)}}function Wg(e,t,n){var r=Wt(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rf(e))sf(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,st(l,o)){var c=t.interleaved;c===null?(s.next=s,Pl(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=Uh(e,t,s,r),n!==null&&(s=ke(),rt(n,e,r,s),af(n,t,r))}}function rf(e){var t=e.alternate;return e===te||t!==null&&t===te}function sf(e,t){Ur=Si=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function af(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,vl(e,n)}}var Ni={readContext:Ke,useCallback:ve,useContext:ve,useEffect:ve,useImperativeHandle:ve,useInsertionEffect:ve,useLayoutEffect:ve,useMemo:ve,useReducer:ve,useRef:ve,useState:ve,useDebugValue:ve,useDeferredValue:ve,useTransition:ve,useMutableSource:ve,useSyncExternalStore:ve,useId:ve,unstable_isNewReconciler:!1},Gg={readContext:Ke,useCallback:function(e,t){return lt().memoizedState=[e,t===void 0?null:t],e},useContext:Ke,useEffect:nu,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ni(4194308,4,Yh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ni(4194308,4,e,t)},useInsertionEffect:function(e,t){return ni(4,2,e,t)},useMemo:function(e,t){var n=lt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=lt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Vg.bind(null,te,e),[r.memoizedState,e]},useRef:function(e){var t=lt();return e={current:e},t.memoizedState=e},useState:tu,useDebugValue:Ml,useDeferredValue:function(e){return lt().memoizedState=e},useTransition:function(){var e=tu(!1),t=e[0];return e=Hg.bind(null,e[1]),lt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=te,s=lt();if(Z){if(n===void 0)throw Error(R(407));n=n()}else{if(n=t(),fe===null)throw Error(R(349));vn&30||qh(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,nu(Vh.bind(null,r,i,e),[e]),r.flags|=2048,os(9,Hh.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=lt(),t=fe.identifierPrefix;if(Z){var n=vt,r=gt;n=(r&~(1<<32-nt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=is++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=qg++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Jg={readContext:Ke,useCallback:Zh,useContext:Ke,useEffect:zl,useImperativeHandle:Xh,useInsertionEffect:Kh,useLayoutEffect:Qh,useMemo:ef,useReducer:Aa,useRef:Jh,useState:function(){return Aa(as)},useDebugValue:Ml,useDeferredValue:function(e){var t=Qe();return tf(t,le.memoizedState,e)},useTransition:function(){var e=Aa(as)[0],t=Qe().memoizedState;return[e,t]},useMutableSource:Fh,useSyncExternalStore:Bh,useId:nf,unstable_isNewReconciler:!1},Kg={readContext:Ke,useCallback:Zh,useContext:Ke,useEffect:zl,useImperativeHandle:Xh,useInsertionEffect:Kh,useLayoutEffect:Qh,useMemo:ef,useReducer:Ia,useRef:Jh,useState:function(){return Ia(as)},useDebugValue:Ml,useDeferredValue:function(e){var t=Qe();return le===null?t.memoizedState=e:tf(t,le.memoizedState,e)},useTransition:function(){var e=Ia(as)[0],t=Qe().memoizedState;return[e,t]},useMutableSource:Fh,useSyncExternalStore:Bh,useId:nf,unstable_isNewReconciler:!1};function Xe(e,t){if(e&&e.defaultProps){t=re({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function So(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:re({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Hi={isMounted:function(e){return(e=e._reactInternals)?bn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ke(),s=Wt(e),i=xt(r,s);i.payload=t,n!=null&&(i.callback=n),t=Ht(e,i,s),t!==null&&(rt(t,e,s,r),ei(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ke(),s=Wt(e),i=xt(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Ht(e,i,s),t!==null&&(rt(t,e,s,r),ei(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ke(),r=Wt(e),s=xt(n,r);s.tag=2,t!=null&&(s.callback=t),t=Ht(e,s,r),t!==null&&(rt(t,e,r,n),ei(t,e,r))}};function ru(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!Zr(n,r)||!Zr(s,i):!0}function of(e,t,n){var r=!1,s=Yt,i=t.contextType;return typeof i=="object"&&i!==null?i=Ke(i):(s=Ae(t)?pn:be.current,r=t.contextTypes,i=(r=r!=null)?er(e,s):Yt),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Hi,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function su(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Hi.enqueueReplaceState(t,t.state,null)}function No(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Al(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Ke(i):(i=Ae(t)?pn:be.current,s.context=er(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(So(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Hi.enqueueReplaceState(s,s.state,null),_i(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function sr(e,t){try{var n="",r=t;do n+=_p(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Ra(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Eo(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Qg=typeof WeakMap=="function"?WeakMap:Map;function lf(e,t,n){n=xt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ci||(Ci=!0,Do=r),Eo(e,t)},n}function cf(e,t,n){n=xt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Eo(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Eo(e,t),typeof r!="function"&&(Vt===null?Vt=new Set([this]):Vt.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function iu(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Qg;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=u0.bind(null,e,t,n),t.then(e,e))}function au(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ou(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=xt(-1,1),t.tag=2,Ht(n,t,1))),n.lanes|=1),e)}var Yg=kt.ReactCurrentOwner,Oe=!1;function _e(e,t,n,r){t.child=e===null?Dh(t,null,n,r):nr(t,e.child,n,r)}function lu(e,t,n,r,s){n=n.render;var i=t.ref;return Qn(t,s),r=Dl(e,t,n,r,i,s),n=Ul(),e!==null&&!Oe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,_t(e,t,s)):(Z&&n&&Sl(t),t.flags|=1,_e(e,t,r,s),t.child)}function cu(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!Jl(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,uf(e,t,i,r,s)):(e=ai(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Zr,n(o,r)&&e.ref===t.ref)return _t(e,t,s)}return t.flags|=1,e=Gt(i,r),e.ref=t.ref,e.return=t,t.child=e}function uf(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Zr(i,r)&&e.ref===t.ref)if(Oe=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(Oe=!0);else return t.lanes=e.lanes,_t(e,t,s)}return Co(e,t,n,r,s)}function df(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Q(Vn,Le),Le|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Q(Vn,Le),Le|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Q(Vn,Le),Le|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,Q(Vn,Le),Le|=r;return _e(e,t,s,n),t.child}function hf(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Co(e,t,n,r,s){var i=Ae(n)?pn:be.current;return i=er(t,i),Qn(t,s),n=Dl(e,t,n,r,i,s),r=Ul(),e!==null&&!Oe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,_t(e,t,s)):(Z&&r&&Sl(t),t.flags|=1,_e(e,t,n,s),t.child)}function uu(e,t,n,r,s){if(Ae(n)){var i=!0;xi(t)}else i=!1;if(Qn(t,s),t.stateNode===null)ri(e,t),of(t,n,r),No(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ke(u):(u=Ae(n)?pn:be.current,u=er(t,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&su(t,o,r,u),Pt=!1;var m=t.memoizedState;o.state=m,_i(t,r,o,s),c=t.memoizedState,l!==r||m!==c||Pe.current||Pt?(typeof d=="function"&&(So(t,n,d,r),c=t.memoizedState),(l=Pt||ru(t,n,l,r,m,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,zh(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Xe(t.type,l),o.props=u,h=t.pendingProps,m=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Ke(c):(c=Ae(n)?pn:be.current,c=er(t,c));var v=n.getDerivedStateFromProps;(d=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||m!==c)&&su(t,o,r,c),Pt=!1,m=t.memoizedState,o.state=m,_i(t,r,o,s);var p=t.memoizedState;l!==h||m!==p||Pe.current||Pt?(typeof v=="function"&&(So(t,n,v,r),p=t.memoizedState),(u=Pt||ru(t,n,u,r,m,p,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return To(e,t,n,r,i,s)}function To(e,t,n,r,s,i){hf(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&Kc(t,n,!1),_t(e,t,i);r=t.stateNode,Yg.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=nr(t,e.child,null,i),t.child=nr(t,null,l,i)):_e(e,t,l,i),t.memoizedState=r.state,s&&Kc(t,n,!0),t.child}function ff(e){var t=e.stateNode;t.pendingContext?Jc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Jc(e,t.context,!1),Il(e,t.containerInfo)}function du(e,t,n,r,s){return tr(),El(s),t.flags|=256,_e(e,t,n,r),t.child}var Oo={dehydrated:null,treeContext:null,retryLane:0};function Po(e){return{baseLanes:e,cachePool:null,transitions:null}}function mf(e,t,n){var r=t.pendingProps,s=ee.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Q(ee,s&1),e===null)return _o(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Gi(o,r,0,null),e=mn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Po(n),t.memoizedState=Oo,e):Fl(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Xg(e,t,o,r,l,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Gt(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Gt(l,i):(i=mn(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?Po(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Oo,r}return i=e.child,e=i.sibling,r=Gt(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Fl(e,t){return t=Gi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Fs(e,t,n,r){return r!==null&&El(r),nr(t,e.child,null,n),e=Fl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Xg(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=Ra(Error(R(422))),Fs(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=Gi({mode:"visible",children:r.children},s,0,null),i=mn(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&nr(t,e.child,null,o),t.child.memoizedState=Po(o),t.memoizedState=Oo,i);if(!(t.mode&1))return Fs(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(R(419)),r=Ra(i,r,void 0),Fs(e,t,o,r)}if(l=(o&e.childLanes)!==0,Oe||l){if(r=fe,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,bt(e,s),rt(r,e,s,-1))}return Gl(),r=Ra(Error(R(421))),Fs(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=d0.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,$e=qt(s.nextSibling),De=t,Z=!0,tt=null,e!==null&&(He[Ve++]=gt,He[Ve++]=vt,He[Ve++]=gn,gt=e.id,vt=e.overflow,gn=t),t=Fl(t,r.children),t.flags|=4096,t)}function hu(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ko(e.return,t,n)}function La(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function pf(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(_e(e,t,r.children,n),r=ee.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&hu(e,n,t);else if(e.tag===19)hu(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Q(ee,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&ki(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),La(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&ki(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}La(t,!0,n,null,i);break;case"together":La(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ri(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function _t(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),xn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(R(153));if(t.child!==null){for(e=t.child,n=Gt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Gt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Zg(e,t,n){switch(t.tag){case 3:ff(t),tr();break;case 5:Mh(t);break;case 1:Ae(t.type)&&xi(t);break;case 4:Il(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Q(ji,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Q(ee,ee.current&1),t.flags|=128,null):n&t.child.childLanes?mf(e,t,n):(Q(ee,ee.current&1),e=_t(e,t,n),e!==null?e.sibling:null);Q(ee,ee.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return pf(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Q(ee,ee.current),r)break;return null;case 22:case 23:return t.lanes=0,df(e,t,n)}return _t(e,t,n)}var gf,Ao,vf,xf;gf=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ao=function(){};vf=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,hn(dt.current);var i=null;switch(n){case"input":s=Za(e,s),r=Za(e,r),i=[];break;case"select":s=re({},s,{value:void 0}),r=re({},r,{value:void 0}),i=[];break;case"textarea":s=no(e,s),r=no(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=gi)}so(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Wr.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Wr.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Y("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};xf=function(e,t,n,r){n!==r&&(t.flags|=4)};function kr(e,t){if(!Z)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function xe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function e0(e,t,n){var r=t.pendingProps;switch(Nl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xe(t),null;case 1:return Ae(t.type)&&vi(),xe(t),null;case 3:return r=t.stateNode,rr(),X(Pe),X(be),Ll(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(zs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,tt!==null&&(Mo(tt),tt=null))),Ao(e,t),xe(t),null;case 5:Rl(t);var s=hn(ss.current);if(n=t.type,e!==null&&t.stateNode!=null)vf(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(R(166));return xe(t),null}if(e=hn(dt.current),zs(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[ct]=t,r[ns]=i,e=(t.mode&1)!==0,n){case"dialog":Y("cancel",r),Y("close",r);break;case"iframe":case"object":case"embed":Y("load",r);break;case"video":case"audio":for(s=0;s<Pr.length;s++)Y(Pr[s],r);break;case"source":Y("error",r);break;case"img":case"image":case"link":Y("error",r),Y("load",r);break;case"details":Y("toggle",r);break;case"input":jc(r,i),Y("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Y("invalid",r);break;case"textarea":_c(r,i),Y("invalid",r)}so(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Us(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Us(r.textContent,l,e),s=["children",""+l]):Wr.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Y("scroll",r)}switch(n){case"input":Os(r),bc(r,i,!0);break;case"textarea":Os(r),kc(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=gi)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Vd(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[ct]=t,e[ns]=r,gf(e,t,!1,!1),t.stateNode=e;e:{switch(o=io(n,r),n){case"dialog":Y("cancel",e),Y("close",e),s=r;break;case"iframe":case"object":case"embed":Y("load",e),s=r;break;case"video":case"audio":for(s=0;s<Pr.length;s++)Y(Pr[s],e);s=r;break;case"source":Y("error",e),s=r;break;case"img":case"image":case"link":Y("error",e),Y("load",e),s=r;break;case"details":Y("toggle",e),s=r;break;case"input":jc(e,r),s=Za(e,r),Y("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=re({},r,{value:void 0}),Y("invalid",e);break;case"textarea":_c(e,r),s=no(e,r),Y("invalid",e);break;default:s=r}so(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?Jd(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Wd(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Gr(e,c):typeof c=="number"&&Gr(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Wr.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Y("scroll",e):c!=null&&dl(e,i,c,o))}switch(n){case"input":Os(e),bc(e,r,!1);break;case"textarea":Os(e),kc(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Qt(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Wn(e,!!r.multiple,i,!1):r.defaultValue!=null&&Wn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=gi)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return xe(t),null;case 6:if(e&&t.stateNode!=null)xf(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(R(166));if(n=hn(ss.current),hn(dt.current),zs(t)){if(r=t.stateNode,n=t.memoizedProps,r[ct]=t,(i=r.nodeValue!==n)&&(e=De,e!==null))switch(e.tag){case 3:Us(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Us(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ct]=t,t.stateNode=r}return xe(t),null;case 13:if(X(ee),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Z&&$e!==null&&t.mode&1&&!(t.flags&128))Lh(),tr(),t.flags|=98560,i=!1;else if(i=zs(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(R(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(R(317));i[ct]=t}else tr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;xe(t),i=!1}else tt!==null&&(Mo(tt),tt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ee.current&1?ce===0&&(ce=3):Gl())),t.updateQueue!==null&&(t.flags|=4),xe(t),null);case 4:return rr(),Ao(e,t),e===null&&es(t.stateNode.containerInfo),xe(t),null;case 10:return Ol(t.type._context),xe(t),null;case 17:return Ae(t.type)&&vi(),xe(t),null;case 19:if(X(ee),i=t.memoizedState,i===null)return xe(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)kr(i,!1);else{if(ce!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=ki(e),o!==null){for(t.flags|=128,kr(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Q(ee,ee.current&1|2),t.child}e=e.sibling}i.tail!==null&&ae()>ir&&(t.flags|=128,r=!0,kr(i,!1),t.lanes=4194304)}else{if(!r)if(e=ki(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),kr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Z)return xe(t),null}else 2*ae()-i.renderingStartTime>ir&&n!==1073741824&&(t.flags|=128,r=!0,kr(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ae(),t.sibling=null,n=ee.current,Q(ee,r?n&1|2:n&1),t):(xe(t),null);case 22:case 23:return Wl(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Le&1073741824&&(xe(t),t.subtreeFlags&6&&(t.flags|=8192)):xe(t),null;case 24:return null;case 25:return null}throw Error(R(156,t.tag))}function t0(e,t){switch(Nl(t),t.tag){case 1:return Ae(t.type)&&vi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return rr(),X(Pe),X(be),Ll(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Rl(t),null;case 13:if(X(ee),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(R(340));tr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return X(ee),null;case 4:return rr(),null;case 10:return Ol(t.type._context),null;case 22:case 23:return Wl(),null;case 24:return null;default:return null}}var Bs=!1,ye=!1,n0=typeof WeakSet=="function"?WeakSet:Set,U=null;function Hn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){se(e,t,r)}else n.current=null}function Io(e,t,n){try{n()}catch(r){se(e,t,r)}}var fu=!1;function r0(e,t){if(go=fi,e=bh(),kl(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,m=null;t:for(;;){for(var v;h!==n||s!==0&&h.nodeType!==3||(l=o+s),h!==i||r!==0&&h.nodeType!==3||(c=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(v=h.firstChild)!==null;)m=h,h=v;for(;;){if(h===e)break t;if(m===n&&++u===s&&(l=o),m===i&&++d===r&&(c=o),(v=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=v}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(vo={focusedElem:e,selectionRange:n},fi=!1,U=t;U!==null;)if(t=U,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,U=e;else for(;U!==null;){t=U;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var y=p.memoizedProps,b=p.memoizedState,x=t.stateNode,f=x.getSnapshotBeforeUpdate(t.elementType===t.type?y:Xe(t.type,y),b);x.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(R(163))}}catch(j){se(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,U=e;break}U=t.return}return p=fu,fu=!1,p}function zr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Io(t,n,i)}s=s.next}while(s!==r)}}function Vi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ro(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function yf(e){var t=e.alternate;t!==null&&(e.alternate=null,yf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ct],delete t[ns],delete t[wo],delete t[zg],delete t[Mg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function wf(e){return e.tag===5||e.tag===3||e.tag===4}function mu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||wf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Lo(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=gi));else if(r!==4&&(e=e.child,e!==null))for(Lo(e,t,n),e=e.sibling;e!==null;)Lo(e,t,n),e=e.sibling}function $o(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for($o(e,t,n),e=e.sibling;e!==null;)$o(e,t,n),e=e.sibling}var me=null,Ze=!1;function Et(e,t,n){for(n=n.child;n!==null;)jf(e,t,n),n=n.sibling}function jf(e,t,n){if(ut&&typeof ut.onCommitFiberUnmount=="function")try{ut.onCommitFiberUnmount(Di,n)}catch{}switch(n.tag){case 5:ye||Hn(n,t);case 6:var r=me,s=Ze;me=null,Et(e,t,n),me=r,Ze=s,me!==null&&(Ze?(e=me,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):me.removeChild(n.stateNode));break;case 18:me!==null&&(Ze?(e=me,n=n.stateNode,e.nodeType===8?Ca(e.parentNode,n):e.nodeType===1&&Ca(e,n),Yr(e)):Ca(me,n.stateNode));break;case 4:r=me,s=Ze,me=n.stateNode.containerInfo,Ze=!0,Et(e,t,n),me=r,Ze=s;break;case 0:case 11:case 14:case 15:if(!ye&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Io(n,t,o),s=s.next}while(s!==r)}Et(e,t,n);break;case 1:if(!ye&&(Hn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){se(n,t,l)}Et(e,t,n);break;case 21:Et(e,t,n);break;case 22:n.mode&1?(ye=(r=ye)||n.memoizedState!==null,Et(e,t,n),ye=r):Et(e,t,n);break;default:Et(e,t,n)}}function pu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new n0),t.forEach(function(r){var s=h0.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Ye(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:me=l.stateNode,Ze=!1;break e;case 3:me=l.stateNode.containerInfo,Ze=!0;break e;case 4:me=l.stateNode.containerInfo,Ze=!0;break e}l=l.return}if(me===null)throw Error(R(160));jf(i,o,s),me=null,Ze=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){se(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)bf(t,e),t=t.sibling}function bf(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ye(t,e),at(e),r&4){try{zr(3,e,e.return),Vi(3,e)}catch(y){se(e,e.return,y)}try{zr(5,e,e.return)}catch(y){se(e,e.return,y)}}break;case 1:Ye(t,e),at(e),r&512&&n!==null&&Hn(n,n.return);break;case 5:if(Ye(t,e),at(e),r&512&&n!==null&&Hn(n,n.return),e.flags&32){var s=e.stateNode;try{Gr(s,"")}catch(y){se(e,e.return,y)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&qd(s,i),io(l,o);var u=io(l,i);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?Jd(s,h):d==="dangerouslySetInnerHTML"?Wd(s,h):d==="children"?Gr(s,h):dl(s,d,h,u)}switch(l){case"input":eo(s,i);break;case"textarea":Hd(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?Wn(s,!!i.multiple,v,!1):m!==!!i.multiple&&(i.defaultValue!=null?Wn(s,!!i.multiple,i.defaultValue,!0):Wn(s,!!i.multiple,i.multiple?[]:"",!1))}s[ns]=i}catch(y){se(e,e.return,y)}}break;case 6:if(Ye(t,e),at(e),r&4){if(e.stateNode===null)throw Error(R(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(y){se(e,e.return,y)}}break;case 3:if(Ye(t,e),at(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Yr(t.containerInfo)}catch(y){se(e,e.return,y)}break;case 4:Ye(t,e),at(e);break;case 13:Ye(t,e),at(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Hl=ae())),r&4&&pu(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(ye=(u=ye)||d,Ye(t,e),ye=u):Ye(t,e),at(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(U=e,d=e.child;d!==null;){for(h=U=d;U!==null;){switch(m=U,v=m.child,m.tag){case 0:case 11:case 14:case 15:zr(4,m,m.return);break;case 1:Hn(m,m.return);var p=m.stateNode;if(typeof p.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(y){se(r,n,y)}}break;case 5:Hn(m,m.return);break;case 22:if(m.memoizedState!==null){vu(h);continue}}v!==null?(v.return=m,U=v):vu(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Gd("display",o))}catch(y){se(e,e.return,y)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(y){se(e,e.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ye(t,e),at(e),r&4&&pu(e);break;case 21:break;default:Ye(t,e),at(e)}}function at(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(wf(n)){var r=n;break e}n=n.return}throw Error(R(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Gr(s,""),r.flags&=-33);var i=mu(e);$o(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=mu(e);Lo(e,l,o);break;default:throw Error(R(161))}}catch(c){se(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function s0(e,t,n){U=e,_f(e)}function _f(e,t,n){for(var r=(e.mode&1)!==0;U!==null;){var s=U,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Bs;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||ye;l=Bs;var u=ye;if(Bs=o,(ye=c)&&!u)for(U=s;U!==null;)o=U,c=o.child,o.tag===22&&o.memoizedState!==null?xu(s):c!==null?(c.return=o,U=c):xu(s);for(;i!==null;)U=i,_f(i),i=i.sibling;U=s,Bs=l,ye=u}gu(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,U=i):gu(e)}}function gu(e){for(;U!==null;){var t=U;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ye||Vi(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ye)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Xe(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&eu(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}eu(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Yr(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(R(163))}ye||t.flags&512&&Ro(t)}catch(m){se(t,t.return,m)}}if(t===e){U=null;break}if(n=t.sibling,n!==null){n.return=t.return,U=n;break}U=t.return}}function vu(e){for(;U!==null;){var t=U;if(t===e){U=null;break}var n=t.sibling;if(n!==null){n.return=t.return,U=n;break}U=t.return}}function xu(e){for(;U!==null;){var t=U;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Vi(4,t)}catch(c){se(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){se(t,s,c)}}var i=t.return;try{Ro(t)}catch(c){se(t,i,c)}break;case 5:var o=t.return;try{Ro(t)}catch(c){se(t,o,c)}}}catch(c){se(t,t.return,c)}if(t===e){U=null;break}var l=t.sibling;if(l!==null){l.return=t.return,U=l;break}U=t.return}}var i0=Math.ceil,Ei=kt.ReactCurrentDispatcher,Bl=kt.ReactCurrentOwner,Je=kt.ReactCurrentBatchConfig,W=0,fe=null,oe=null,pe=0,Le=0,Vn=Zt(0),ce=0,ls=null,xn=0,Wi=0,ql=0,Mr=null,Ce=null,Hl=0,ir=1/0,ft=null,Ci=!1,Do=null,Vt=null,qs=!1,Ut=null,Ti=0,Fr=0,Uo=null,si=-1,ii=0;function ke(){return W&6?ae():si!==-1?si:si=ae()}function Wt(e){return e.mode&1?W&2&&pe!==0?pe&-pe:Bg.transition!==null?(ii===0&&(ii=ah()),ii):(e=J,e!==0||(e=window.event,e=e===void 0?16:fh(e.type)),e):1}function rt(e,t,n,r){if(50<Fr)throw Fr=0,Uo=null,Error(R(185));xs(e,n,r),(!(W&2)||e!==fe)&&(e===fe&&(!(W&2)&&(Wi|=n),ce===4&&Lt(e,pe)),Ie(e,r),n===1&&W===0&&!(t.mode&1)&&(ir=ae()+500,Bi&&en()))}function Ie(e,t){var n=e.callbackNode;Bp(e,t);var r=hi(e,e===fe?pe:0);if(r===0)n!==null&&Ec(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Ec(n),t===1)e.tag===0?Fg(yu.bind(null,e)):Ah(yu.bind(null,e)),Dg(function(){!(W&6)&&en()}),n=null;else{switch(oh(r)){case 1:n=gl;break;case 4:n=sh;break;case 16:n=di;break;case 536870912:n=ih;break;default:n=di}n=Pf(n,kf.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function kf(e,t){if(si=-1,ii=0,W&6)throw Error(R(327));var n=e.callbackNode;if(Yn()&&e.callbackNode!==n)return null;var r=hi(e,e===fe?pe:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Oi(e,r);else{t=r;var s=W;W|=2;var i=Nf();(fe!==e||pe!==t)&&(ft=null,ir=ae()+500,fn(e,t));do try{l0();break}catch(l){Sf(e,l)}while(!0);Tl(),Ei.current=i,W=s,oe!==null?t=0:(fe=null,pe=0,t=ce)}if(t!==0){if(t===2&&(s=uo(e),s!==0&&(r=s,t=zo(e,s))),t===1)throw n=ls,fn(e,0),Lt(e,r),Ie(e,ae()),n;if(t===6)Lt(e,r);else{if(s=e.current.alternate,!(r&30)&&!a0(s)&&(t=Oi(e,r),t===2&&(i=uo(e),i!==0&&(r=i,t=zo(e,i))),t===1))throw n=ls,fn(e,0),Lt(e,r),Ie(e,ae()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(R(345));case 2:on(e,Ce,ft);break;case 3:if(Lt(e,r),(r&130023424)===r&&(t=Hl+500-ae(),10<t)){if(hi(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){ke(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=yo(on.bind(null,e,Ce,ft),t);break}on(e,Ce,ft);break;case 4:if(Lt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-nt(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=ae()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*i0(r/1960))-r,10<r){e.timeoutHandle=yo(on.bind(null,e,Ce,ft),r);break}on(e,Ce,ft);break;case 5:on(e,Ce,ft);break;default:throw Error(R(329))}}}return Ie(e,ae()),e.callbackNode===n?kf.bind(null,e):null}function zo(e,t){var n=Mr;return e.current.memoizedState.isDehydrated&&(fn(e,t).flags|=256),e=Oi(e,t),e!==2&&(t=Ce,Ce=n,t!==null&&Mo(t)),e}function Mo(e){Ce===null?Ce=e:Ce.push.apply(Ce,e)}function a0(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!st(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Lt(e,t){for(t&=~ql,t&=~Wi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-nt(t),r=1<<n;e[n]=-1,t&=~r}}function yu(e){if(W&6)throw Error(R(327));Yn();var t=hi(e,0);if(!(t&1))return Ie(e,ae()),null;var n=Oi(e,t);if(e.tag!==0&&n===2){var r=uo(e);r!==0&&(t=r,n=zo(e,r))}if(n===1)throw n=ls,fn(e,0),Lt(e,t),Ie(e,ae()),n;if(n===6)throw Error(R(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,on(e,Ce,ft),Ie(e,ae()),null}function Vl(e,t){var n=W;W|=1;try{return e(t)}finally{W=n,W===0&&(ir=ae()+500,Bi&&en())}}function yn(e){Ut!==null&&Ut.tag===0&&!(W&6)&&Yn();var t=W;W|=1;var n=Je.transition,r=J;try{if(Je.transition=null,J=1,e)return e()}finally{J=r,Je.transition=n,W=t,!(W&6)&&en()}}function Wl(){Le=Vn.current,X(Vn)}function fn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,$g(n)),oe!==null)for(n=oe.return;n!==null;){var r=n;switch(Nl(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&vi();break;case 3:rr(),X(Pe),X(be),Ll();break;case 5:Rl(r);break;case 4:rr();break;case 13:X(ee);break;case 19:X(ee);break;case 10:Ol(r.type._context);break;case 22:case 23:Wl()}n=n.return}if(fe=e,oe=e=Gt(e.current,null),pe=Le=t,ce=0,ls=null,ql=Wi=xn=0,Ce=Mr=null,dn!==null){for(t=0;t<dn.length;t++)if(n=dn[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}dn=null}return e}function Sf(e,t){do{var n=oe;try{if(Tl(),ti.current=Ni,Si){for(var r=te.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Si=!1}if(vn=0,he=le=te=null,Ur=!1,is=0,Bl.current=null,n===null||n.return===null){ce=1,ls=t,oe=null;break}e:{var i=e,o=n.return,l=n,c=t;if(t=pe,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=au(o);if(v!==null){v.flags&=-257,ou(v,o,l,i,t),v.mode&1&&iu(i,u,t),t=v,c=u;var p=t.updateQueue;if(p===null){var y=new Set;y.add(c),t.updateQueue=y}else p.add(c);break e}else{if(!(t&1)){iu(i,u,t),Gl();break e}c=Error(R(426))}}else if(Z&&l.mode&1){var b=au(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),ou(b,o,l,i,t),El(sr(c,l));break e}}i=c=sr(c,l),ce!==4&&(ce=2),Mr===null?Mr=[i]:Mr.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var x=lf(i,c,t);Zc(i,x);break e;case 1:l=c;var f=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof f.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Vt===null||!Vt.has(g)))){i.flags|=65536,t&=-t,i.lanes|=t;var j=cf(i,l,t);Zc(i,j);break e}}i=i.return}while(i!==null)}Cf(n)}catch(_){t=_,oe===n&&n!==null&&(oe=n=n.return);continue}break}while(!0)}function Nf(){var e=Ei.current;return Ei.current=Ni,e===null?Ni:e}function Gl(){(ce===0||ce===3||ce===2)&&(ce=4),fe===null||!(xn&268435455)&&!(Wi&268435455)||Lt(fe,pe)}function Oi(e,t){var n=W;W|=2;var r=Nf();(fe!==e||pe!==t)&&(ft=null,fn(e,t));do try{o0();break}catch(s){Sf(e,s)}while(!0);if(Tl(),W=n,Ei.current=r,oe!==null)throw Error(R(261));return fe=null,pe=0,ce}function o0(){for(;oe!==null;)Ef(oe)}function l0(){for(;oe!==null&&!Ip();)Ef(oe)}function Ef(e){var t=Of(e.alternate,e,Le);e.memoizedProps=e.pendingProps,t===null?Cf(e):oe=t,Bl.current=null}function Cf(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=t0(n,t),n!==null){n.flags&=32767,oe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ce=6,oe=null;return}}else if(n=e0(n,t,Le),n!==null){oe=n;return}if(t=t.sibling,t!==null){oe=t;return}oe=t=e}while(t!==null);ce===0&&(ce=5)}function on(e,t,n){var r=J,s=Je.transition;try{Je.transition=null,J=1,c0(e,t,n,r)}finally{Je.transition=s,J=r}return null}function c0(e,t,n,r){do Yn();while(Ut!==null);if(W&6)throw Error(R(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(R(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(qp(e,i),e===fe&&(oe=fe=null,pe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||qs||(qs=!0,Pf(di,function(){return Yn(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Je.transition,Je.transition=null;var o=J;J=1;var l=W;W|=4,Bl.current=null,r0(e,n),bf(n,e),Tg(vo),fi=!!go,vo=go=null,e.current=n,s0(n),Rp(),W=l,J=o,Je.transition=i}else e.current=n;if(qs&&(qs=!1,Ut=e,Ti=s),i=e.pendingLanes,i===0&&(Vt=null),Dp(n.stateNode),Ie(e,ae()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Ci)throw Ci=!1,e=Do,Do=null,e;return Ti&1&&e.tag!==0&&Yn(),i=e.pendingLanes,i&1?e===Uo?Fr++:(Fr=0,Uo=e):Fr=0,en(),null}function Yn(){if(Ut!==null){var e=oh(Ti),t=Je.transition,n=J;try{if(Je.transition=null,J=16>e?16:e,Ut===null)var r=!1;else{if(e=Ut,Ut=null,Ti=0,W&6)throw Error(R(331));var s=W;for(W|=4,U=e.current;U!==null;){var i=U,o=i.child;if(U.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(U=u;U!==null;){var d=U;switch(d.tag){case 0:case 11:case 15:zr(8,d,i)}var h=d.child;if(h!==null)h.return=d,U=h;else for(;U!==null;){d=U;var m=d.sibling,v=d.return;if(yf(d),d===u){U=null;break}if(m!==null){m.return=v,U=m;break}U=v}}}var p=i.alternate;if(p!==null){var y=p.child;if(y!==null){p.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}U=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,U=o;else e:for(;U!==null;){if(i=U,i.flags&2048)switch(i.tag){case 0:case 11:case 15:zr(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,U=x;break e}U=i.return}}var f=e.current;for(U=f;U!==null;){o=U;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,U=g;else e:for(o=f;U!==null;){if(l=U,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Vi(9,l)}}catch(_){se(l,l.return,_)}if(l===o){U=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,U=j;break e}U=l.return}}if(W=s,en(),ut&&typeof ut.onPostCommitFiberRoot=="function")try{ut.onPostCommitFiberRoot(Di,e)}catch{}r=!0}return r}finally{J=n,Je.transition=t}}return!1}function wu(e,t,n){t=sr(n,t),t=lf(e,t,1),e=Ht(e,t,1),t=ke(),e!==null&&(xs(e,1,t),Ie(e,t))}function se(e,t,n){if(e.tag===3)wu(e,e,n);else for(;t!==null;){if(t.tag===3){wu(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Vt===null||!Vt.has(r))){e=sr(n,e),e=cf(t,e,1),t=Ht(t,e,1),e=ke(),t!==null&&(xs(t,1,e),Ie(t,e));break}}t=t.return}}function u0(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ke(),e.pingedLanes|=e.suspendedLanes&n,fe===e&&(pe&n)===n&&(ce===4||ce===3&&(pe&130023424)===pe&&500>ae()-Hl?fn(e,0):ql|=n),Ie(e,t)}function Tf(e,t){t===0&&(e.mode&1?(t=Is,Is<<=1,!(Is&130023424)&&(Is=4194304)):t=1);var n=ke();e=bt(e,t),e!==null&&(xs(e,t,n),Ie(e,n))}function d0(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Tf(e,n)}function h0(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(R(314))}r!==null&&r.delete(t),Tf(e,n)}var Of;Of=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Pe.current)Oe=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Oe=!1,Zg(e,t,n);Oe=!!(e.flags&131072)}else Oe=!1,Z&&t.flags&1048576&&Ih(t,wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ri(e,t),e=t.pendingProps;var s=er(t,be.current);Qn(t,n),s=Dl(null,t,r,e,s,n);var i=Ul();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ae(r)?(i=!0,xi(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Al(t),s.updater=Hi,t.stateNode=s,s._reactInternals=t,No(t,r,e,n),t=To(null,t,r,!0,i,n)):(t.tag=0,Z&&i&&Sl(t),_e(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ri(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=m0(r),e=Xe(r,e),s){case 0:t=Co(null,t,r,e,n);break e;case 1:t=uu(null,t,r,e,n);break e;case 11:t=lu(null,t,r,e,n);break e;case 14:t=cu(null,t,r,Xe(r.type,e),n);break e}throw Error(R(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Xe(r,s),Co(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Xe(r,s),uu(e,t,r,s,n);case 3:e:{if(ff(t),e===null)throw Error(R(387));r=t.pendingProps,i=t.memoizedState,s=i.element,zh(e,t),_i(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=sr(Error(R(423)),t),t=du(e,t,r,n,s);break e}else if(r!==s){s=sr(Error(R(424)),t),t=du(e,t,r,n,s);break e}else for($e=qt(t.stateNode.containerInfo.firstChild),De=t,Z=!0,tt=null,n=Dh(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(tr(),r===s){t=_t(e,t,n);break e}_e(e,t,r,n)}t=t.child}return t;case 5:return Mh(t),e===null&&_o(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,xo(r,s)?o=null:i!==null&&xo(r,i)&&(t.flags|=32),hf(e,t),_e(e,t,o,n),t.child;case 6:return e===null&&_o(t),null;case 13:return mf(e,t,n);case 4:return Il(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=nr(t,null,r,n):_e(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Xe(r,s),lu(e,t,r,s,n);case 7:return _e(e,t,t.pendingProps,n),t.child;case 8:return _e(e,t,t.pendingProps.children,n),t.child;case 12:return _e(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,Q(ji,r._currentValue),r._currentValue=o,i!==null)if(st(i.value,o)){if(i.children===s.children&&!Pe.current){t=_t(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=xt(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),ko(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(R(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),ko(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}_e(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Qn(t,n),s=Ke(s),r=r(s),t.flags|=1,_e(e,t,r,n),t.child;case 14:return r=t.type,s=Xe(r,t.pendingProps),s=Xe(r.type,s),cu(e,t,r,s,n);case 15:return uf(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Xe(r,s),ri(e,t),t.tag=1,Ae(r)?(e=!0,xi(t)):e=!1,Qn(t,n),of(t,r,s),No(t,r,s,n),To(null,t,r,!0,e,n);case 19:return pf(e,t,n);case 22:return df(e,t,n)}throw Error(R(156,t.tag))};function Pf(e,t){return rh(e,t)}function f0(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ge(e,t,n,r){return new f0(e,t,n,r)}function Jl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function m0(e){if(typeof e=="function")return Jl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===fl)return 11;if(e===ml)return 14}return 2}function Gt(e,t){var n=e.alternate;return n===null?(n=Ge(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ai(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")Jl(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Ln:return mn(n.children,s,i,t);case hl:o=8,s|=8;break;case Ka:return e=Ge(12,n,t,s|2),e.elementType=Ka,e.lanes=i,e;case Qa:return e=Ge(13,n,t,s),e.elementType=Qa,e.lanes=i,e;case Ya:return e=Ge(19,n,t,s),e.elementType=Ya,e.lanes=i,e;case Md:return Gi(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ud:o=10;break e;case zd:o=9;break e;case fl:o=11;break e;case ml:o=14;break e;case Ot:o=16,r=null;break e}throw Error(R(130,e==null?e:typeof e,""))}return t=Ge(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function mn(e,t,n,r){return e=Ge(7,e,r,t),e.lanes=n,e}function Gi(e,t,n,r){return e=Ge(22,e,r,t),e.elementType=Md,e.lanes=n,e.stateNode={isHidden:!1},e}function $a(e,t,n){return e=Ge(6,e,null,t),e.lanes=n,e}function Da(e,t,n){return t=Ge(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function p0(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=va(0),this.expirationTimes=va(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=va(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Kl(e,t,n,r,s,i,o,l,c){return e=new p0(e,t,n,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ge(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Al(i),e}function g0(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Rn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Af(e){if(!e)return Yt;e=e._reactInternals;e:{if(bn(e)!==e||e.tag!==1)throw Error(R(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ae(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(R(171))}if(e.tag===1){var n=e.type;if(Ae(n))return Ph(e,n,t)}return t}function If(e,t,n,r,s,i,o,l,c){return e=Kl(n,r,!0,e,s,i,o,l,c),e.context=Af(null),n=e.current,r=ke(),s=Wt(n),i=xt(r,s),i.callback=t??null,Ht(n,i,s),e.current.lanes=s,xs(e,s,r),Ie(e,r),e}function Ji(e,t,n,r){var s=t.current,i=ke(),o=Wt(s);return n=Af(n),t.context===null?t.context=n:t.pendingContext=n,t=xt(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Ht(s,t,o),e!==null&&(rt(e,s,o,i),ei(e,s,o)),o}function Pi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ju(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ql(e,t){ju(e,t),(e=e.alternate)&&ju(e,t)}function v0(){return null}var Rf=typeof reportError=="function"?reportError:function(e){console.error(e)};function Yl(e){this._internalRoot=e}Ki.prototype.render=Yl.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(R(409));Ji(e,t,null,null)};Ki.prototype.unmount=Yl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;yn(function(){Ji(null,e,null,null)}),t[jt]=null}};function Ki(e){this._internalRoot=e}Ki.prototype.unstable_scheduleHydration=function(e){if(e){var t=uh();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&t!==0&&t<Rt[n].priority;n++);Rt.splice(n,0,e),n===0&&hh(e)}};function Xl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Qi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function bu(){}function x0(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Pi(o);i.call(u)}}var o=If(t,r,e,0,null,!1,!1,"",bu);return e._reactRootContainer=o,e[jt]=o.current,es(e.nodeType===8?e.parentNode:e),yn(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=Pi(c);l.call(u)}}var c=Kl(e,0,!1,null,null,!1,!1,"",bu);return e._reactRootContainer=c,e[jt]=c.current,es(e.nodeType===8?e.parentNode:e),yn(function(){Ji(t,c,n,r)}),c}function Yi(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=Pi(o);l.call(c)}}Ji(t,o,e,s)}else o=x0(n,t,e,s,r);return Pi(o)}lh=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Or(t.pendingLanes);n!==0&&(vl(t,n|1),Ie(t,ae()),!(W&6)&&(ir=ae()+500,en()))}break;case 13:yn(function(){var r=bt(e,1);if(r!==null){var s=ke();rt(r,e,1,s)}}),Ql(e,1)}};xl=function(e){if(e.tag===13){var t=bt(e,134217728);if(t!==null){var n=ke();rt(t,e,134217728,n)}Ql(e,134217728)}};ch=function(e){if(e.tag===13){var t=Wt(e),n=bt(e,t);if(n!==null){var r=ke();rt(n,e,t,r)}Ql(e,t)}};uh=function(){return J};dh=function(e,t){var n=J;try{return J=e,t()}finally{J=n}};oo=function(e,t,n){switch(t){case"input":if(eo(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Fi(r);if(!s)throw Error(R(90));Bd(r),eo(r,s)}}}break;case"textarea":Hd(e,n);break;case"select":t=n.value,t!=null&&Wn(e,!!n.multiple,t,!1)}};Yd=Vl;Xd=yn;var y0={usingClientEntryPoint:!1,Events:[ws,zn,Fi,Kd,Qd,Vl]},Sr={findFiberByHostInstance:un,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},w0={bundleType:Sr.bundleType,version:Sr.version,rendererPackageName:Sr.rendererPackageName,rendererConfig:Sr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:kt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=th(e),e===null?null:e.stateNode},findFiberByHostInstance:Sr.findFiberByHostInstance||v0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hs.isDisabled&&Hs.supportsFiber)try{Di=Hs.inject(w0),ut=Hs}catch{}}Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=y0;Me.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Xl(t))throw Error(R(200));return g0(e,t,null,n)};Me.createRoot=function(e,t){if(!Xl(e))throw Error(R(299));var n=!1,r="",s=Rf;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Kl(e,1,!1,null,null,n,!1,r,s),e[jt]=t.current,es(e.nodeType===8?e.parentNode:e),new Yl(t)};Me.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(R(188)):(e=Object.keys(e).join(","),Error(R(268,e)));return e=th(t),e=e===null?null:e.stateNode,e};Me.flushSync=function(e){return yn(e)};Me.hydrate=function(e,t,n){if(!Qi(t))throw Error(R(200));return Yi(null,e,t,!0,n)};Me.hydrateRoot=function(e,t,n){if(!Xl(e))throw Error(R(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Rf;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=If(t,null,e,1,n??null,s,!1,i,o),e[jt]=t.current,es(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Ki(t)};Me.render=function(e,t,n){if(!Qi(t))throw Error(R(200));return Yi(null,e,t,!1,n)};Me.unmountComponentAtNode=function(e){if(!Qi(e))throw Error(R(40));return e._reactRootContainer?(yn(function(){Yi(null,null,e,!1,function(){e._reactRootContainer=null,e[jt]=null})}),!0):!1};Me.unstable_batchedUpdates=Vl;Me.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Qi(n))throw Error(R(200));if(e==null||e._reactInternals===void 0)throw Error(R(38));return Yi(e,t,n,!1,r)};Me.version="18.3.1-next-f1338f8080-20240426";function Lf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Lf)}catch(e){console.error(e)}}Lf(),Rd.exports=Me;var j0=Rd.exports,$f,_u=j0;$f=_u.createRoot,_u.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cs(){return cs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cs.apply(this,arguments)}var zt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(zt||(zt={}));const ku="popstate";function b0(e){e===void 0&&(e={});function t(s,i){let{pathname:o="/",search:l="",hash:c=""}=_n(s.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Fo("",{pathname:o,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){let o=s.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let c=s.location.href,u=c.indexOf("#");l=u===-1?c:c.slice(0,u)}return l+"#"+(typeof i=="string"?i:Ai(i))}function r(s,i){Zl(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return k0(t,n,r,e)}function ne(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Zl(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function _0(){return Math.random().toString(36).substr(2,8)}function Su(e,t){return{usr:e.state,key:e.key,idx:t}}function Fo(e,t,n,r){return n===void 0&&(n=null),cs({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?_n(t):t,{state:n,key:t&&t.key||r||_0()})}function Ai(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function _n(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function k0(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,l=zt.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(cs({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=zt.Pop;let b=d(),x=b==null?null:b-u;u=b,c&&c({action:l,location:y.location,delta:x})}function m(b,x){l=zt.Push;let f=Fo(y.location,b,x);n&&n(f,b),u=d()+1;let g=Su(f,u),j=y.createHref(f);try{o.pushState(g,"",j)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;s.location.assign(j)}i&&c&&c({action:l,location:y.location,delta:1})}function v(b,x){l=zt.Replace;let f=Fo(y.location,b,x);n&&n(f,b),u=d();let g=Su(f,u),j=y.createHref(f);o.replaceState(g,"",j),i&&c&&c({action:l,location:y.location,delta:0})}function p(b){let x=s.location.origin!=="null"?s.location.origin:s.location.href,f=typeof b=="string"?b:Ai(b);return f=f.replace(/ $/,"%20"),ne(x,"No window.location.(origin|href) available to create URL for href: "+f),new URL(f,x)}let y={get action(){return l},get location(){return e(s,o)},listen(b){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(ku,h),c=b,()=>{s.removeEventListener(ku,h),c=null}},createHref(b){return t(s,b)},createURL:p,encodeLocation(b){let x=p(b);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:m,replace:v,go(b){return o.go(b)}};return y}var Nu;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Nu||(Nu={}));function S0(e,t,n){return n===void 0&&(n="/"),N0(e,t,n)}function N0(e,t,n,r){let s=typeof t=="string"?_n(t):t,i=ar(s.pathname||"/",n);if(i==null)return null;let o=Df(e);E0(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=U0(i);l=$0(o[c],u)}return l}function Df(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(ne(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Jt([r,c.relativePath]),d=n.concat(c);i.children&&i.children.length>0&&(ne(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Df(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:R0(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of Uf(i.path))s(i,o,c)}),t}function Uf(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=Uf(r.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function E0(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:L0(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const C0=/^:[\w-]+$/,T0=3,O0=2,P0=1,A0=10,I0=-2,Eu=e=>e==="*";function R0(e,t){let n=e.split("/"),r=n.length;return n.some(Eu)&&(r+=I0),t&&(r+=O0),n.filter(s=>!Eu(s)).reduce((s,i)=>s+(C0.test(i)?T0:i===""?P0:A0),r)}function L0(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function $0(e,t,n){let{routesMeta:r}=e,s={},i="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=Bo({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:Jt([i,h.pathname]),pathnameBase:B0(Jt([i,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(i=Jt([i,h.pathnameBase]))}return o}function Bo(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=D0(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:m,isOptional:v}=d;if(m==="*"){let y=l[h]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const p=l[h];return v&&!p?u[m]=void 0:u[m]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function D0(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Zl(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function U0(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Zl(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function ar(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function z0(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?_n(e):e;return{pathname:n?n.startsWith("/")?n:M0(n,t):t,search:q0(r),hash:H0(s)}}function M0(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Ua(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function F0(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function ec(e,t){let n=F0(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function tc(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=_n(e):(s=cs({},e),ne(!s.pathname||!s.pathname.includes("?"),Ua("?","pathname","search",s)),ne(!s.pathname||!s.pathname.includes("#"),Ua("#","pathname","hash",s)),ne(!s.search||!s.search.includes("#"),Ua("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=n;else{let h=t.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),h-=1;s.pathname=m.join("/")}l=h>=0?t[h]:"/"}let c=z0(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Jt=e=>e.join("/").replace(/\/\/+/g,"/"),B0=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),q0=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,H0=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function V0(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const zf=["post","put","patch","delete"];new Set(zf);const W0=["get",...zf];new Set(W0);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function us(){return us=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},us.apply(this,arguments)}const Xi=w.createContext(null),Mf=w.createContext(null),St=w.createContext(null),Zi=w.createContext(null),ht=w.createContext({outlet:null,matches:[],isDataRoute:!1}),Ff=w.createContext(null);function G0(e,t){let{relative:n}=t===void 0?{}:t;pr()||ne(!1);let{basename:r,navigator:s}=w.useContext(St),{hash:i,pathname:o,search:l}=ea(e,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:Jt([r,o])),s.createHref({pathname:c,search:l,hash:i})}function pr(){return w.useContext(Zi)!=null}function Nt(){return pr()||ne(!1),w.useContext(Zi).location}function Bf(e){w.useContext(St).static||w.useLayoutEffect(e)}function Be(){let{isDataRoute:e}=w.useContext(ht);return e?cv():J0()}function J0(){pr()||ne(!1);let e=w.useContext(Xi),{basename:t,future:n,navigator:r}=w.useContext(St),{matches:s}=w.useContext(ht),{pathname:i}=Nt(),o=JSON.stringify(ec(s,n.v7_relativeSplatPath)),l=w.useRef(!1);return Bf(()=>{l.current=!0}),w.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let h=tc(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Jt([t,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[t,r,o,i,e])}const K0=w.createContext(null);function Q0(e){let t=w.useContext(ht).outlet;return t&&w.createElement(K0.Provider,{value:e},t)}function Y0(){let{matches:e}=w.useContext(ht),t=e[e.length-1];return t?t.params:{}}function ea(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=w.useContext(St),{matches:s}=w.useContext(ht),{pathname:i}=Nt(),o=JSON.stringify(ec(s,r.v7_relativeSplatPath));return w.useMemo(()=>tc(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function X0(e,t){return Z0(e,t)}function Z0(e,t,n,r){pr()||ne(!1);let{navigator:s,static:i}=w.useContext(St),{matches:o}=w.useContext(ht),l=o[o.length-1],c=l?l.params:{};l&&l.pathname;let u=l?l.pathnameBase:"/";l&&l.route;let d=Nt(),h;if(t){var m;let x=typeof t=="string"?_n(t):t;u==="/"||(m=x.pathname)!=null&&m.startsWith(u)||ne(!1),h=x}else h=d;let v=h.pathname||"/",p=v;if(u!=="/"){let x=u.replace(/^\//,"").split("/");p="/"+v.replace(/^\//,"").split("/").slice(x.length).join("/")}let y=S0(e,{pathname:p}),b=sv(y&&y.map(x=>Object.assign({},x,{params:Object.assign({},c,x.params),pathname:Jt([u,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?u:Jt([u,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),o,n,r);return t&&b?w.createElement(Zi.Provider,{value:{location:us({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:zt.Pop}},b):b}function ev(){let e=lv(),t=V0(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),n?w.createElement("pre",{style:s},n):null,null)}const tv=w.createElement(ev,null);class nv extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?w.createElement(ht.Provider,{value:this.props.routeContext},w.createElement(Ff.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function rv(e){let{routeContext:t,match:n,children:r}=e,s=w.useContext(Xi);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(ht.Provider,{value:t},r)}function sv(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(s=n)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||ne(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:m,errors:v}=n,p=h.route.loader&&m[h.route.id]===void 0&&(!v||v[h.route.id]===void 0);if(h.route.lazy||p){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,m)=>{let v,p=!1,y=null,b=null;n&&(v=l&&h.route.id?l[h.route.id]:void 0,y=h.route.errorElement||tv,c&&(u<0&&m===0?(uv("route-fallback"),p=!0,b=null):u===m&&(p=!0,b=h.route.hydrateFallbackElement||null)));let x=t.concat(o.slice(0,m+1)),f=()=>{let g;return v?g=y:p?g=b:h.route.Component?g=w.createElement(h.route.Component,null):h.route.element?g=h.route.element:g=d,w.createElement(rv,{match:h,routeContext:{outlet:d,matches:x,isDataRoute:n!=null},children:g})};return n&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?w.createElement(nv,{location:n.location,revalidation:n.revalidation,component:y,error:v,children:f(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):f()},null)}var qf=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(qf||{}),Hf=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Hf||{});function iv(e){let t=w.useContext(Xi);return t||ne(!1),t}function av(e){let t=w.useContext(Mf);return t||ne(!1),t}function ov(e){let t=w.useContext(ht);return t||ne(!1),t}function Vf(e){let t=ov(),n=t.matches[t.matches.length-1];return n.route.id||ne(!1),n.route.id}function lv(){var e;let t=w.useContext(Ff),n=av(),r=Vf();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function cv(){let{router:e}=iv(qf.UseNavigateStable),t=Vf(Hf.UseNavigateStable),n=w.useRef(!1);return Bf(()=>{n.current=!0}),w.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,us({fromRouteId:t},i)))},[e,t])}const Cu={};function uv(e,t,n){Cu[e]||(Cu[e]=!0)}function dv(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Cn(e){let{to:t,replace:n,state:r,relative:s}=e;pr()||ne(!1);let{future:i,static:o}=w.useContext(St),{matches:l}=w.useContext(ht),{pathname:c}=Nt(),u=Be(),d=tc(t,ec(l,i.v7_relativeSplatPath),c,s==="path"),h=JSON.stringify(d);return w.useEffect(()=>u(JSON.parse(h),{replace:n,state:r,relative:s}),[u,h,s,n,r]),null}function hv(e){return Q0(e.context)}function ue(e){ne(!1)}function fv(e){let{basename:t="/",children:n=null,location:r,navigationType:s=zt.Pop,navigator:i,static:o=!1,future:l}=e;pr()&&ne(!1);let c=t.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:c,navigator:i,static:o,future:us({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof r=="string"&&(r=_n(r));let{pathname:d="/",search:h="",hash:m="",state:v=null,key:p="default"}=r,y=w.useMemo(()=>{let b=ar(d,c);return b==null?null:{location:{pathname:b,search:h,hash:m,state:v,key:p},navigationType:s}},[c,d,h,m,v,p,s]);return y==null?null:w.createElement(St.Provider,{value:u},w.createElement(Zi.Provider,{children:n,value:y}))}function mv(e){let{children:t,location:n}=e;return X0(qo(t),n)}new Promise(()=>{});function qo(e,t){t===void 0&&(t=[]);let n=[];return w.Children.forEach(e,(r,s)=>{if(!w.isValidElement(r))return;let i=[...t,s];if(r.type===w.Fragment){n.push.apply(n,qo(r.props.children,i));return}r.type!==ue&&ne(!1),!r.props.index||!r.props.children||ne(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=qo(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ii(){return Ii=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ii.apply(this,arguments)}function Wf(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function pv(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function gv(e,t){return e.button===0&&(!t||t==="_self")&&!pv(e)}function Ho(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function vv(e,t){let n=Ho(e);return t&&t.forEach((r,s)=>{n.has(s)||t.getAll(s).forEach(i=>{n.append(s,i)})}),n}const xv=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],yv=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],wv="6";try{window.__reactRouterVersion=wv}catch{}const jv=w.createContext({isTransitioning:!1}),bv="startTransition",Tu=up[bv];function _v(e){let{basename:t,children:n,future:r,window:s}=e,i=w.useRef();i.current==null&&(i.current=b0({window:s,v5Compat:!0}));let o=i.current,[l,c]=w.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=w.useCallback(h=>{u&&Tu?Tu(()=>c(h)):c(h)},[c,u]);return w.useLayoutEffect(()=>o.listen(d),[o,d]),w.useEffect(()=>dv(r),[r]),w.createElement(fv,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const kv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Sv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,We=w.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=t,m=Wf(t,xv),{basename:v}=w.useContext(St),p,y=!1;if(typeof u=="string"&&Sv.test(u)&&(p=u,kv))try{let g=new URL(window.location.href),j=u.startsWith("//")?new URL(g.protocol+u):new URL(u),_=ar(j.pathname,v);j.origin===g.origin&&_!=null?u=_+j.search+j.hash:y=!0}catch{}let b=G0(u,{relative:s}),x=Ev(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:h});function f(g){r&&r(g),g.defaultPrevented||x(g)}return w.createElement("a",Ii({},m,{href:p||b,onClick:y||i?r:f,ref:n,target:c}))}),Vo=w.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:s=!1,className:i="",end:o=!1,style:l,to:c,viewTransition:u,children:d}=t,h=Wf(t,yv),m=ea(c,{relative:h.relative}),v=Nt(),p=w.useContext(Mf),{navigator:y,basename:b}=w.useContext(St),x=p!=null&&Cv(m)&&u===!0,f=y.encodeLocation?y.encodeLocation(m).pathname:m.pathname,g=v.pathname,j=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;s||(g=g.toLowerCase(),j=j?j.toLowerCase():null,f=f.toLowerCase()),j&&b&&(j=ar(j,b)||j);const _=f!=="/"&&f.endsWith("/")?f.length-1:f.length;let C=g===f||!o&&g.startsWith(f)&&g.charAt(_)==="/",T=j!=null&&(j===f||!o&&j.startsWith(f)&&j.charAt(f.length)==="/"),P={isActive:C,isPending:T,isTransitioning:x},D=C?r:void 0,$;typeof i=="function"?$=i(P):$=[i,C?"active":null,T?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let V=typeof l=="function"?l(P):l;return w.createElement(We,Ii({},h,{"aria-current":D,className:$,ref:n,style:V,to:c,viewTransition:u}),typeof d=="function"?d(P):d)});var Wo;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Wo||(Wo={}));var Ou;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Ou||(Ou={}));function Nv(e){let t=w.useContext(Xi);return t||ne(!1),t}function Ev(e,t){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=Be(),u=Nt(),d=ea(e,{relative:o});return w.useCallback(h=>{if(gv(h,n)){h.preventDefault();let m=r!==void 0?r:Ai(u)===Ai(d);c(e,{replace:m,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,r,s,n,e,i,o,l])}function Gf(e){let t=w.useRef(Ho(e)),n=w.useRef(!1),r=Nt(),s=w.useMemo(()=>vv(r.search,n.current?null:t.current),[r.search]),i=Be(),o=w.useCallback((l,c)=>{const u=Ho(typeof l=="function"?l(s):l);n.current=!0,i("?"+u,c)},[i,s]);return[s,o]}function Cv(e,t){t===void 0&&(t={});let n=w.useContext(jv);n==null&&ne(!1);let{basename:r}=Nv(Wo.useViewTransitionState),s=ea(e,{relative:t.relative});if(!n.isTransitioning)return!1;let i=ar(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=ar(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Bo(s.pathname,o)!=null||Bo(s.pathname,i)!=null}const Tv="modulepreload",Ov=function(e){return"/accreda.github.io/"+e},Pu={},or=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=Ov(c),c in Pu)return;Pu[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":Tv,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((m,v)=>{h.addEventListener("load",m),h.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},Pv=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>or(async()=>{const{default:r}=await Promise.resolve().then(()=>gr);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class nc extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class Av extends nc{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Iv extends nc{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Rv extends nc{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Go;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Go||(Go={}));var Lv=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class $v{constructor(t,{headers:n={},customFetch:r,region:s=Go.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=Pv(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return Lv(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let l={},{region:c}=n;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let u;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(l["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(l["Content-Type"]="application/json",u=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:u}).catch(p=>{throw new Av(p)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new Iv(d);if(!d.ok)throw new Rv(d);let m=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),v;return m==="application/json"?v=yield d.json():m==="application/octet-stream"?v=yield d.blob():m==="text/event-stream"?v=d:m==="multipart/form-data"?v=yield d.formData():v=yield d.text(),{data:v,error:null}}catch(s){return{data:null,error:s}}})}}var Te={},rc={},ta={},bs={},na={},ra={},Dv=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},lr=Dv();const Uv=lr.fetch,Jf=lr.fetch.bind(lr),Kf=lr.Headers,zv=lr.Request,Mv=lr.Response,gr=Object.freeze(Object.defineProperty({__proto__:null,Headers:Kf,Request:zv,Response:Mv,default:Jf,fetch:Uv},Symbol.toStringTag,{value:"Module"})),Fv=Jm(gr);var sa={};Object.defineProperty(sa,"__esModule",{value:!0});let Bv=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};sa.default=Bv;var Qf=je&&je.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ra,"__esModule",{value:!0});const qv=Qf(Fv),Hv=Qf(sa);let Vv=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=qv.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c;let u=null,d=null,h=null,m=i.status,v=i.statusText;if(i.ok){if(this.method!=="HEAD"){const x=await i.text();x===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=x:d=JSON.parse(x))}const y=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),b=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");y&&b&&b.length>1&&(h=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,m=406,v="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const y=await i.text();try{u=JSON.parse(y),Array.isArray(u)&&i.status===404&&(d=[],u=null,m=200,v="OK")}catch{i.status===404&&y===""?(m=204,v="No Content"):u={message:y}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,m=200,v="OK"),u&&this.shouldThrowOnError)throw new Hv.default(u)}return{error:u,data:d,count:h,status:m,statusText:v}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}returns(){return this}overrideTypes(){return this}};ra.default=Vv;var Wv=je&&je.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(na,"__esModule",{value:!0});const Gv=Wv(ra);let Jv=class extends Gv.default{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};na.default=Jv;var Kv=je&&je.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(bs,"__esModule",{value:!0});const Qv=Kv(na);let Yv=class extends Qv.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};bs.default=Yv;var Xv=je&&je.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ta,"__esModule",{value:!0});const Nr=Xv(bs);let Zv=class{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=n,this.schema=r,this.fetch=s}select(t,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new Nr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Nr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Nr.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new Nr.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Nr.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};ta.default=Zv;var ia={},aa={};Object.defineProperty(aa,"__esModule",{value:!0});aa.version=void 0;aa.version="0.0.0-automated";Object.defineProperty(ia,"__esModule",{value:!0});ia.DEFAULT_HEADERS=void 0;const ex=aa;ia.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${ex.version}`};var Yf=je&&je.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(rc,"__esModule",{value:!0});const tx=Yf(ta),nx=Yf(bs),rx=ia;let sx=class Xf{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},rx.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new tx.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Xf(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let c;r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{l.searchParams.append(d,h)})):(o="POST",c=n);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new nx.default({method:o,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};rc.default=sx;var vr=je&&je.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Te,"__esModule",{value:!0});Te.PostgrestError=Te.PostgrestBuilder=Te.PostgrestTransformBuilder=Te.PostgrestFilterBuilder=Te.PostgrestQueryBuilder=Te.PostgrestClient=void 0;const Zf=vr(rc);Te.PostgrestClient=Zf.default;const em=vr(ta);Te.PostgrestQueryBuilder=em.default;const tm=vr(bs);Te.PostgrestFilterBuilder=tm.default;const nm=vr(na);Te.PostgrestTransformBuilder=nm.default;const rm=vr(ra);Te.PostgrestBuilder=rm.default;const sm=vr(sa);Te.PostgrestError=sm.default;var ix=Te.default={PostgrestClient:Zf.default,PostgrestQueryBuilder:em.default,PostgrestFilterBuilder:tm.default,PostgrestTransformBuilder:nm.default,PostgrestBuilder:rm.default,PostgrestError:sm.default};const{PostgrestClient:ax,PostgrestQueryBuilder:vb,PostgrestFilterBuilder:xb,PostgrestTransformBuilder:yb,PostgrestBuilder:wb,PostgrestError:jb}=ix,ox="2.11.2",lx={"X-Client-Info":`realtime-js/${ox}`},cx="1.0.0",im=1e4,ux=1e3;var Xn;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Xn||(Xn={}));var Re;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Re||(Re={}));var et;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(et||(et={}));var Jo;(function(e){e.websocket="websocket"})(Jo||(Jo={}));var cn;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(cn||(cn={}));class dx{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const l=r.decode(t.slice(o,o+s));o=o+s;const c=r.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class am{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var K;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(K||(K={}));const Au=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((i,o)=>(i[o]=hx(o,e,t,s),i),{})},hx=(e,t,n,r)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,o=n[e];return i&&!r.includes(i)?om(i,o):Ko(o)},om=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return gx(t,n)}switch(e){case K.bool:return fx(t);case K.float4:case K.float8:case K.int2:case K.int4:case K.int8:case K.numeric:case K.oid:return mx(t);case K.json:case K.jsonb:return px(t);case K.timestamp:return vx(t);case K.abstime:case K.date:case K.daterange:case K.int4range:case K.int8range:case K.money:case K.reltime:case K.text:case K.time:case K.timestamptz:case K.timetz:case K.tsrange:case K.tstzrange:return Ko(t);default:return Ko(t)}},Ko=e=>e,fx=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},mx=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},px=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},gx=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>om(t,l))}return e},vx=e=>typeof e=="string"?e.replace(" ","T"):e,lm=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class za{constructor(t,n,r={},s=im){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Iu;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Iu||(Iu={}));class Br{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Br.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=Br.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Br.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),o=this.transformState(n),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const h=i[u];if(h){const m=d.map(b=>b.presence_ref),v=h.map(b=>b.presence_ref),p=d.filter(b=>v.indexOf(b.presence_ref)<0),y=h.filter(b=>m.indexOf(b.presence_ref)<0);p.length>0&&(l[u]=p),y.length>0&&(c[u]=y)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const h=t[l].map(v=>v.presence_ref),m=d.filter(v=>h.indexOf(v.presence_ref)<0);t[l].unshift(...m)}r(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ru;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Ru||(Ru={}));var Lu;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Lu||(Lu={}));var mt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(mt||(mt={}));class sc{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Re.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new za(this,et.join,this.params,this.timeout),this.rejoinTimer=new am(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Re.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Re.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Re.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Re.errored,this.rejoinTimer.scheduleTimeout())}),this._on(et.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Br(this),this.broadcastEndpointURL=lm(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:l}}=this.params;this._onError(d=>t==null?void 0:t(mt.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(mt.CLOSED));const c={},u={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){t==null||t(mt.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,v=(h=m==null?void 0:m.length)!==null&&h!==void 0?h:0,p=[];for(let y=0;y<v;y++){const b=m[y],{filter:{event:x,schema:f,table:g,filter:j}}=b,_=d&&d[y];if(_&&_.event===x&&_.schema===f&&_.table===g&&_.filter===j)p.push(Object.assign(Object.assign({},b),{id:_.id}));else{this.unsubscribe(),t==null||t(mt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,t&&t(mt.SUBSCRIBED);return}}).receive("error",d=>{t==null||t(mt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(mt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Re.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(et.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const s=new za(this,et.leave,{},t);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new za(this,t,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=et;if(r&&[l,c,u,d].indexOf(o)>=0&&r!==this._joinRef())return;let m=this._onMessage(o,n,r);if(n&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var p,y,b;return((p=v.filter)===null||p===void 0?void 0:p.event)==="*"||((b=(y=v.filter)===null||y===void 0?void 0:y.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(v=>v.callback(m,r)):(i=this.bindings[o])===null||i===void 0||i.filter(v=>{var p,y,b,x,f,g;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const j=v.id,_=(p=v.filter)===null||p===void 0?void 0:p.event;return j&&((y=n.ids)===null||y===void 0?void 0:y.includes(j))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((b=n.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const j=(f=(x=v==null?void 0:v.filter)===null||x===void 0?void 0:x.event)===null||f===void 0?void 0:f.toLocaleLowerCase();return j==="*"||j===((g=n==null?void 0:n.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof m=="object"&&"ids"in m){const p=m.data,{schema:y,table:b,commit_timestamp:x,type:f,errors:g}=p;m=Object.assign(Object.assign({},{schema:y,table:b,commit_timestamp:x,eventType:f,new:{},old:{},errors:g}),this._getPayloadRecords(p))}v.callback(m,r)})}_isClosed(){return this.state===Re.closed}_isJoined(){return this.state===Re.joined}_isJoining(){return this.state===Re.joining}_isLeaving(){return this.state===Re.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&sc.isEqual(s.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(et.close,{},t)}_onError(t){this._on(et.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Re.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Au(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Au(t.columns,t.old_record)),n}}const xx=()=>{},yx=typeof WebSocket<"u",wx=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class jx{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=lx,this.params={},this.timeout=im,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=xx,this.conn=null,this.sendBuffer=[],this.serializer=new dx,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>or(async()=>{const{default:c}=await Promise.resolve().then(()=>gr);return{default:c}},void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${Jo.websocket}`,this.httpEndpoint=lm(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new am(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(yx){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new bx(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),or(async()=>{const{default:t}=await import("./browser-BvWhg28b.js").then(n=>n.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:cx}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Xn.connecting:return cn.Connecting;case Xn.open:return cn.Open;case Xn.closing:return cn.Closing;default:return cn.Closed}}isConnected(){return this.connectionState()===cn.Open}channel(t,n={config:{}}){const r=new sc(`realtime:${t}`,n,this);return this.channels.push(r),r}push(t){const{topic:n,event:r,payload:s,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(s=>{n&&s.updateJoinPayload({access_token:n}),s.joinedOnce&&s._isJoined()&&s._push(et.access_token,{access_token:n})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(ux,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:s,payload:i,ref:o}=n;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(l=>l._isMember(r)).forEach(l=>l._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(l=>l(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(et.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([wx],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class bx{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Xn.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class ic extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function de(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class _x extends ic{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Qo extends ic{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var kx=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const cm=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>or(async()=>{const{default:r}=await Promise.resolve().then(()=>gr);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},Sx=()=>kx(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield or(()=>Promise.resolve().then(()=>gr),void 0)).Response:Response}),Yo=e=>{if(Array.isArray(e))return e.map(n=>Yo(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Yo(r)}),t};var kn=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const Ma=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Nx=(e,t,n)=>kn(void 0,void 0,void 0,function*(){const r=yield Sx();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{t(new _x(Ma(s),e.status||500))}).catch(s=>{t(new Qo(Ma(s),s))}):t(new Qo(Ma(e),e))}),Ex=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function _s(e,t,n,r,s,i){return kn(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(n,Ex(t,r,s,i)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>Nx(c,l,r))})})}function Ri(e,t,n,r){return kn(this,void 0,void 0,function*(){return _s(e,"GET",t,n,r)})}function At(e,t,n,r,s){return kn(this,void 0,void 0,function*(){return _s(e,"POST",t,r,s,n)})}function Cx(e,t,n,r,s){return kn(this,void 0,void 0,function*(){return _s(e,"PUT",t,r,s,n)})}function Tx(e,t,n,r){return kn(this,void 0,void 0,function*(){return _s(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function um(e,t,n,r,s){return kn(this,void 0,void 0,function*(){return _s(e,"DELETE",t,r,s,n)})}var Ee=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const Ox={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},$u={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Px{constructor(t,n={},r,s){this.url=t,this.headers=n,this.bucketId=r,this.fetch=cm(s)}uploadOrUpdate(t,n,r,s){return Ee(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},$u),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),m=yield h.json();return h.ok?{data:{path:u,id:m.Id,fullPath:m.Key},error:null}:{data:null,error:m}}catch(i){if(de(i))return{data:null,error:i};throw i}})}upload(t,n,r){return Ee(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return Ee(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:$u.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:d}),m=yield h.json();return h.ok?{data:{path:i,fullPath:m.Key},error:null}:{data:null,error:m}}catch(c){if(de(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return Ee(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield At(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new ic("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}})}update(t,n,r){return Ee(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Ee(this,void 0,void 0,function*(){try{return{data:yield At(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(de(s))return{data:null,error:s};throw s}})}copy(t,n,r){return Ee(this,void 0,void 0,function*(){try{return{data:{path:(yield At(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(de(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return Ee(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield At(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(de(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return Ee(this,void 0,void 0,function*(){try{const s=yield At(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(de(s))return{data:null,error:s};throw s}})}download(t,n){return Ee(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield Ri(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(de(l))return{data:null,error:l};throw l}})}info(t){return Ee(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Ri(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Yo(r),error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}})}exists(t){return Ee(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield Tx(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(de(r)&&r instanceof Qo){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${u}`)}}}remove(t){return Ee(this,void 0,void 0,function*(){try{return{data:yield um(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}})}list(t,n,r){return Ee(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Ox),n),{prefix:t||""});return{data:yield At(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(de(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const Ax="2.7.1",Ix={"X-Client-Info":`storage-js/${Ax}`};var Tn=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class Rx{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},Ix),n),this.fetch=cm(r)}listBuckets(){return Tn(this,void 0,void 0,function*(){try{return{data:yield Ri(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(de(t))return{data:null,error:t};throw t}})}getBucket(t){return Tn(this,void 0,void 0,function*(){try{return{data:yield Ri(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Tn(this,void 0,void 0,function*(){try{return{data:yield At(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return Tn(this,void 0,void 0,function*(){try{return{data:yield Cx(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Tn(this,void 0,void 0,function*(){try{return{data:yield At(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Tn(this,void 0,void 0,function*(){try{return{data:yield um(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}})}}class Lx extends Rx{constructor(t,n={},r){super(t,n,r)}from(t){return new Px(this.url,this.headers,t,this.fetch)}}const $x="2.49.4";let Ar="";typeof Deno<"u"?Ar="deno":typeof document<"u"?Ar="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ar="react-native":Ar="node";const Dx={"X-Client-Info":`supabase-js-${Ar}/${$x}`},Ux={headers:Dx},zx={schema:"public"},Mx={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Fx={};var Bx=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const qx=e=>{let t;return e?t=e:typeof fetch>"u"?t=Jf:t=fetch,(...n)=>t(...n)},Hx=()=>typeof Headers>"u"?Kf:Headers,Vx=(e,t,n)=>{const r=qx(n),s=Hx();return(i,o)=>Bx(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var Wx=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};function Gx(e){return e.replace(/\/$/,"")}function Jx(e,t){const{db:n,auth:r,realtime:s,global:i}=e,{db:o,auth:l,realtime:c,global:u}=t,d={db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},l),r),realtime:Object.assign(Object.assign({},c),s),global:Object.assign(Object.assign({},u),i),accessToken:()=>Wx(this,void 0,void 0,function*(){return""})};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}const dm="2.69.1",In=30*1e3,Xo=3,Fa=Xo*In,Kx="http://localhost:9999",Qx="supabase.auth.token",Yx={"X-Client-Info":`gotrue-js/${dm}`},Zo="X-Supabase-Api-Version",hm={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Xx=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Zx=6e5;class ac extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function B(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class ey extends ac{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function ty(e){return B(e)&&e.name==="AuthApiError"}class fm extends ac{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class tn extends ac{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class Ct extends tn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ny(e){return B(e)&&e.name==="AuthSessionMissingError"}class Ba extends tn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Vs extends tn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ws extends tn{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function ry(e){return B(e)&&e.name==="AuthImplicitGrantRedirectError"}class Du extends tn{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class el extends tn{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function qa(e){return B(e)&&e.name==="AuthRetryableFetchError"}class Uu extends tn{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class qr extends tn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const zu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Mu=` 	
\r=`.split(""),sy=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Mu.length;t+=1)e[Mu[t].charCodeAt(0)]=-2;for(let t=0;t<zu.length;t+=1)e[zu[t].charCodeAt(0)]=t;return e})();function mm(e,t,n){const r=sy[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Fu(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{oy(o,r,n)};for(let o=0;o<e.length;o+=1)mm(e.charCodeAt(o),s,i);return t.join("")}function iy(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function ay(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}iy(r,t)}}function oy(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function ly(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)mm(e.charCodeAt(s),n,r);return new Uint8Array(t)}function cy(e){const t=[];return ay(e,n=>t.push(n)),new Uint8Array(t)}function uy(e){return Math.round(Date.now()/1e3)+e}function dy(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const ot=()=>typeof window<"u"&&typeof document<"u",sn={tested:!1,writable:!1},Hr=()=>{if(!ot())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(sn.tested)return sn.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),sn.tested=!0,sn.writable=!0}catch{sn.tested=!0,sn.writable=!1}return sn.writable};function hy(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const pm=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>or(async()=>{const{default:r}=await Promise.resolve().then(()=>gr);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},fy=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",gm=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Gs=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Js=async(e,t)=>{await e.removeItem(t)};class oa{constructor(){this.promise=new oa.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}oa.promiseConstructor=Promise;function Ha(e){const t=e.split(".");if(t.length!==3)throw new qr("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!Xx.test(t[r]))throw new qr("JWT not in base64url format");return{header:JSON.parse(Fu(t[0])),payload:JSON.parse(Fu(t[1])),signature:ly(t[2]),raw:{header:t[0],payload:t[1]}}}async function my(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function py(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){r(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function gy(e){return("0"+e.toString(16)).substr(-2)}function vy(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,gy).join("")}async function xy(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function yy(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await xy(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function On(e,t,n=!1){const r=vy();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await gm(e,`${t}-code-verifier`,s);const i=await yy(r);return[i,r===i?"plain":"s256"]}const wy=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function jy(e){const t=e.headers.get(Zo);if(!t||!t.match(wy))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function by(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function _y(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var ky=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const ln=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Sy=[502,503,504];async function Bu(e){var t;if(!fy(e))throw new el(ln(e),0);if(Sy.includes(e.status))throw new el(ln(e),e.status);let n;try{n=await e.json()}catch(i){throw new fm(ln(i),i)}let r;const s=jy(e);if(s&&s.getTime()>=hm["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Uu(ln(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Ct}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Uu(ln(n),e.status,n.weak_password.reasons);throw new ey(ln(n),e.status||500,r)}const Ny=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function H(e,t,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[Zo]||(i[Zo]=hm["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await Ey(e,t,n+l,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function Ey(e,t,n,r,s,i){const o=Ny(t,r,s,i);let l;try{l=await e(n,Object.assign({},o))}catch(c){throw console.error(c),new el(ln(c),0)}if(l.ok||await Bu(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await Bu(c)}}function Tt(e){var t;let n=null;Py(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=uy(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function qu(e){const t=Tt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function $t(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Cy(e){return{data:e,error:null}}function Ty(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,o=ky(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function Oy(e){return e}function Py(e){return e.access_token&&e.refresh_token&&e.expires_in}var Ay=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class Iy{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=pm(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n="global"){try{return await H(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(B(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await H(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:$t})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=Ay(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await H(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Ty,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(B(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await H(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:$t})}catch(n){if(B(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await H(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Oy});if(d.error)throw d.error;const h=await d.json(),m=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return v.length>0&&(v.forEach(p=>{const y=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(p.split(";")[1].split("=")[1]);u[`${b}Page`]=y}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(B(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await H(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:$t})}catch(n){if(B(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){try{return await H(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:$t})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){try{return await H(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:$t})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){try{const{data:n,error:r}=await H(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(B(n))return{data:null,error:n};throw n}}async _deleteFactor(t){try{return{data:await H(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(B(n))return{data:null,error:n};throw n}}}const Ry={getItem:e=>Hr()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Hr()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Hr()&&globalThis.localStorage.removeItem(e)}};function Hu(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function Ly(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Pn={debug:!!(globalThis&&Hr()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class vm extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class $y extends vm{}async function Dy(e,t,n){Pn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Pn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Pn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{Pn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Pn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new $y(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Pn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}Ly();const Uy={url:Kx,storageKey:Qx,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Yx,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Vu(e,t,n){return await n()}class ds{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ds.nextInstanceID,ds.nextInstanceID+=1,this.instanceID>0&&ot()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Uy),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Iy({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=pm(s.fetch),this.lock=s.lock||Vu,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:ot()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Dy:this.lock=Vu,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Hr()?this.storage=Ry:(this.memoryStorage={},this.storage=Hu(this.memoryStorage)):(this.memoryStorage={},this.storage=Hu(this.memoryStorage)),ot()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${dm}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=hy(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),ot()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),ry(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return B(n)?{error:n}:{error:new fm("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Tt}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(B(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:d,password:h,options:m}=t;let v=null,p=null;this.flowType==="pkce"&&([v,p]=await On(this.storage,this.storageKey)),i=await H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:d,password:h,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:v,code_challenge_method:p},xform:Tt})}else if("phone"in t){const{phone:d,password:h,options:m}=t;i=await H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Tt})}else throw new Vs("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(B(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:o,options:l}=t;n=await H(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:qu})}else if("phone"in t){const{phone:i,password:o,options:l}=t;n=await H(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:qu})}else throw new Vs("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Ba}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(B(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const n=await Gs(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await H(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Tt});if(await Js(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Ba}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(B(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=t,l=await H(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Tt}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Ba}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if(B(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,i,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await On(this.storage,this.storageKey));const{error:h}=await H(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await H(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Vs("You must provide either an email or phone number.")}catch(l){if(B(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await H(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Tt});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(B(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await On(this.storage,this.storageKey)),await H(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Cy})}catch(i){if(B(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Ct;const{error:s}=await H(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(B(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:o}=await H(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:o,error:l}=await H(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Vs("You must provide either an email or phone number and a type")}catch(n){if(B(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Gs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Fa:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await H(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:$t}):await this._useSession(async n=>{var r,s,i;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ct}:await H(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:$t})})}catch(n){if(B(n))return ny(n)&&(await this._removeSession(),await Js(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new Ct;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await On(this.storage,this.storageKey));const{data:u,error:d}=await H(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:$t});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ct;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=Ha(t.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(B(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:l}=n;if(l)throw l;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Ct;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(B(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!ot())throw new Ws("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ws(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Du("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ws("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Du("No code detected.");const{data:f,error:g}=await this._exchangeCodeForSession(t.code);if(g)throw g;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:f.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!o||!u)throw new Ws("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let m=d+h;c&&(m=parseInt(c));const v=m-d;v*1e3<=In&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${h}s`);const p=m-h;d-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,m,d):d-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,m,d);const{data:y,error:b}=await this._getUser(i);if(b)throw b;const x={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:m,refresh_token:o,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:t.type},error:null}}catch(r){if(B(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Gs(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(ty(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Js(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=dy(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await On(this.storage,this.storageKey,!0));try{return await H(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(B(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(B(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,l,c,u,d;const{data:h,error:m}=i;if(m)throw m;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await H(this.fetch,"GET",v,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return ot()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(B(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await H(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(B(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await py(async s=>(s>0&&await my(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await H(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Tt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&qa(i)&&Date.now()+o-r<In})}catch(r){if(this._debug(n,"error",r),B(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),ot()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Gs(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=((t=r.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Fa;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${Fa}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),qa(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Ct;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new oa;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Ct;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),B(i)){const o={session:null,error:i};return qa(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await gm(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Js(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ot()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),In);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/In);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${In}ms, refresh threshold is ${Xo} ticks`),s<=Xo&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof vm)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ot()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await On(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await H(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(B(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await H(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(B(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:l}=await H(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(n){if(B(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await H(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(B(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Ha(s.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(o=>o.kid===t);if(r||(r=this.jwks.keys.find(o=>o.kid===t),r&&this.jwks_cached_at+Zx>Date.now()))return r;const{data:s,error:i}=await H(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new qr("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),r=s.keys.find(o=>o.kid===t),!r)throw new qr("No matching signing key found in JWKS");return r}async getClaims(t,n={keys:[]}){try{let r=t;if(!r){const{data:v,error:p}=await this.getSession();if(p||!v.session)return{data:null,error:p};r=v.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:c}}=Ha(r);if(by(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:v}=await this.getUser(r);if(v)throw v;return{data:{claims:i,header:s,signature:o},error:null}}const u=_y(s.alg),d=await this.fetchJwk(s.kid,n),h=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,cy(`${l}.${c}`)))throw new qr("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(B(r))return{data:null,error:r};throw r}}}ds.nextInstanceID=0;const zy=ds;class My extends zy{constructor(t){super(t)}}var Fy=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class By{constructor(t,n,r){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const l=Gx(t);this.realtimeUrl=`${l}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${l}/auth/v1`,this.storageUrl=`${l}/storage/v1`,this.functionsUrl=`${l}/functions/v1`;const c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:zx,realtime:Fx,auth:Object.assign(Object.assign({},Mx),{storageKey:c}),global:Ux},d=Jx(r??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=Vx(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new ax(`${l}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new $v(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Lx(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return Fy(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:l,debug:c},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new My({url:this.authUrl,headers:Object.assign(Object.assign({},h),u),storageKey:i,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new jx(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const qy=(e,t,n)=>new By(e,t,n);console.log("Environment variables check:");console.log("NODE_ENV:","production");console.log("VITE_SUPABASE_URL exists:",!0);console.log("VITE_SUPABASE_ANON_KEY exists:",!0);console.log("VITE_SUPABASE_URL:","https://bbixvnkqroskholbxkgj.supabase.co");console.log("VITE_SUPABASE_ANON_KEY:","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJiaXh2bmtxcm9za2hvbGJ4a2dqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcwMTg3NjMsImV4cCI6MjA2MjU5NDc2M30.6oGRIhAuzrOq3UI9bOUlxyIoaslzK_UtjrgaxV9WIrU");const Hy="https://bbixvnkqroskholbxkgj.supabase.co",Vy="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJiaXh2bmtxcm9za2hvbGJ4a2dqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcwMTg3NjMsImV4cCI6MjA2MjU5NDc2M30.6oGRIhAuzrOq3UI9bOUlxyIoaslzK_UtjrgaxV9WIrU",A=qy(Hy,Vy),ks="/accreda.github.io/assets/accreda-logo-rSXzK5SL.png";function Wy(){var m;const[e,t]=w.useState(""),[n,r]=w.useState(""),[s,i]=w.useState(null),[o,l]=w.useState(!1),c=Be(),d=(m=Nt().state)==null?void 0:m.message,h=async v=>{v.preventDefault(),i(null),l(!0);try{console.log("Attempting login...");const{data:p,error:y}=await A.auth.signInWithPassword({email:e,password:n});if(y)throw console.error("Login error:",y),y;if(p!=null&&p.user)console.log("Login successful, navigating to dashboard..."),c("/dashboard");else throw new Error("No user data received after successful login")}catch(p){console.error("Login error details:",p),p instanceof Error?p.message.includes("Invalid login credentials")?i("Invalid email or password"):p.message.includes("Email not confirmed")?i("Please confirm your email address before logging in"):i(p.message):i("An unexpected error occurred during login")}finally{l(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-slate-50 to-slate-100 py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-8 rounded-xl shadow-lg",children:[a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("img",{src:ks,alt:"Accreda Logo",className:"h-24 w-auto mb-6"}),a.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Welcome back"}),a.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Sign in to your EIT Track account"})]}),d&&a.jsx("div",{className:"rounded-lg bg-green-50 p-4 border border-green-100",children:a.jsx("div",{className:"text-sm text-green-700",children:d})}),a.jsxs("form",{className:"mt-8 space-y-6",onSubmit:h,children:[s&&a.jsx("div",{className:"rounded-lg bg-red-50 p-4 border border-red-100",children:a.jsx("div",{className:"text-sm text-red-700",children:s})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email-address",className:"block text-sm font-medium text-slate-700 mb-1",children:"Email address"}),a.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-slate-300 placeholder-slate-400 text-slate-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent sm:text-sm transition-colors",placeholder:"Enter your email",value:e,onChange:v=>t(v.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700 mb-1",children:"Password"}),a.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-slate-300 placeholder-slate-400 text-slate-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent sm:text-sm transition-colors",placeholder:"Enter your password",value:n,onChange:v=>r(v.target.value)})]})]}),a.jsx("div",{className:"flex items-center justify-end",children:a.jsx("div",{className:"text-sm",children:a.jsx(We,{to:"/forgot-password",className:"font-medium text-teal-600 hover:text-teal-500 transition-colors",children:"Forgot your password?"})})}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:o,className:"group relative w-full flex justify-center py-2.5 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-teal-600 hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 transition-colors disabled:opacity-75 disabled:cursor-not-allowed",children:o?"Signing in...":"Sign in"})}),a.jsx("div",{className:"text-center",children:a.jsxs("p",{className:"text-sm text-slate-600",children:["Don't have an account?"," ",a.jsx(We,{to:"/signup",className:"font-medium text-teal-600 hover:text-teal-500 transition-colors",children:"Create one now"})]})})]})]})})}function Gy(){const[e,t]=w.useState(""),[n,r]=w.useState(""),[s,i]=w.useState(""),[o,l]=w.useState(""),[c,u]=w.useState(null),[d,h]=w.useState(!1),m=Be(),v=async p=>{if(p.preventDefault(),u(null),s!==o){u("Passwords do not match");return}if(s.length<6){u("Password must be at least 6 characters long");return}if(!n.trim()){u("Please enter your full name");return}h(!0);try{const{error:y}=await A.auth.signUp({email:e,password:s,options:{emailRedirectTo:`${window.location.origin}/login`,data:{full_name:n}}});if(y)throw y;m("/login",{state:{message:"Please check your email to confirm your account. You can now sign in."}})}catch(y){u(y instanceof Error?y.message:"An error occurred during sign up")}finally{h(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-slate-50 to-slate-100 py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-8 rounded-xl shadow-lg",children:[a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("img",{src:ks,alt:"Accreda Logo",className:"h-24 w-auto mb-6"}),a.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Create your account"}),a.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Join EIT Track to start your engineering journey"})]}),a.jsxs("form",{className:"mt-8 space-y-6",onSubmit:v,children:[c&&a.jsx("div",{className:"rounded-lg bg-red-50 p-4 border border-red-100",children:a.jsx("div",{className:"text-sm text-red-700",children:c})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"full-name",className:"block text-sm font-medium text-slate-700 mb-1",children:"Full Name"}),a.jsx("input",{id:"full-name",name:"full-name",type:"text",autoComplete:"name",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-slate-300 placeholder-slate-400 text-slate-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent sm:text-sm transition-colors",placeholder:"Enter your full name",value:n,onChange:p=>r(p.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email-address",className:"block text-sm font-medium text-slate-700 mb-1",children:"Email address"}),a.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-slate-300 placeholder-slate-400 text-slate-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent sm:text-sm transition-colors",placeholder:"Enter your email",value:e,onChange:p=>t(p.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700 mb-1",children:"Password"}),a.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-slate-300 placeholder-slate-400 text-slate-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent sm:text-sm transition-colors",placeholder:"Create a password",value:s,onChange:p=>i(p.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"confirm-password",className:"block text-sm font-medium text-slate-700 mb-1",children:"Confirm Password"}),a.jsx("input",{id:"confirm-password",name:"confirm-password",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-slate-300 placeholder-slate-400 text-slate-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent sm:text-sm transition-colors",placeholder:"Confirm your password",value:o,onChange:p=>l(p.target.value)})]})]}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:d,className:"group relative w-full flex justify-center py-2.5 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-teal-600 hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 transition-colors disabled:opacity-75 disabled:cursor-not-allowed",children:d?"Creating account...":"Create account"})}),a.jsx("div",{className:"text-center",children:a.jsxs("p",{className:"text-sm text-slate-600",children:["Already have an account?"," ",a.jsx(We,{to:"/login",className:"font-medium text-teal-600 hover:text-teal-500 transition-colors",children:"Sign in"})]})})]})]})})}function Jy(){const[e,t]=w.useState(""),[n,r]=w.useState(null),[s,i]=w.useState(null),[o,l]=w.useState(!1),c=async u=>{u.preventDefault(),r(null),i(null),l(!0);try{const{error:d}=await A.auth.resetPasswordForEmail(e,{redirectTo:`${window.location.origin}/reset-password`});if(d)throw d;i("Password reset instructions have been sent to your email address."),t("")}catch(d){r(d instanceof Error?d.message:"An error occurred while sending reset instructions")}finally{l(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-slate-50 to-slate-100 py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-8 rounded-xl shadow-lg",children:[a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("img",{src:ks,alt:"Accreda Logo",className:"h-24 w-auto mb-6"}),a.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Reset your password"}),a.jsx("p",{className:"mt-2 text-sm text-slate-600 text-center",children:"Enter your email address and we'll send you instructions to reset your password"})]}),s&&a.jsx("div",{className:"rounded-lg bg-green-50 p-4 border border-green-100",children:a.jsx("div",{className:"text-sm text-green-700",children:s})}),a.jsxs("form",{className:"mt-8 space-y-6",onSubmit:c,children:[n&&a.jsx("div",{className:"rounded-lg bg-red-50 p-4 border border-red-100",children:a.jsx("div",{className:"text-sm text-red-700",children:n})}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email-address",className:"block text-sm font-medium text-slate-700 mb-1",children:"Email address"}),a.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-slate-300 placeholder-slate-400 text-slate-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent sm:text-sm transition-colors",placeholder:"Enter your email",value:e,onChange:u=>t(u.target.value)})]}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:o,className:"group relative w-full flex justify-center py-2.5 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-teal-600 hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 transition-colors disabled:opacity-75 disabled:cursor-not-allowed",children:o?"Sending instructions...":"Send reset instructions"})}),a.jsx("div",{className:"text-center",children:a.jsxs("p",{className:"text-sm text-slate-600",children:["Remember your password?"," ",a.jsx(We,{to:"/login",className:"font-medium text-teal-600 hover:text-teal-500 transition-colors",children:"Sign in"})]})})]})]})})}function Ky(){const[e,t]=w.useState(""),[n,r]=w.useState(""),[s,i]=w.useState(null),[o,l]=w.useState(!1),c=Be();w.useEffect(()=>{A.auth.getSession().then(({data:{session:d}})=>{d||c("/login",{state:{message:"Password reset link is invalid or has expired. Please try again."}})})},[c]);const u=async d=>{if(d.preventDefault(),i(null),e!==n){i("Passwords do not match");return}if(e.length<6){i("Password must be at least 6 characters long");return}l(!0);try{const{error:h}=await A.auth.updateUser({password:e});if(h)throw h;await A.auth.signOut(),c("/login",{state:{message:"Your password has been reset successfully. Please sign in with your new password."}})}catch(h){i(h instanceof Error?h.message:"An error occurred while resetting your password")}finally{l(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-slate-50 to-slate-100 py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-8 rounded-xl shadow-lg",children:[a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("img",{src:ks,alt:"Accreda Logo",className:"h-24 w-auto mb-6"}),a.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Set new password"}),a.jsx("p",{className:"mt-2 text-sm text-slate-600 text-center",children:"Please enter your new password below"})]}),a.jsxs("form",{className:"mt-8 space-y-6",onSubmit:u,children:[s&&a.jsx("div",{className:"rounded-lg bg-red-50 p-4 border border-red-100",children:a.jsx("div",{className:"text-sm text-red-700",children:s})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700 mb-1",children:"New Password"}),a.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-slate-300 placeholder-slate-400 text-slate-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent sm:text-sm transition-colors",placeholder:"Enter your new password",value:e,onChange:d=>t(d.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"confirm-password",className:"block text-sm font-medium text-slate-700 mb-1",children:"Confirm New Password"}),a.jsx("input",{id:"confirm-password",name:"confirm-password",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-slate-300 placeholder-slate-400 text-slate-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent sm:text-sm transition-colors",placeholder:"Confirm your new password",value:n,onChange:d=>r(d.target.value)})]})]}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:o,className:"group relative w-full flex justify-center py-2.5 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-teal-600 hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 transition-colors disabled:opacity-75 disabled:cursor-not-allowed",children:o?"Resetting password...":"Reset password"})})]})]})})}/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Qy={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yy=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),M=(e,t)=>{const n=w.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,...u},d)=>w.createElement("svg",{ref:d,...Qy,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${Yy(e)}`,l].join(" "),...u},[...t.map(([h,m])=>w.createElement(h,m)),...Array.isArray(c)?c:[c]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xm=M("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ym=M("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wm=M("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tl=M("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const la=M("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jm=M("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xy=M("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zy=M("Bold",[["path",{d:"M14 12a4 4 0 0 0 0-8H6v8",key:"v2sylx"}],["path",{d:"M15 20a4 4 0 0 0 0-8H6v8Z",key:"1ef5ya"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oc=M("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bm=M("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wu=M("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cr=M("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ew=M("CalendarClock",[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lc=M("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=M("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tw=M("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nw=M("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _m=M("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rw=M("CircleDot",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sw=M("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cc=M("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iw=M("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aw=M("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ow=M("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uc=M("FilePen",[["path",{d:"M12 22h6a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v10",key:"x7tsz2"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10.4 12.6a2 2 0 1 1 3 3L8 21l-4 1 1-4Z",key:"o3xyfb"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sn=M("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lw=M("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cw=M("GraduationCap",[["path",{d:"M22 10v6M2 10l10-5 10 5-10 5z",key:"1ef52a"}],["path",{d:"M6 12v5c3 3 9 3 12 0v-5",key:"1f75yj"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const km=M("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dc=M("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uw=M("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dw=M("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hw=M("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fw=M("ListOrdered",[["line",{x1:"10",x2:"21",y1:"6",y2:"6",key:"76qw6h"}],["line",{x1:"10",x2:"21",y1:"12",y2:"12",key:"16nom4"}],["line",{x1:"10",x2:"21",y1:"18",y2:"18",key:"u3jurt"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mw=M("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pw=M("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sm=M("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nm=M("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gw=M("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=M("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nl=M("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Em=M("PenTool",[["path",{d:"m12 19 7-7 3 3-7 7-3-3z",key:"rklqx2"}],["path",{d:"m18 13-1.5-7.5L2 2l3.5 14.5L13 18l5-5z",key:"1et58u"}],["path",{d:"m2 2 7.586 7.586",key:"etlp93"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fs=M("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ur=M("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hc=M("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cm=M("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vw=M("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tm=M("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xw=M("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yw=M("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=M("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ww=M("Underline",[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jw=M("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bw=M("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ss=M("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=M("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),_w={},Gu=e=>{let t;const n=new Set,r=(d,h)=>{const m=typeof d=="function"?d(t):d;if(!Object.is(m,t)){const v=t;t=h??(typeof m!="object"||m===null)?m:Object.assign({},t,m),n.forEach(p=>p(t,v))}},s=()=>t,c={setState:r,getState:s,getInitialState:()=>u,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(_w?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,s,c);return c},kw=e=>e?Gu(e):Gu;var Om={exports:{}},Pm={},Am={exports:{}},Im={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dr=w;function Sw(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Nw=typeof Object.is=="function"?Object.is:Sw,Ew=dr.useState,Cw=dr.useEffect,Tw=dr.useLayoutEffect,Ow=dr.useDebugValue;function Pw(e,t){var n=t(),r=Ew({inst:{value:n,getSnapshot:t}}),s=r[0].inst,i=r[1];return Tw(function(){s.value=n,s.getSnapshot=t,Va(s)&&i({inst:s})},[e,n,t]),Cw(function(){return Va(s)&&i({inst:s}),e(function(){Va(s)&&i({inst:s})})},[e]),Ow(n),n}function Va(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Nw(e,n)}catch{return!0}}function Aw(e,t){return t()}var Iw=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Aw:Pw;Im.useSyncExternalStore=dr.useSyncExternalStore!==void 0?dr.useSyncExternalStore:Iw;Am.exports=Im;var Rw=Am.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ua=w,Lw=Rw;function $w(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Dw=typeof Object.is=="function"?Object.is:$w,Uw=Lw.useSyncExternalStore,zw=ua.useRef,Mw=ua.useEffect,Fw=ua.useMemo,Bw=ua.useDebugValue;Pm.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var i=zw(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=Fw(function(){function c(v){if(!u){if(u=!0,d=v,v=r(v),s!==void 0&&o.hasValue){var p=o.value;if(s(p,v))return h=p}return h=v}if(p=h,Dw(d,v))return p;var y=r(v);return s!==void 0&&s(p,y)?(d=v,p):(d=v,h=y)}var u=!1,d,h,m=n===void 0?null:n;return[function(){return c(t())},m===null?void 0:function(){return c(m())}]},[t,n,r,s]);var l=Uw(e,i[0],i[1]);return Mw(function(){o.hasValue=!0,o.value=l},[l]),Bw(l),l};Om.exports=Pm;var qw=Om.exports;const Hw=rl(qw),Rm={},{useDebugValue:Vw}=ll,{useSyncExternalStoreWithSelector:Ww}=Hw;let Ju=!1;const Gw=e=>e;function Jw(e,t=Gw,n){(Rm?"production":void 0)!=="production"&&n&&!Ju&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Ju=!0);const r=Ww(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return Vw(r),r}const Ku=e=>{(Rm?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?kw(e):e,n=(r,s)=>Jw(t,r,s);return Object.assign(n,t),n},Nn=e=>e?Ku(e):Ku,Wa=[{name:"Category 1  Technical Competence",skills:[{id:"temp-1",name:"1.1 Regulations, Codes & Standards",status:"not-started",rank:void 0},{id:"temp-2",name:"1.2 Technical & Design Constraints",status:"not-started",rank:void 0},{id:"temp-3",name:"1.3 Risk Management for Technical Work",status:"not-started",rank:void 0},{id:"temp-4",name:"1.4 Application of Theory",status:"not-started",rank:void 0},{id:"temp-5",name:"1.5 Solution Techniques  Results Verification",status:"not-started",rank:void 0},{id:"temp-6",name:"1.6 Safety in Design & Technical Work",status:"not-started",rank:void 0},{id:"temp-7",name:"1.7 Systems & Their Components",status:"not-started",rank:void 0},{id:"temp-8",name:"1.8 Project or Asset Life-Cycle Awareness",status:"not-started",rank:void 0},{id:"temp-9",name:"1.9 Quality Assurance",status:"not-started",rank:void 0},{id:"temp-10",name:"1.10 Engineering Documentation",status:"not-started",rank:void 0}]},{name:"Category 2  Communication",skills:[{id:"temp-11",name:"2.1 Oral Communication (English)",status:"not-started",rank:void 0},{id:"temp-12",name:"2.2 Written Communication (English)",status:"not-started",rank:void 0},{id:"temp-13",name:"2.3 Reading & Comprehension (English)",status:"not-started",rank:void 0}]},{name:"Category 3  Project & Financial Management",skills:[{id:"temp-14",name:"3.1 Project Management Principles",status:"not-started",rank:void 0},{id:"temp-15",name:"3.2 Finances & Budget",status:"not-started",rank:void 0}]},{name:"Category 4  Team Effectiveness",skills:[{id:"temp-16",name:"4.1 Promote Team Effectiveness & Resolve Conflict",status:"not-started",rank:void 0}]},{name:"Category 5  Professional Accountability",skills:[{id:"temp-17",name:"5.1 Professional Accountability (Ethics, Liability, Limits)",status:"not-started",rank:void 0}]},{name:"Category 6  Social, Economic, Environmental & Sustainability",skills:[{id:"temp-18",name:"6.1 Protection of the Public Interest",status:"not-started",rank:void 0},{id:"temp-19",name:"6.2 Benefits of Engineering to the Public",status:"not-started",rank:void 0},{id:"temp-20",name:"6.3 Role of Regulatory Bodies",status:"not-started",rank:void 0},{id:"temp-21",name:"6.4 Application of Sustainability Principles",status:"not-started",rank:void 0},{id:"temp-22",name:"6.5 Promotion of Sustainability",status:"not-started",rank:void 0}]}],it=Nn((e,t)=>({skillCategories:Wa,loading:!1,error:null,setSkillCategories:n=>e({skillCategories:n}),loadUserSkills:async()=>{e({loading:!0,error:null});try{console.log("Starting loadUserSkills...");const{data:{user:n}}=await A.auth.getUser();if(!n)throw console.error("No authenticated user found"),new Error("No authenticated user found");console.log("User authenticated:",n.id),console.log("Fetching skills from DB...");const{data:r,error:s}=await A.from("skills").select("id, name, category");if(s)throw console.error("Error fetching skills from DB:",s),s;console.log("Skills fetched from DB:",r==null?void 0:r.length),console.log("Checking existing user skills...");let{data:i,error:o}=await A.from("user_skills").select("*").eq("user_id",n.id);if(o)throw console.error("Error fetching user skills:",o),o;if(console.log("Existing user skills:",i==null?void 0:i.length),!i||i.length===0){console.log("No existing skills found, initializing for new user...");const c=Wa.flatMap(m=>m.skills.map(v=>{const p=r.find(y=>y.name===v.name&&y.category===m.name);return p?{user_id:n.id,skill_id:p.id,category_name:m.name,skill_name:v.name,rank:null,status:"not-started"}:(console.warn(`No matching DB skill found for: ${v.name} in ${m.name}`),null)}).filter(Boolean));console.log("Initializing skills:",c.length);const{error:u}=await A.from("user_skills").insert(c);if(u)throw console.error("Error initializing user skills:",u),u;console.log("Fetching newly initialized skills...");const{data:d,error:h}=await A.from("user_skills").select("*").eq("user_id",n.id);if(h)throw console.error("Error fetching newly initialized skills:",h),h;i=d,console.log("New skills fetched:",i==null?void 0:i.length)}console.log("Updating store with user skills...");const l=Wa.map(c=>({...c,skills:c.skills.map(u=>{const d=r.find(m=>m.name===u.name&&m.category===c.name);if(!d)return console.warn(`No matching DB skill found for: ${u.name} in ${c.name}`),u;const h=i==null?void 0:i.find(m=>m.skill_id===d.id);return{...u,id:d.id,category_name:d.category,rank:(h==null?void 0:h.rank)||void 0,status:(h==null?void 0:h.status)||"not-started"}})}));console.log("Setting updated categories in store:",l.length),e({skillCategories:l})}catch(n){throw console.error("Error in loadUserSkills:",{error:n,message:n.message,details:n.details,hint:n.hint}),e({error:`Failed to load skills: ${n.message||"Unknown error"}`}),n}finally{e({loading:!1})}},updateSkillRank:async(n,r,s)=>{try{const{data:{user:i},error:o}=await A.auth.getUser();if(o)throw console.error("Auth error:",o),new Error("Authentication error: "+o.message);if(!i)throw console.error("No authenticated user found"),new Error("No authenticated user found");console.log("Updating skill rank:",{categoryIndex:n,skillId:r,rank:s,userId:i.id});const l=t().skillCategories[n],c=l.skills.find(h=>h.id===r);if(!c)throw console.error("Skill not found:",{categoryIndex:n,skillId:r}),new Error("Skill not found");e(h=>({skillCategories:h.skillCategories.map((m,v)=>v===n?{...m,skills:m.skills.map(p=>p.id===r?{...p,rank:s||void 0,status:s?"completed":"not-started"}:p)}:m)}));const u={user_id:i.id,skill_id:r,category_name:c.category_name||l.name,skill_name:c.name,rank:s||null,status:s?"completed":"not-started"};console.log("Sending update to Supabase:",u);const{error:d}=await A.from("user_skills").upsert(u,{onConflict:"user_id,skill_id"});if(d)throw console.error("Supabase error:",{error:d,message:d.message,details:d.details,hint:d.hint,code:d.code}),await t().loadUserSkills(),d;console.log("Successfully updated skill rank")}catch(i){console.error("Error updating skill rank:",{error:i,message:i.message,details:i.details,hint:i.hint,code:i.code}),e({error:`Failed to update skill rank: ${i.message||"Unknown error"}`})}},consoleLogSkillCategories:()=>{console.log("Skill categories in store:",t().skillCategories)}})),Li=Nn((e,t)=>({overallProgress:0,completedSkills:0,totalSkills:22,documentedExperiences:0,totalExperiences:24,supervisorApprovals:0,totalApprovals:24,lastUpdated:new Date().toISOString(),loading:!1,initialized:!1,setupRealtimeSubscriptions:async()=>{const{data:{user:n}}=await A.auth.getUser();if(!n)return;const r=A.channel("experiences-changes").on("postgres_changes",{event:"*",schema:"public",table:"experiences",filter:`user_id=eq.${n.id}`},()=>{console.log(" Experience change detected, updating progress..."),t().updateProgress()}).subscribe(),s=A.channel("skills-changes").on("postgres_changes",{event:"*",schema:"public",table:"skills",filter:`user_id=eq.${n.id}`},()=>{console.log(" Skill change detected, updating progress..."),t().updateProgress()}).subscribe(),i=()=>{r.unsubscribe(),s.unsubscribe()};window.addEventListener("unload",i)},initialize:async()=>{if(!t().loading){e({loading:!0});try{const{data:{user:n}}=await A.auth.getUser();if(!n)throw new Error("No user found");const r=it.getState();r.skillCategories.length===0&&await r.loadUserSkills(),await new Promise(v=>setTimeout(v,100));const s=r.skillCategories.reduce((v,p)=>v+p.skills.filter(y=>y.rank!==void 0).length,0),{data:i,error:o}=await A.from("experiences").select("*").eq("user_id",n.id).eq("is_documented",!0);if(o)throw o;const{data:l,error:c}=await A.from("experiences").select("*").eq("user_id",n.id).eq("supervisor_approved",!0);if(c)throw c;const u=s/22,d=((i==null?void 0:i.length)||0)/24,h=((l==null?void 0:l.length)||0)/24,m=Math.round((u+d+h)/3*100);console.log("Progress calculation:",{completedSkills:s,skillsProgress:u,experiencesProgress:d,approvalsProgress:h,overallProgress:m}),e({overallProgress:m,completedSkills:s,documentedExperiences:(i==null?void 0:i.length)||0,supervisorApprovals:(l==null?void 0:l.length)||0,lastUpdated:new Date().toISOString(),loading:!1,initialized:!0}),await t().setupRealtimeSubscriptions()}catch(n){console.error("Error initializing progress:",n),e({loading:!1,initialized:!1})}}},updateProgress:async()=>{if(!t().loading){e({loading:!0});try{const{data:{user:n}}=await A.auth.getUser();if(!n)throw new Error("No user found");const r=it.getState();r.skillCategories.length===0&&await r.loadUserSkills(),await new Promise(v=>setTimeout(v,100));const s=r.skillCategories.reduce((v,p)=>v+p.skills.filter(y=>y.rank!==void 0).length,0),{data:i,error:o}=await A.from("experiences").select("*").eq("user_id",n.id).eq("is_documented",!0);if(o)throw o;const{data:l,error:c}=await A.from("experiences").select("*").eq("user_id",n.id).eq("supervisor_approved",!0);if(c)throw c;const u=s/22,d=((i==null?void 0:i.length)||0)/24,h=((l==null?void 0:l.length)||0)/24,m=Math.round((u+d+h)/3*100);console.log("Progress update calculation:",{completedSkills:s,skillsProgress:u,experiencesProgress:d,approvalsProgress:h,overallProgress:m}),e({overallProgress:m,completedSkills:s,documentedExperiences:(i==null?void 0:i.length)||0,supervisorApprovals:(l==null?void 0:l.length)||0,lastUpdated:new Date().toISOString(),loading:!1})}catch(n){console.error("Error updating progress:",n),e({loading:!1})}}}})),Kw=[{name:"Dashboard",path:"/dashboard",icon:a.jsx(dc,{size:20})},{name:"Skills",path:"/dashboard/skills",icon:a.jsx(oc,{size:20})},{name:"SAOs",path:"/dashboard/saos",icon:a.jsx(uc,{size:20})},{name:"Documents",path:"/dashboard/documents",icon:a.jsx(Sn,{size:20})},{name:"Jobs",path:"/dashboard/references",icon:a.jsx(bm,{size:20})},{name:"Settings",path:"/dashboard/settings",icon:a.jsx(Tm,{size:20})}],Qw=[{name:"Help & Support",path:"/dashboard/help",icon:a.jsx(km,{size:20})}],Qu=({onClose:e})=>{const{overallProgress:t,loading:n}=Li(),r=Nt(),s=async()=>{await A.auth.signOut()},i=o=>o==="/dashboard"?r.pathname==="/dashboard":r.pathname.startsWith(o);return a.jsxs("aside",{className:"fixed inset-y-0 left-0 z-50 w-64 bg-slate-900 text-white flex flex-col",children:[a.jsx("div",{className:"p-4 border-b border-slate-800 flex items-center justify-center",children:a.jsx("img",{src:ks,alt:"Accreda Logo",className:"h-28 w-auto"})}),a.jsxs("nav",{className:"flex-1 py-6",children:[a.jsx("ul",{className:"space-y-1 px-3",children:Kw.map(o=>a.jsx("li",{children:a.jsxs(Vo,{to:o.path,className:({isActive:l})=>`flex items-center px-3 py-2.5 rounded-lg transition-colors ${i(o.path)?"bg-teal-600 text-white":"text-slate-300 hover:text-white hover:bg-slate-800"}`,onClick:e,children:[a.jsx("span",{className:"mr-3",children:o.icon}),a.jsx("span",{children:o.name})]})},o.name))}),a.jsxs("div",{className:"mt-10 px-4",children:[a.jsx("h3",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500 mb-2 px-3",children:"Support"}),a.jsxs("ul",{className:"space-y-1 px-3",children:[Qw.map(o=>a.jsx("li",{children:a.jsxs(Vo,{to:o.path,className:({isActive:l})=>`flex items-center px-3 py-2.5 rounded-lg transition-colors ${i(o.path)?"bg-slate-800 text-white":"text-slate-400 hover:text-white hover:bg-slate-800"}`,onClick:e,children:[a.jsx("span",{className:"mr-3",children:o.icon}),a.jsx("span",{children:o.name})]})},o.name)),a.jsx("li",{children:a.jsxs("button",{onClick:s,className:"flex items-center px-3 py-2.5 rounded-lg transition-colors w-full text-slate-400 hover:text-white hover:bg-slate-800",children:[a.jsx(Sm,{size:20,className:"mr-3"}),a.jsx("span",{children:"Sign Out"})]})})]})]})]}),a.jsxs("div",{className:"p-4 border-t border-slate-800 sticky bottom-0 bg-slate-900",children:[a.jsxs("div",{className:"mb-2 flex justify-between items-center",children:[a.jsx("h3",{className:"text-sm font-medium text-slate-300",children:"Program Progress"}),a.jsx("span",{className:"text-sm font-semibold text-teal-400",children:n?a.jsx("span",{className:"animate-pulse",children:"..."}):`${t}%`})]}),a.jsx("div",{className:"h-2 bg-slate-800 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-teal-500 rounded-full transition-all duration-300",style:{width:n?"0%":`${t}%`}})})]})]})},Yw=()=>{const[e,t]=w.useState(!1),[n,r]=w.useState(""),[s,i]=w.useState(""),o=w.useRef(null),l=Be();w.useEffect(()=>{(async()=>{var m,v;const{data:{user:h}}=await A.auth.getUser();h&&(i(h.email||""),r(((m=h.user_metadata)==null?void 0:m.full_name)||((v=h.email)==null?void 0:v.split("@")[0])||"User"))})()},[]),w.useEffect(()=>{const d=h=>{o.current&&!o.current.contains(h.target)&&t(!1)};return document.addEventListener("mousedown",d),()=>{document.removeEventListener("mousedown",d)}},[]);const c=async()=>{try{await A.auth.signOut(),l("/login")}catch(d){console.error("Error signing out:",d)}},u=d=>d.split(" ").map(h=>h[0]).join("").toUpperCase().slice(0,2);return a.jsxs("div",{className:"relative",ref:o,children:[a.jsxs("button",{className:"flex items-center space-x-2 focus:outline-none",onClick:()=>t(!e),children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-teal-500 flex items-center justify-center text-white",children:a.jsx("span",{className:"text-sm font-semibold",children:u(n)})}),a.jsx("span",{className:"hidden md:block text-sm font-medium",children:n}),a.jsx(_m,{size:16,className:`text-slate-500 transition-transform ${e?"rotate-180":""}`})]}),e&&a.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg py-1 z-50 border border-slate-200 animate-in fade-in slide-in-from-top-3 duration-200",children:[a.jsxs("div",{className:"px-4 py-2 border-b border-slate-200",children:[a.jsx("p",{className:"text-sm font-semibold",children:n}),a.jsx("p",{className:"text-xs text-slate-500",children:s})]}),a.jsxs("ul",{children:[a.jsx("li",{children:a.jsxs("button",{onClick:()=>{l("/dashboard/settings"),t(!1)},className:"w-full flex items-center px-4 py-2 text-sm text-slate-700 hover:bg-slate-50",children:[a.jsx(Tm,{size:16,className:"mr-2"}),"Settings"]})}),a.jsx("li",{className:"border-t border-slate-200 mt-1",children:a.jsxs("button",{onClick:c,className:"w-full flex items-center px-4 py-2 text-sm text-red-600 hover:bg-red-50",children:[a.jsx(Sm,{size:16,className:"mr-2"}),"Sign out"]})})]})]})]})};function Xw(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Lm=Xw,Zw=typeof je=="object"&&je&&je.Object===Object&&je,e1=Zw,t1=e1,n1=typeof self=="object"&&self&&self.Object===Object&&self,r1=t1||n1||Function("return this")(),$m=r1,s1=$m,i1=function(){return s1.Date.now()},a1=i1,o1=/\s/;function l1(e){for(var t=e.length;t--&&o1.test(e.charAt(t)););return t}var c1=l1,u1=c1,d1=/^\s+/;function h1(e){return e&&e.slice(0,u1(e)+1).replace(d1,"")}var f1=h1,m1=$m,p1=m1.Symbol,Dm=p1,Yu=Dm,Um=Object.prototype,g1=Um.hasOwnProperty,v1=Um.toString,Er=Yu?Yu.toStringTag:void 0;function x1(e){var t=g1.call(e,Er),n=e[Er];try{e[Er]=void 0;var r=!0}catch{}var s=v1.call(e);return r&&(t?e[Er]=n:delete e[Er]),s}var y1=x1,w1=Object.prototype,j1=w1.toString;function b1(e){return j1.call(e)}var _1=b1,Xu=Dm,k1=y1,S1=_1,N1="[object Null]",E1="[object Undefined]",Zu=Xu?Xu.toStringTag:void 0;function C1(e){return e==null?e===void 0?E1:N1:Zu&&Zu in Object(e)?k1(e):S1(e)}var T1=C1;function O1(e){return e!=null&&typeof e=="object"}var P1=O1,A1=T1,I1=P1,R1="[object Symbol]";function L1(e){return typeof e=="symbol"||I1(e)&&A1(e)==R1}var $1=L1,D1=f1,ed=Lm,U1=$1,td=NaN,z1=/^[-+]0x[0-9a-f]+$/i,M1=/^0b[01]+$/i,F1=/^0o[0-7]+$/i,B1=parseInt;function q1(e){if(typeof e=="number")return e;if(U1(e))return td;if(ed(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=ed(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=D1(e);var n=M1.test(e);return n||F1.test(e)?B1(e.slice(2),n?2:8):z1.test(e)?td:+e}var H1=q1,V1=Lm,Ga=a1,nd=H1,W1="Expected a function",G1=Math.max,J1=Math.min;function K1(e,t,n){var r,s,i,o,l,c,u=0,d=!1,h=!1,m=!0;if(typeof e!="function")throw new TypeError(W1);t=nd(t)||0,V1(n)&&(d=!!n.leading,h="maxWait"in n,i=h?G1(nd(n.maxWait)||0,t):i,m="trailing"in n?!!n.trailing:m);function v(C){var T=r,P=s;return r=s=void 0,u=C,o=e.apply(P,T),o}function p(C){return u=C,l=setTimeout(x,t),d?v(C):o}function y(C){var T=C-c,P=C-u,D=t-T;return h?J1(D,i-P):D}function b(C){var T=C-c,P=C-u;return c===void 0||T>=t||T<0||h&&P>=i}function x(){var C=Ga();if(b(C))return f(C);l=setTimeout(x,y(C))}function f(C){return l=void 0,m&&r?v(C):(r=s=void 0,o)}function g(){l!==void 0&&clearTimeout(l),u=0,r=c=s=l=void 0}function j(){return l===void 0?o:f(Ga())}function _(){var C=Ga(),T=b(C);if(r=arguments,s=this,c=C,T){if(l===void 0)return p(c);if(h)return clearTimeout(l),l=setTimeout(x,t),v(c)}return l===void 0&&(l=setTimeout(x,t)),o}return _.cancel=g,_.flush=j,_}var Q1=K1;const Y1=rl(Q1),X1=Nn(e=>({results:[],loading:!1,error:null,search:Y1(async t=>{if(!t.trim()){e({results:[],loading:!1,error:null});return}e({loading:!0,error:null});try{const{data:{user:n}}=await A.auth.getUser();if(!n)throw new Error("No user found");const{data:r,error:s}=await A.rpc("search_all",{search_query:t,user_id:n.id});if(s)throw s;const i=(r||[]).map(o=>{const l={id:o.id,type:o.type,title:o.title,description:o.description,category:o.category};switch(o.type){case"job":return{...l,metadata:{company:o.company,location:o.location}};case"reference":return{...l,metadata:{email:o.email,referenceNumber:o.reference_number}};case"validator":return{...l,metadata:{email:o.email,skillName:o.skill_name}};default:return l}});e({results:i,loading:!1})}catch(n){console.error("Search error:",n),e({error:"Failed to search",loading:!1})}},300),clearResults:()=>e({results:[],error:null})})),Z1=()=>{const[e,t]=w.useState(""),[n,r]=w.useState(!1),{results:s,loading:i,search:o,clearResults:l}=X1(),c=Be(),u=w.useRef(null);w.useEffect(()=>{const p=y=>{u.current&&!u.current.contains(y.target)&&r(!1)};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[]);const d=async p=>{t(p),p.trim()?(r(!0),await o(p)):(r(!1),l())},h=p=>{switch(r(!1),t(""),l(),p.type){case"document":c("/dashboard/documents"),setTimeout(()=>{window.dispatchEvent(new CustomEvent("highlight-document",{detail:{documentId:p.id}}))},500);break;case"sao":c("/dashboard/saos"),setTimeout(()=>{window.dispatchEvent(new CustomEvent("highlight-sao",{detail:{saoId:p.id}}))},500);break;case"skill":c("/dashboard/skills"),setTimeout(()=>{window.dispatchEvent(new CustomEvent("scroll-to-skill",{detail:{skillId:p.id,timestamp:Date.now()}}))},500);break;case"job":c("/dashboard/references"),setTimeout(()=>{window.dispatchEvent(new CustomEvent("scroll-to-item",{detail:{itemId:p.id,itemType:"job"}}))},500);break;case"reference":c("/dashboard/references"),setTimeout(()=>{window.dispatchEvent(new CustomEvent("scroll-to-item",{detail:{itemId:p.id,itemType:"reference"}}))},500);break;case"validator":c("/dashboard/references"),setTimeout(()=>{window.dispatchEvent(new CustomEvent("scroll-to-item",{detail:{itemId:p.id,itemType:"validator"}}))},500);break}},m=p=>{switch(p){case"document":return a.jsx(Sn,{size:16,className:"text-blue-500"});case"sao":return a.jsx(uc,{size:16,className:"text-amber-500"});case"skill":return a.jsx(oc,{size:16,className:"text-green-500"});case"job":return a.jsx(cr,{size:16,className:"text-purple-500"});case"reference":return a.jsx(Ss,{size:16,className:"text-indigo-500"});case"validator":return a.jsx(yt,{size:16,className:"text-teal-500"})}},v=p=>{if(!p.metadata)return null;switch(p.type){case"job":return`${p.metadata.company}  ${p.metadata.location}`;case"reference":return`Reference ${p.metadata.referenceNumber}  ${p.metadata.email}`;case"validator":return`${p.metadata.skillName}  ${p.metadata.email}`;default:return null}};return a.jsxs("div",{className:"relative",ref:u,children:[a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",placeholder:"Search documents, SAOs, skills, jobs, references...",value:e,onChange:p=>d(p.target.value),className:"pl-9 pr-4 py-2 bg-slate-100 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500 w-64"}),a.jsx(Cm,{className:"absolute left-3 top-2.5 text-slate-400",size:18}),i&&a.jsx(pw,{className:"absolute right-3 top-2.5 text-slate-400 animate-spin",size:18})]}),n&&(e.trim()||s.length>0)&&a.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white rounded-lg shadow-lg border border-slate-200 max-h-96 overflow-y-auto z-50",children:s.length>0?a.jsx("div",{className:"py-2",children:s.map(p=>a.jsxs("button",{onClick:()=>h(p),className:"w-full px-4 py-2 text-left hover:bg-slate-50 flex items-center space-x-3",children:[m(p.type),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-slate-900 truncate",children:p.title}),p.description&&a.jsx("p",{className:"text-xs text-slate-500 truncate",children:p.description}),p.category&&a.jsx("p",{className:"text-xs text-slate-500",children:p.category}),v(p)&&a.jsx("p",{className:"text-xs text-slate-500",children:v(p)})]})]},`${p.type}-${p.id}`))}):a.jsx("div",{className:"px-4 py-3 text-sm text-slate-500",children:"No results found"})})]})},ej=({onMenuClick:e})=>a.jsxs("header",{className:"fixed top-0 right-0 left-0 md:left-64 bg-white/80 backdrop-blur-md z-10 border-b border-slate-200 px-4 py-3 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("button",{onClick:e,className:"p-2 rounded-lg text-slate-500 hover:bg-slate-100 md:hidden","aria-label":"Menu",children:a.jsx(gw,{size:24})}),a.jsx("div",{className:"ml-2 md:ml-0",children:a.jsx("h1",{className:"text-xl font-semibold text-slate-800",children:"EIT Progress"})})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"hidden md:block",children:a.jsx(Z1,{})}),a.jsxs("button",{className:"p-2 rounded-lg text-slate-500 hover:bg-slate-100 relative","aria-label":"Notifications",children:[a.jsx(Xy,{size:20}),a.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"})]}),a.jsx(Yw,{})]})]}),tj=()=>{const e=[{name:"Home",path:"/dashboard",icon:a.jsx(dc,{size:20})},{name:"Skills",path:"/dashboard/skills",icon:a.jsx(cw,{size:20})},{name:"Documents",path:"/dashboard/documents",icon:a.jsx(Sn,{size:20})},{name:"Essays",path:"/dashboard/essays",icon:a.jsx(Em,{size:20})},{name:"Help",path:"/dashboard/help",icon:a.jsx(km,{size:20})}];return a.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-slate-200 p-2 z-10",children:a.jsx("ul",{className:"flex justify-around",children:e.map(t=>a.jsx("li",{children:a.jsxs(Vo,{to:t.path,className:({isActive:n})=>`flex flex-col items-center p-2 rounded-lg transition-colors ${n?"text-teal-600":"text-slate-500 hover:text-teal-600"}`,children:[a.jsx("span",{children:t.icon}),a.jsx("span",{className:"text-xs mt-1",children:t.name})]})},t.name))})})},nj=()=>{const[e,t]=w.useState(!1);return a.jsxs("div",{className:"min-h-screen bg-slate-50",children:[a.jsx("div",{className:"hidden md:block",children:a.jsx(Qu,{})}),e&&a.jsxs("div",{className:"fixed inset-0 z-50 md:hidden",children:[a.jsx("div",{className:"fixed inset-0 bg-slate-900/50 backdrop-blur-sm",onClick:()=>t(!1)}),a.jsx("div",{className:"fixed inset-y-0 left-0 w-full max-w-xs bg-white shadow-xl",children:a.jsx(Qu,{onClose:()=>t(!1)})})]}),a.jsxs("div",{className:"md:pl-64 flex flex-col min-h-screen",children:[a.jsx(ej,{onMenuClick:()=>t(!0)}),a.jsx("main",{className:"flex-1 p-4 md:p-6 pt-20 md:pt-24 pb-20 md:pb-6",children:a.jsx(hv,{})}),a.jsx("div",{className:"md:hidden",children:a.jsx(tj,{})})]})]})},rj=({title:e,value:t,total:n=100,description:r,color:s})=>{const[i,o]=w.useState(0),l=Math.round(t/n*100);w.useEffect(()=>{const u=setTimeout(()=>{requestAnimationFrame(()=>{o(l)})},100);return()=>clearTimeout(u)},[l]);const c={teal:{bg:"bg-teal-500",text:"text-teal-700",lightBg:"bg-teal-100"},blue:{bg:"bg-blue-500",text:"text-blue-700",lightBg:"bg-blue-100"},indigo:{bg:"bg-indigo-500",text:"text-indigo-700",lightBg:"bg-indigo-100"},purple:{bg:"bg-purple-500",text:"text-purple-700",lightBg:"bg-purple-100"}};return a.jsxs("div",{className:"card hover:scale-[1.02] transition-transform duration-200",children:[a.jsxs("div",{className:"flex justify-between items-start mb-3",children:[a.jsx("h3",{className:"font-medium text-slate-800",children:e}),a.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-full bg-slate-100",children:a.jsxs("span",{className:`text-sm font-semibold ${c[s].text}`,children:[l,"%"]})})]}),a.jsx("div",{className:"progress-bar mb-2",children:a.jsx("div",{className:`progress-bar-fill ${c[s].bg}`,style:{width:`${i}%`,transition:"width 0.8s cubic-bezier(0.4, 0, 0.2, 1)"}})}),a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-slate-500",children:r}),n!==100&&a.jsxs("span",{className:"font-medium text-slate-700",children:[t,"/",n]})]})]})},fc=Nn((e,t)=>({saos:[],loading:!1,error:null,createSAO:async(n,r,s)=>{e({loading:!0,error:null});try{console.log("Creating new SAO...");const{data:{user:i},error:o}=await A.auth.getUser();if(o)throw console.error("Auth error:",o),new Error("Authentication error: "+o.message);if(!i)throw new Error("No authenticated user found");console.log("Creating SAO:",{title:n,content:r,skills:s,userId:i.id});const{data:l,error:c}=await A.from("saos").insert([{user_id:i.id,title:n,content:r}]).select().single();if(c)throw console.error("Error creating SAO:",{error:c,message:c.message,details:c.details,hint:c.hint,code:c.code}),c;console.log("SAO created successfully:",l);const u=s.map(h=>({sao_id:l.id,skill_id:h.id,category_name:h.category_name||"",skill_name:h.name}));console.log("Creating SAO skills relationships:",u);const{error:d}=await A.from("sao_skills").insert(u);if(d)throw console.error("Error creating SAO skills:",{error:d,message:d.message,details:d.details,hint:d.hint,code:d.code}),d;console.log("SAO skills created successfully"),await t().loadUserSAOs()}catch(i){throw console.error("Error in createSAO:",{error:i,message:i.message,details:i.details,hint:i.hint}),e({error:`Failed to create SAO: ${i.message||"Unknown error"}`}),i}finally{e({loading:!1})}},updateSAO:async(n,r,s,i)=>{e({loading:!0,error:null});try{console.log("Updating SAO:",{id:n,title:r,content:s,skills:i});const{data:{user:o},error:l}=await A.auth.getUser();if(l)throw console.error("Auth error:",l),new Error("Authentication error: "+l.message);if(!o)throw new Error("No authenticated user found");const{error:c}=await A.from("saos").update({title:r,content:s}).eq("id",n).eq("user_id",o.id);if(c)throw console.error("Error updating SAO:",c),c;const{error:u}=await A.from("sao_skills").delete().eq("sao_id",n);if(u)throw console.error("Error deleting existing SAO skills:",u),u;const d=i.map(m=>({sao_id:n,skill_id:m.id,category_name:m.category_name||"",skill_name:m.name})),{error:h}=await A.from("sao_skills").insert(d);if(h)throw console.error("Error updating SAO skills:",h),h;await t().loadUserSAOs()}catch(o){throw console.error("Error in updateSAO:",{error:o,message:o.message,details:o.details,hint:o.hint}),e({error:`Failed to update SAO: ${o.message||"Unknown error"}`}),o}finally{e({loading:!1})}},deleteSAO:async n=>{e({loading:!0,error:null});try{console.log("Deleting SAO:",n);const{data:{user:r},error:s}=await A.auth.getUser();if(s)throw console.error("Auth error:",s),new Error("Authentication error: "+s.message);if(!r)throw new Error("No authenticated user found");const{error:i}=await A.from("sao_skills").delete().eq("sao_id",n);if(i)throw console.error("Error deleting SAO skills:",i),i;const{error:o}=await A.from("saos").delete().eq("id",n).eq("user_id",r.id);if(o)throw console.error("Error deleting SAO:",o),o;e(l=>({saos:l.saos.filter(c=>c.id!==n)}))}catch(r){throw console.error("Error in deleteSAO:",{error:r,message:r.message,details:r.details,hint:r.hint}),e({error:`Failed to delete SAO: ${r.message||"Unknown error"}`}),r}finally{e({loading:!1})}},loadUserSAOs:async()=>{e({loading:!0,error:null});try{console.log("Loading user SAOs...");const{data:{user:n},error:r}=await A.auth.getUser();if(r)throw console.error("Auth error:",r),new Error("Authentication error: "+r.message);if(!n)throw new Error("No authenticated user found");console.log("Fetching SAOs for user:",n.id);const{data:s,error:i}=await A.from("saos").select(`
          *,
          sao_skills (
            skill_id,
            category_name,
            skill_name
          )
        `).eq("user_id",n.id).order("created_at",{ascending:!1});if(i)throw console.error("Error fetching SAOs:",i),i;console.log("SAOs fetched:",s==null?void 0:s.length);const o=(s==null?void 0:s.map(l=>({...l,skills:l.sao_skills.map(c=>({id:c.skill_id,name:c.skill_name,category_name:c.category_name,status:"not-started"}))})))||[];console.log("Transformed SAOs:",o.length),e({saos:o})}catch(n){throw console.error("Error in loadUserSAOs:",{error:n,message:n.message,details:n.details,hint:n.hint}),e({error:`Failed to load SAOs: ${n.message||"Unknown error"}`}),n}finally{e({loading:!1})}}}));var rd;(function(e){e.STRING="string",e.NUMBER="number",e.INTEGER="integer",e.BOOLEAN="boolean",e.ARRAY="array",e.OBJECT="object"})(rd||(rd={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sd;(function(e){e.LANGUAGE_UNSPECIFIED="language_unspecified",e.PYTHON="python"})(sd||(sd={}));var id;(function(e){e.OUTCOME_UNSPECIFIED="outcome_unspecified",e.OUTCOME_OK="outcome_ok",e.OUTCOME_FAILED="outcome_failed",e.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(id||(id={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ad=["user","model","function","system"];var od;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(od||(od={}));var ld;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(ld||(ld={}));var cd;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(cd||(cd={}));var ud;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER"})(ud||(ud={}));var Vr;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.OTHER="OTHER"})(Vr||(Vr={}));var dd;(function(e){e.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",e.RETRIEVAL_QUERY="RETRIEVAL_QUERY",e.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",e.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",e.CLASSIFICATION="CLASSIFICATION",e.CLUSTERING="CLUSTERING"})(dd||(dd={}));var hd;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE"})(hd||(hd={}));var fd;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(fd||(fd={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we extends Error{constructor(t){super(`[GoogleGenerativeAI Error]: ${t}`)}}class An extends we{constructor(t,n){super(t),this.response=n}}class zm extends we{constructor(t,n,r,s){super(t),this.status=n,this.statusText=r,this.errorDetails=s}}class Kt extends we{}class Mm extends we{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sj="https://generativelanguage.googleapis.com",ij="v1beta",aj="0.24.1",oj="genai-js";var wn;(function(e){e.GENERATE_CONTENT="generateContent",e.STREAM_GENERATE_CONTENT="streamGenerateContent",e.COUNT_TOKENS="countTokens",e.EMBED_CONTENT="embedContent",e.BATCH_EMBED_CONTENTS="batchEmbedContents"})(wn||(wn={}));class lj{constructor(t,n,r,s,i){this.model=t,this.task=n,this.apiKey=r,this.stream=s,this.requestOptions=i}toString(){var t,n;const r=((t=this.requestOptions)===null||t===void 0?void 0:t.apiVersion)||ij;let i=`${((n=this.requestOptions)===null||n===void 0?void 0:n.baseUrl)||sj}/${r}/${this.model}:${this.task}`;return this.stream&&(i+="?alt=sse"),i}}function cj(e){const t=[];return e!=null&&e.apiClient&&t.push(e.apiClient),t.push(`${oj}/${aj}`),t.join(" ")}async function uj(e){var t;const n=new Headers;n.append("Content-Type","application/json"),n.append("x-goog-api-client",cj(e.requestOptions)),n.append("x-goog-api-key",e.apiKey);let r=(t=e.requestOptions)===null||t===void 0?void 0:t.customHeaders;if(r){if(!(r instanceof Headers))try{r=new Headers(r)}catch(s){throw new Kt(`unable to convert customHeaders value ${JSON.stringify(r)} to Headers: ${s.message}`)}for(const[s,i]of r.entries()){if(s==="x-goog-api-key")throw new Kt(`Cannot set reserved header name ${s}`);if(s==="x-goog-api-client")throw new Kt(`Header name ${s} can only be set using the apiClient field`);n.append(s,i)}}return n}async function dj(e,t,n,r,s,i){const o=new lj(e,t,n,r,i);return{url:o.toString(),fetchOptions:Object.assign(Object.assign({},pj(i)),{method:"POST",headers:await uj(o),body:s})}}async function Ns(e,t,n,r,s,i={},o=fetch){const{url:l,fetchOptions:c}=await dj(e,t,n,r,s,i);return hj(l,c,o)}async function hj(e,t,n=fetch){let r;try{r=await n(e,t)}catch(s){fj(s,e)}return r.ok||await mj(r,e),r}function fj(e,t){let n=e;throw n.name==="AbortError"?(n=new Mm(`Request aborted when fetching ${t.toString()}: ${e.message}`),n.stack=e.stack):e instanceof zm||e instanceof Kt||(n=new we(`Error fetching from ${t.toString()}: ${e.message}`),n.stack=e.stack),n}async function mj(e,t){let n="",r;try{const s=await e.json();n=s.error.message,s.error.details&&(n+=` ${JSON.stringify(s.error.details)}`,r=s.error.details)}catch{}throw new zm(`Error fetching from ${t.toString()}: [${e.status} ${e.statusText}] ${n}`,e.status,e.statusText,r)}function pj(e){const t={};if((e==null?void 0:e.signal)!==void 0||(e==null?void 0:e.timeout)>=0){const n=new AbortController;(e==null?void 0:e.timeout)>=0&&setTimeout(()=>n.abort(),e.timeout),e!=null&&e.signal&&e.signal.addEventListener("abort",()=>{n.abort()}),t.signal=n.signal}return t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mc(e){return e.text=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),oi(e.candidates[0]))throw new An(`${It(e)}`,e);return gj(e)}else if(e.promptFeedback)throw new An(`Text not available. ${It(e)}`,e);return""},e.functionCall=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),oi(e.candidates[0]))throw new An(`${It(e)}`,e);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),md(e)[0]}else if(e.promptFeedback)throw new An(`Function call not available. ${It(e)}`,e)},e.functionCalls=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),oi(e.candidates[0]))throw new An(`${It(e)}`,e);return md(e)}else if(e.promptFeedback)throw new An(`Function call not available. ${It(e)}`,e)},e}function gj(e){var t,n,r,s;const i=[];if(!((n=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||n===void 0)&&n.parts)for(const o of(s=(r=e.candidates)===null||r===void 0?void 0:r[0].content)===null||s===void 0?void 0:s.parts)o.text&&i.push(o.text),o.executableCode&&i.push("\n```"+o.executableCode.language+`
`+o.executableCode.code+"\n```\n"),o.codeExecutionResult&&i.push("\n```\n"+o.codeExecutionResult.output+"\n```\n");return i.length>0?i.join(""):""}function md(e){var t,n,r,s;const i=[];if(!((n=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||n===void 0)&&n.parts)for(const o of(s=(r=e.candidates)===null||r===void 0?void 0:r[0].content)===null||s===void 0?void 0:s.parts)o.functionCall&&i.push(o.functionCall);if(i.length>0)return i}const vj=[Vr.RECITATION,Vr.SAFETY,Vr.LANGUAGE];function oi(e){return!!e.finishReason&&vj.includes(e.finishReason)}function It(e){var t,n,r;let s="";if((!e.candidates||e.candidates.length===0)&&e.promptFeedback)s+="Response was blocked",!((t=e.promptFeedback)===null||t===void 0)&&t.blockReason&&(s+=` due to ${e.promptFeedback.blockReason}`),!((n=e.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(s+=`: ${e.promptFeedback.blockReasonMessage}`);else if(!((r=e.candidates)===null||r===void 0)&&r[0]){const i=e.candidates[0];oi(i)&&(s+=`Candidate was blocked due to ${i.finishReason}`,i.finishMessage&&(s+=`: ${i.finishMessage}`))}return s}function ms(e){return this instanceof ms?(this.v=e,this):new ms(e)}function xj(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),s,i=[];return s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s;function o(m){r[m]&&(s[m]=function(v){return new Promise(function(p,y){i.push([m,v,p,y])>1||l(m,v)})})}function l(m,v){try{c(r[m](v))}catch(p){h(i[0][3],p)}}function c(m){m.value instanceof ms?Promise.resolve(m.value.v).then(u,d):h(i[0][2],m)}function u(m){l("next",m)}function d(m){l("throw",m)}function h(m,v){m(v),i.shift(),i.length&&l(i[0][0],i[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pd=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function yj(e){const t=e.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=bj(t),[r,s]=n.tee();return{stream:jj(r),response:wj(s)}}async function wj(e){const t=[],n=e.getReader();for(;;){const{done:r,value:s}=await n.read();if(r)return mc(_j(t));t.push(s)}}function jj(e){return xj(this,arguments,function*(){const n=e.getReader();for(;;){const{value:r,done:s}=yield ms(n.read());if(s)break;yield yield ms(mc(r))}})}function bj(e){const t=e.getReader();return new ReadableStream({start(r){let s="";return i();function i(){return t.read().then(({value:o,done:l})=>{if(l){if(s.trim()){r.error(new we("Failed to parse stream"));return}r.close();return}s+=o;let c=s.match(pd),u;for(;c;){try{u=JSON.parse(c[1])}catch{r.error(new we(`Error parsing JSON response: "${c[1]}"`));return}r.enqueue(u),s=s.substring(c[0].length),c=s.match(pd)}return i()}).catch(o=>{let l=o;throw l.stack=o.stack,l.name==="AbortError"?l=new Mm("Request aborted when reading from the stream"):l=new we("Error reading from the stream"),l})}}})}function _j(e){const t=e[e.length-1],n={promptFeedback:t==null?void 0:t.promptFeedback};for(const r of e){if(r.candidates){let s=0;for(const i of r.candidates)if(n.candidates||(n.candidates=[]),n.candidates[s]||(n.candidates[s]={index:s}),n.candidates[s].citationMetadata=i.citationMetadata,n.candidates[s].groundingMetadata=i.groundingMetadata,n.candidates[s].finishReason=i.finishReason,n.candidates[s].finishMessage=i.finishMessage,n.candidates[s].safetyRatings=i.safetyRatings,i.content&&i.content.parts){n.candidates[s].content||(n.candidates[s].content={role:i.content.role||"user",parts:[]});const o={};for(const l of i.content.parts)l.text&&(o.text=l.text),l.functionCall&&(o.functionCall=l.functionCall),l.executableCode&&(o.executableCode=l.executableCode),l.codeExecutionResult&&(o.codeExecutionResult=l.codeExecutionResult),Object.keys(o).length===0&&(o.text=""),n.candidates[s].content.parts.push(o)}s++}r.usageMetadata&&(n.usageMetadata=r.usageMetadata)}return n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fm(e,t,n,r){const s=await Ns(t,wn.STREAM_GENERATE_CONTENT,e,!0,JSON.stringify(n),r);return yj(s)}async function Bm(e,t,n,r){const i=await(await Ns(t,wn.GENERATE_CONTENT,e,!1,JSON.stringify(n),r)).json();return{response:mc(i)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qm(e){if(e!=null){if(typeof e=="string")return{role:"system",parts:[{text:e}]};if(e.text)return{role:"system",parts:[e]};if(e.parts)return e.role?e:{role:"system",parts:e.parts}}}function ps(e){let t=[];if(typeof e=="string")t=[{text:e}];else for(const n of e)typeof n=="string"?t.push({text:n}):t.push(n);return kj(t)}function kj(e){const t={role:"user",parts:[]},n={role:"function",parts:[]};let r=!1,s=!1;for(const i of e)"functionResponse"in i?(n.parts.push(i),s=!0):(t.parts.push(i),r=!0);if(r&&s)throw new we("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!r&&!s)throw new we("No content is provided for sending chat message.");return r?t:n}function Sj(e,t){var n;let r={model:t==null?void 0:t.model,generationConfig:t==null?void 0:t.generationConfig,safetySettings:t==null?void 0:t.safetySettings,tools:t==null?void 0:t.tools,toolConfig:t==null?void 0:t.toolConfig,systemInstruction:t==null?void 0:t.systemInstruction,cachedContent:(n=t==null?void 0:t.cachedContent)===null||n===void 0?void 0:n.name,contents:[]};const s=e.generateContentRequest!=null;if(e.contents){if(s)throw new Kt("CountTokensRequest must have one of contents or generateContentRequest, not both.");r.contents=e.contents}else if(s)r=Object.assign(Object.assign({},r),e.generateContentRequest);else{const i=ps(e);r.contents=[i]}return{generateContentRequest:r}}function gd(e){let t;return e.contents?t=e:t={contents:[ps(e)]},e.systemInstruction&&(t.systemInstruction=qm(e.systemInstruction)),t}function Nj(e){return typeof e=="string"||Array.isArray(e)?{content:ps(e)}:e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vd=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],Ej={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function Cj(e){let t=!1;for(const n of e){const{role:r,parts:s}=n;if(!t&&r!=="user")throw new we(`First content should be with role 'user', got ${r}`);if(!ad.includes(r))throw new we(`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify(ad)}`);if(!Array.isArray(s))throw new we("Content should have 'parts' property with an array of Parts");if(s.length===0)throw new we("Each Content should have at least one part");const i={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const l of s)for(const c of vd)c in l&&(i[c]+=1);const o=Ej[r];for(const l of vd)if(!o.includes(l)&&i[l]>0)throw new we(`Content with role '${r}' can't contain '${l}' part`);t=!0}}function xd(e){var t;if(e.candidates===void 0||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;if(n===void 0||n.parts===void 0||n.parts.length===0)return!1;for(const r of n.parts)if(r===void 0||Object.keys(r).length===0||r.text!==void 0&&r.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yd="SILENT_ERROR";class Tj{constructor(t,n,r,s={}){this.model=n,this.params=r,this._requestOptions=s,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=t,r!=null&&r.history&&(Cj(r.history),this._history=r.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(t,n={}){var r,s,i,o,l,c;await this._sendPromise;const u=ps(t),d={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(s=this.params)===null||s===void 0?void 0:s.generationConfig,tools:(i=this.params)===null||i===void 0?void 0:i.tools,toolConfig:(o=this.params)===null||o===void 0?void 0:o.toolConfig,systemInstruction:(l=this.params)===null||l===void 0?void 0:l.systemInstruction,cachedContent:(c=this.params)===null||c===void 0?void 0:c.cachedContent,contents:[...this._history,u]},h=Object.assign(Object.assign({},this._requestOptions),n);let m;return this._sendPromise=this._sendPromise.then(()=>Bm(this._apiKey,this.model,d,h)).then(v=>{var p;if(xd(v.response)){this._history.push(u);const y=Object.assign({parts:[],role:"model"},(p=v.response.candidates)===null||p===void 0?void 0:p[0].content);this._history.push(y)}else{const y=It(v.response);y&&console.warn(`sendMessage() was unsuccessful. ${y}. Inspect response object for details.`)}m=v}).catch(v=>{throw this._sendPromise=Promise.resolve(),v}),await this._sendPromise,m}async sendMessageStream(t,n={}){var r,s,i,o,l,c;await this._sendPromise;const u=ps(t),d={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(s=this.params)===null||s===void 0?void 0:s.generationConfig,tools:(i=this.params)===null||i===void 0?void 0:i.tools,toolConfig:(o=this.params)===null||o===void 0?void 0:o.toolConfig,systemInstruction:(l=this.params)===null||l===void 0?void 0:l.systemInstruction,cachedContent:(c=this.params)===null||c===void 0?void 0:c.cachedContent,contents:[...this._history,u]},h=Object.assign(Object.assign({},this._requestOptions),n),m=Fm(this._apiKey,this.model,d,h);return this._sendPromise=this._sendPromise.then(()=>m).catch(v=>{throw new Error(yd)}).then(v=>v.response).then(v=>{if(xd(v)){this._history.push(u);const p=Object.assign({},v.candidates[0].content);p.role||(p.role="model"),this._history.push(p)}else{const p=It(v);p&&console.warn(`sendMessageStream() was unsuccessful. ${p}. Inspect response object for details.`)}}).catch(v=>{v.message!==yd&&console.error(v)}),m}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oj(e,t,n,r){return(await Ns(t,wn.COUNT_TOKENS,e,!1,JSON.stringify(n),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pj(e,t,n,r){return(await Ns(t,wn.EMBED_CONTENT,e,!1,JSON.stringify(n),r)).json()}async function Aj(e,t,n,r){const s=n.requests.map(o=>Object.assign(Object.assign({},o),{model:t}));return(await Ns(t,wn.BATCH_EMBED_CONTENTS,e,!1,JSON.stringify({requests:s}),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(t,n,r={}){this.apiKey=t,this._requestOptions=r,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=qm(n.systemInstruction),this.cachedContent=n.cachedContent}async generateContent(t,n={}){var r;const s=gd(t),i=Object.assign(Object.assign({},this._requestOptions),n);return Bm(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},s),i)}async generateContentStream(t,n={}){var r;const s=gd(t),i=Object.assign(Object.assign({},this._requestOptions),n);return Fm(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},s),i)}startChat(t){var n;return new Tj(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},t),this._requestOptions)}async countTokens(t,n={}){const r=Sj(t,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),s=Object.assign(Object.assign({},this._requestOptions),n);return Oj(this.apiKey,this.model,r,s)}async embedContent(t,n={}){const r=Nj(t),s=Object.assign(Object.assign({},this._requestOptions),n);return Pj(this.apiKey,this.model,r,s)}async batchEmbedContents(t,n={}){const r=Object.assign(Object.assign({},this._requestOptions),n);return Aj(this.apiKey,this.model,t,r)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ij{constructor(t){this.apiKey=t}getGenerativeModel(t,n){if(!t.model)throw new we("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new wd(this.apiKey,t,n)}getGenerativeModelFromCachedContent(t,n,r){if(!t.name)throw new Kt("Cached content must contain a `name` field.");if(!t.model)throw new Kt("Cached content must contain a `model` field.");const s=["model","systemInstruction"];for(const o of s)if(n!=null&&n[o]&&t[o]&&(n==null?void 0:n[o])!==t[o]){if(o==="model"){const l=n.model.startsWith("models/")?n.model.replace("models/",""):n.model,c=t.model.startsWith("models/")?t.model.replace("models/",""):t.model;if(l===c)continue}throw new Kt(`Different value for "${o}" specified in modelParams (${n[o]}) and cachedContent (${t[o]})`)}const i=Object.assign(Object.assign({},n),{model:t.model,tools:t.tools,toolConfig:t.toolConfig,systemInstruction:t.systemInstruction,cachedContent:t});return new wd(this.apiKey,i,r)}}const Hm=({isOpen:e,onClose:t,editSAO:n})=>{const[r,s]=w.useState(""),[i,o]=w.useState(""),[l,c]=w.useState([]),[u,d]=w.useState(!1),[h,m]=w.useState(!1),[v,p]=w.useState(null),{skillCategories:y}=it(),{createSAO:b,updateSAO:x,loading:f,error:g}=fc();w.useEffect(()=>{e&&n?(s(n.title),o(n.content),c(n.skills)):e&&(s(""),o(""),c([]))},[e,n]);const j=async D=>{D.preventDefault();try{n?await x(n.id,r,i,l):await b(r,i,l),s(""),o(""),c([]),t()}catch($){console.error("Error saving SAO:",$)}},_=async D=>{console.log("Making API call to Gemini...");const V=`You are an expert in writing professional Situation-Action-Outcome (SAO) statements. Please enhance the following SAO statement following these specific guidelines:

1. Structure:
   - Situation: Clearly describe the context, challenge, or problem faced
   - Action: Detail the specific steps taken, emphasizing your personal involvement
   - Outcome: Quantify results and highlight the impact of your actions

2. Best Practices:
   - Use active voice and strong action verbs
   - Include specific metrics and numbers where possible
   - Focus on your personal contributions and leadership
   - Highlight problem-solving and decision-making skills
   - Maintain a professional and confident tone
   - Keep the statement concise but impactful

3. Key Elements to Include:
   - Clear problem statement
   - Specific actions taken
   - Measurable results
   - Skills demonstrated
   - Impact on the organization/team

Please enhance the following SAO statement while maintaining its core message and following these guidelines:

${D}

Format the response as a clear SAO statement with Situation, Action, and Outcome sections clearly separated.`;try{const I=(await(await new Ij(void 0).getGenerativeModel({model:"gemini-2.0-flash"}).generateContent(V)).response).text();return console.log("API Response received:",I),I}catch(F){throw console.error("Error in enhanceWithGemini:",F),F}},C=async()=>{if(i.trim()){m(!0);try{console.log("Starting enhancement process...");const D=await _(i);console.log("Enhancement completed:",D),p(D)}catch(D){console.error("Error in handleEnhanceWithAI:",D),alert(D instanceof Error?D.message:"Failed to enhance text. Please try again.")}finally{m(!1)}}},T=()=>{v&&(o(v),p(null))},P=()=>{p(null)};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-8 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-2xl font-semibold",children:n?"Edit SAO":"Create New SAO"}),a.jsx("button",{onClick:t,className:"text-slate-400 hover:text-slate-600",children:a.jsx(Ue,{size:24})})]}),g&&a.jsx("div",{className:"mb-6 p-4 bg-red-50 text-red-700 rounded-md text-sm",children:g}),a.jsxs("form",{onSubmit:j,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-slate-700 mb-2",children:"Title"}),a.jsx("input",{type:"text",id:"title",value:r,onChange:D=>s(D.target.value),className:"w-full px-4 py-3 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500 text-lg",placeholder:"Enter SAO title",required:!0,disabled:f})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"sao",className:"block text-sm font-medium text-slate-700 mb-2",children:"Situation-Action-Outcome"}),a.jsxs("div",{className:"relative",children:[a.jsx("textarea",{id:"sao",value:v||i,onChange:D=>{v||o(D.target.value)},className:"w-full px-4 py-3 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500 min-h-[400px] text-lg",placeholder:"Describe your situation, actions, and outcomes...",required:!0,disabled:f||h}),a.jsxs("button",{type:"button",onClick:C,disabled:!i.trim()||f||h,className:"absolute top-4 right-4 p-3 text-slate-400 hover:text-teal-600 hover:bg-slate-100 rounded-lg transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed group",title:"Enhance with AI",children:[a.jsxs("div",{className:"relative",children:[a.jsx(xw,{size:24,className:`${h?"animate-pulse":""} transition-transform duration-300 group-hover:scale-110`}),h&&a.jsx("div",{className:"absolute inset-0 animate-ping rounded-full bg-teal-400 opacity-20"})]}),a.jsx("span",{className:"absolute right-full mr-2 top-1/2 -translate-y-1/2 bg-slate-800 text-white px-3 py-1.5 rounded text-sm font-medium opacity-0 group-hover:opacity-100 transition-opacity duration-300 whitespace-nowrap",children:"Enhance with AI"})]})]}),v&&a.jsxs("div",{className:"mt-3 flex items-center gap-3",children:[a.jsx("span",{className:"text-sm text-slate-600",children:"AI Enhancement Preview"}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{type:"button",onClick:T,className:"px-4 py-2 text-sm font-medium text-white bg-teal-600 hover:bg-teal-700 rounded-md transition-all duration-300 hover:scale-105 active:scale-95",children:"Accept"}),a.jsx("button",{type:"button",onClick:P,className:"px-4 py-2 text-sm font-medium text-slate-600 hover:text-slate-800 hover:bg-slate-100 rounded-md transition-all duration-300 hover:scale-105 active:scale-95",children:"Decline"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Relevant Skills"}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:l.map(D=>a.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full text-sm font-medium bg-teal-100 text-teal-800",children:[D.name,a.jsx("button",{type:"button",onClick:()=>c($=>$.filter(V=>V.id!==D.id)),className:"ml-2 text-teal-600 hover:text-teal-800",disabled:f,children:a.jsx(Ue,{size:16})})]},D.id))}),a.jsxs("button",{type:"button",onClick:()=>d(!0),className:"btn btn-secondary w-full flex items-center justify-center gap-2 py-3 text-lg",disabled:f,children:[a.jsx(ur,{size:20}),"Select Skills"]})]}),a.jsxs("div",{className:"flex justify-end gap-3 mt-8",children:[a.jsx("button",{type:"button",onClick:t,className:"btn btn-secondary px-6 py-3 text-lg",disabled:f,children:"Cancel"}),a.jsx("button",{type:"submit",className:"btn btn-primary px-6 py-3 text-lg",disabled:f,children:f?"Saving...":n?"Update SAO":"Create SAO"})]})]}),u&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-[60]",children:a.jsxs("div",{className:"bg-white rounded-lg p-8 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h3",{className:"text-2xl font-semibold",children:"Select Skills"}),a.jsx("button",{onClick:()=>d(!1),className:"text-slate-400 hover:text-slate-600",children:a.jsx(Ue,{size:24})})]}),a.jsx("div",{className:"space-y-6",children:y.map(D=>a.jsxs("div",{className:"border rounded-lg p-6",children:[a.jsx("h4",{className:"font-medium text-slate-900 text-lg mb-4",children:D.name}),a.jsx("div",{className:"space-y-3",children:D.skills.map($=>a.jsxs("label",{className:"flex items-center space-x-3 p-3 hover:bg-slate-50 rounded cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:l.some(V=>V.id===$.id),onChange:V=>{V.target.checked?c(F=>[...F,{...$,category_name:D.name}]):c(F=>F.filter(N=>N.id!==$.id))},className:"rounded text-teal-600 focus:ring-teal-500 w-5 h-5"}),a.jsx("span",{className:"text-base",children:$.name})]},$.id))})]},D.name))}),a.jsx("div",{className:"flex justify-end mt-8",children:a.jsx("button",{onClick:()=>d(!1),className:"btn btn-primary px-6 py-3 text-lg",children:"Done"})})]})})]})}):null},Rj=({sao:e,onDelete:t,onEdit:n})=>{const r=w.useRef(null),[s]=Gf(),i=s.get("saoId");return w.useEffect(()=>{var o,l;i===e.id&&((o=r.current)==null||o.scrollIntoView({behavior:"smooth",block:"center"}),(l=r.current)==null||l.classList.add("ring","ring-teal-400"),setTimeout(()=>{var c;(c=r.current)==null||c.classList.remove("ring","ring-teal-400")},1500))},[i,e.id]),a.jsxs("div",{ref:r,className:"bg-white rounded-lg shadow p-6",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:e.title}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>n(e),className:"text-slate-400 hover:text-teal-600 transition-colors",title:"Edit SAO",children:a.jsx(fs,{size:18})}),a.jsx("button",{onClick:()=>t(e.id),className:"text-slate-400 hover:text-red-600 transition-colors",title:"Delete SAO",children:a.jsx(ca,{size:18})})]})]}),a.jsx("p",{className:"text-slate-600 whitespace-pre-wrap mb-4",children:e.content}),a.jsx("div",{className:"flex flex-wrap gap-2",children:e.skills.map(o=>a.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-sm font-medium bg-teal-100 text-teal-800",children:o.name},o.id))}),a.jsxs("div",{className:"mt-4 text-sm text-slate-500",children:["Created: ",new Date(e.created_at).toLocaleDateString()]})]})},Lj=()=>{const[e,t]=w.useState(!1),[n,r]=w.useState(),{saos:s,loading:i,error:o,loadUserSAOs:l,deleteSAO:c}=fc(),[u]=Gf(),d=u.get("saoId");w.useEffect(()=>{l()},[l]),w.useEffect(()=>{if(d&&s.length>0){const p=s.find(y=>y.id===d);p&&(r(p),t(!0))}},[d,s]);const h=async p=>{window.confirm("Are you sure you want to delete this SAO?")&&await c(p)},m=p=>{r(p),t(!0)},v=()=>{t(!1),r(void 0)};return a.jsxs("div",{className:"max-w-4xl mx-auto p-6 space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Situation-Action-Outcome (SAO)"}),a.jsx("p",{className:"text-slate-500 mt-1",children:"Write and manage your SAO essays."})]}),a.jsxs("button",{onClick:()=>t(!0),className:"btn btn-primary flex items-center gap-2",children:[a.jsx(ur,{size:18}),"Start New SAO"]})]}),o&&a.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-red-600",children:"Error:"}),a.jsx("p",{className:"text-sm text-red-800",children:o})]})}),i?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-teal-600"})}):s.length>0?a.jsx("div",{className:"space-y-4",children:s.map(p=>a.jsx(Rj,{sao:p,onDelete:h,onEdit:m},p.id))}):a.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:a.jsxs("div",{className:"text-center py-12",children:[a.jsx(uc,{className:"mx-auto h-12 w-12 text-slate-400"}),a.jsx("h3",{className:"mt-4 text-lg font-medium text-slate-900",children:"No SAOs yet"}),a.jsx("p",{className:"mt-2 text-slate-500",children:"Get started by writing your first SAO essay."}),a.jsx("button",{onClick:()=>t(!0),className:"mt-4 btn btn-primary",children:"Start Writing"})]})}),a.jsx(Hm,{isOpen:e,onClose:v,editSAO:n})]})},$j=()=>{const[e,t]=w.useState([]),[n,r]=w.useState(!0),[s,i]=w.useState(!1),[o,l]=w.useState(null),[c,u]=w.useState(!1),{saos:d}=fc(),{skillCategories:h}=it(),m=Be(),v=async(f,g=5)=>{try{console.log(" Starting fetchActivities for user:",f),r(!0),console.log(" Fetching SAOs...");const{data:j,error:_}=await A.from("saos").select("*").eq("user_id",f).order("updated_at",{ascending:!1}).limit(g);if(_)throw console.error(" Error fetching SAOs:",_),_;console.log(" Recent SAOs:",(j==null?void 0:j.length)||0,"items"),console.log(" Fetching documents...");const{data:C,error:T}=await A.from("documents").select("*").eq("user_id",f).order("updated_at",{ascending:!1}).limit(g);if(T)throw console.error(" Error fetching documents:",T),T;console.log(" Recent documents:",(C==null?void 0:C.length)||0,"items"),console.log(" Fetching skills...");const{data:P,error:D}=await A.from("user_skills").select(`
          *,
          skills (
            name
          )
        `).eq("user_id",f).not("rank","is",null).order("updated_at",{ascending:!1}).limit(g);if(D)throw console.error(" Error fetching skills:",D),D;console.log(" Recent skills:",(P==null?void 0:P.length)||0,"items"),console.log(" Fetching jobs...");const{data:$,error:V}=await A.from("jobs").select("*").eq("user_id",f).order("updated_at",{ascending:!1}).limit(g);if(V)throw console.error(" Error fetching jobs:",V),V;console.log(" Recent jobs:",($==null?void 0:$.length)||0,"items"),console.log(" Fetching references...");const{data:F,error:N}=await A.from("job_references").select("*").eq("user_id",f).order("updated_at",{ascending:!1}).limit(g);if(N)throw console.error(" Error fetching references:",N),N;console.log(" Recent references:",(F==null?void 0:F.length)||0,"items"),console.log(" Fetching validators...");const{data:E,error:k}=await A.from("validators").select("*").eq("user_id",f).order("updated_at",{ascending:!1}).limit(g);if(k)throw console.error(" Error fetching validators:",k),k;console.log(" Recent validators:",(E==null?void 0:E.length)||0,"items"),console.log("Raw data:",{saos:j,docs:C,skills:P,jobs:$,references:F,validators:E});const I=[...(j||[]).map(O=>({id:O.id,type:"essay",title:`Updated "${O.title}" SAO`,timestamp:O.updated_at})),...(C||[]).map(O=>({id:O.id,type:"document",title:`Updated "${O.title}" document`,timestamp:O.updated_at})),...(P||[]).map(O=>{var S;return{id:O.skill_id,type:"completed",title:`Completed "${((S=O.skills)==null?void 0:S.name)||"Skill"}" skill`,timestamp:O.updated_at}}),...($||[]).map(O=>({id:O.id,type:"job",title:`Updated "${O.title}" at ${O.company}`,timestamp:O.updated_at})),...(F||[]).map(O=>({id:O.id,type:"reference",title:`Added reference from ${O.full_name}`,timestamp:O.updated_at})),...(E||[]).map(O=>({id:O.id,type:"validator",title:`Added validator ${O.full_name}`,timestamp:O.updated_at}))].sort((O,S)=>new Date(S.timestamp).getTime()-new Date(O.timestamp).getTime()).slice(0,g);console.log(" Combined activities:",I.length,"items"),console.log(" Activities details:",I),t(I)}catch(j){console.error(" Error in fetchActivities:",j),t([])}finally{r(!1)}};w.useEffect(()=>{let f=!0,g=[];return(async()=>{try{console.log(" Getting current user...");const{data:{user:_}}=await A.auth.getUser();if(!_){console.error(" No authenticated user found");return}console.log(" User found:",_.id),console.log(" Starting initial fetch..."),await v(_.id),console.log(" Setting up real-time subscriptions...");const C=A.channel("saos-changes").on("postgres_changes",{event:"*",schema:"public",table:"saos",filter:`user_id=eq.${_.id}`},F=>{console.log(" SAO change detected:",F),f&&v(_.id)}).subscribe(F=>{console.log(" SAOs subscription status:",F)}),T=A.channel("docs-changes").on("postgres_changes",{event:"*",schema:"public",table:"documents",filter:`user_id=eq.${_.id}`},F=>{console.log(" Document change detected:",F),f&&v(_.id)}).subscribe(F=>{console.log(" Documents subscription status:",F)}),P=A.channel("skills-changes").on("postgres_changes",{event:"*",schema:"public",table:"user_skills",filter:`user_id=eq.${_.id}`},F=>{console.log(" Skill change detected:",F),f&&v(_.id)}).subscribe(F=>{console.log(" Skills subscription status:",F)}),D=A.channel("jobs-changes").on("postgres_changes",{event:"*",schema:"public",table:"jobs",filter:`user_id=eq.${_.id}`},F=>{console.log(" Job change detected:",F),f&&v(_.id)}).subscribe(F=>{console.log(" Jobs subscription status:",F)}),$=A.channel("references-changes").on("postgres_changes",{event:"*",schema:"public",table:"job_references",filter:`user_id=eq.${_.id}`},F=>{console.log(" Reference change detected:",F),f&&v(_.id)}).subscribe(F=>{console.log(" References subscription status:",F)}),V=A.channel("validators-changes").on("postgres_changes",{event:"*",schema:"public",table:"validators",filter:`user_id=eq.${_.id}`},F=>{console.log(" Validator change detected:",F),f&&v(_.id)}).subscribe(F=>{console.log(" Validators subscription status:",F)});g=[C,T,P,D,$,V],console.log(" All subscriptions set up")}catch(_){console.error(" Error setting up subscriptions:",_)}})(),()=>{console.log(" Cleaning up subscriptions"),f=!1,g.forEach(_=>{try{_.unsubscribe()}catch(C){console.error(" Error unsubscribing:",C)}})}},[]);const p={completed:a.jsx(yt,{size:16,className:"text-green-500"}),document:a.jsx(Sn,{size:16,className:"text-blue-500"}),approval:a.jsx(bw,{size:16,className:"text-purple-500"}),essay:a.jsx(nl,{size:16,className:"text-amber-500"}),job:a.jsx(cr,{size:16,className:"text-indigo-500"}),reference:a.jsx(Ss,{size:16,className:"text-pink-500"}),validator:a.jsx(yt,{size:16,className:"text-teal-500"})},y=f=>{const g=new Date(f),_=new Date().getTime()-g.getTime(),C=Math.floor(_/(1e3*60)),T=Math.floor(_/(1e3*60*60)),P=Math.floor(_/(1e3*60*60*24));return C<5?"Just now":C<30?`${Math.floor(C/5)*5} minutes ago`:T<1?"30 minutes ago":T===1?"1 hour ago":T<24?`${T} hours ago`:P===1?"1 day ago":`${P} days ago`},b=f=>{console.log("Handling view for activity:",f),f.type==="completed"?(m("/dashboard/skills"),setTimeout(()=>{window.dispatchEvent(new CustomEvent("scroll-to-skill",{detail:{skillId:f.id,timestamp:Date.now()}}))},500)):f.type==="essay"?m(`/dashboard/saos?saoId=${f.id}`):f.type==="document"?(m("/dashboard/documents"),setTimeout(()=>{window.dispatchEvent(new CustomEvent("scroll-to-document",{detail:{documentId:f.id,timestamp:Date.now()}}))},500)):(f.type==="job"||f.type==="reference"||f.type==="validator")&&(sessionStorage.setItem("pendingScroll",JSON.stringify({itemId:f.id,itemType:f.type})),m("/dashboard/references"))},x=async()=>{const{data:{user:f}}=await A.auth.getUser();f&&(await v(f.id,10),i(!0))};return n?a.jsx("div",{className:"space-y-4",children:[...Array(3)].map((f,g)=>a.jsxs("div",{className:"flex items-start space-x-3 animate-pulse",children:[a.jsx("div",{className:"p-2 rounded-full bg-slate-200 mt-0.5 w-8 h-8"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"h-4 bg-slate-200 rounded w-3/4 mb-2"}),a.jsx("div",{className:"h-3 bg-slate-200 rounded w-1/4"})]})]},g))}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-4",children:[e.length>0?e.slice(0,5).map(f=>a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"p-2 rounded-full bg-slate-100 mt-0.5",children:p[f.type]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm text-slate-800",children:f.title}),a.jsxs("div",{className:"flex items-center mt-1",children:[f.user&&a.jsx("span",{className:"text-xs font-medium text-slate-700 mr-2",children:f.user}),a.jsx("span",{className:"text-xs text-slate-500",children:y(f.timestamp)})]})]}),a.jsx("button",{className:"ml-2 px-3 py-1 text-xs bg-teal-100 text-teal-700 rounded hover:bg-teal-200",onClick:()=>b(f),children:"View"})]},f.id)):a.jsx("div",{className:"text-center py-4 text-slate-500",children:"No recent activities"}),a.jsx("button",{className:"w-full text-center py-2 text-sm text-teal-600 hover:text-teal-700 mt-2",onClick:x,children:"View more activities"})]}),s&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg w-full max-w-2xl mx-4 max-h-[80vh] overflow-hidden",children:[a.jsxs("div",{className:"p-4 border-b border-slate-200 flex justify-between items-center",children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"Recent Activities"}),a.jsx("button",{onClick:()=>i(!1),className:"p-2 hover:bg-slate-100 rounded-lg",children:a.jsx(Ue,{size:20,className:"text-slate-500"})})]}),a.jsx("div",{className:"p-4 overflow-y-auto max-h-[calc(80vh-4rem)]",children:a.jsx("div",{className:"space-y-4",children:e.map(f=>a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"p-2 rounded-full bg-slate-100 mt-0.5",children:p[f.type]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm text-slate-800",children:f.title}),a.jsxs("div",{className:"flex items-center mt-1",children:[f.user&&a.jsx("span",{className:"text-xs font-medium text-slate-700 mr-2",children:f.user}),a.jsx("span",{className:"text-xs text-slate-500",children:y(f.timestamp)})]})]}),a.jsx("button",{className:"ml-2 px-3 py-1 text-xs bg-teal-100 text-teal-700 rounded hover:bg-teal-200",onClick:()=>{b(f),i(!1)},children:"View"})]},f.id))})})]})}),c&&o&&a.jsx(Hm,{isOpen:c,onClose:()=>{u(!1),l(null)},editSAO:o})]})},Dj=()=>a.jsx("div",{className:"space-y-3",children:a.jsxs("div",{className:"text-center py-8 px-4 border-2 border-dashed border-slate-200 rounded-lg",children:[a.jsx(ew,{size:24,className:"mx-auto text-slate-400 mb-3"}),a.jsx("h3",{className:"text-sm font-medium text-slate-600 mb-1",children:"No upcoming deadlines"}),a.jsx("p",{className:"text-sm text-slate-500 mb-4",children:"Connect your Google Calendar to see your upcoming deadlines"}),a.jsxs("button",{className:"inline-flex items-center px-3 py-1.5 text-sm font-medium text-teal-600 bg-teal-50 rounded-lg hover:bg-teal-100 transition-colors",children:[a.jsx(ur,{size:16,className:"mr-1.5"}),"Connect Calendar"]})]})}),Uj=()=>{const{skillCategories:e}=it(),t=w.useRef({});w.useEffect(()=>{const s=i=>{const o=i.detail.skillId,l=t.current[o];l&&(l.scrollIntoView({behavior:"smooth",block:"center"}),l.classList.add("ring","ring-teal-400"),setTimeout(()=>l.classList.remove("ring","ring-teal-400"),1500))};return window.addEventListener("scroll-to-skill",s),()=>window.removeEventListener("scroll-to-skill",s)},[]);const n=e.map((s,i)=>{const o=s.skills.filter(u=>u.rank!==void 0).length,l=s.skills.length,c=["bg-blue-500","bg-teal-500","bg-indigo-500","bg-purple-500","bg-pink-500","bg-orange-500"];return{name:s.name,completed:o,total:l,color:c[i%c.length]}}),r=e.flatMap(s=>s.skills).filter(s=>s.rank!==void 0).sort((s,i)=>(i.rank||0)-(s.rank||0)).slice(0,3);return a.jsxs("div",{className:"space-y-4",children:[n.map(s=>{const i=Math.round(s.completed/s.total*100);return a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm font-medium text-slate-700",children:s.name}),a.jsxs("span",{className:"text-sm text-slate-500",children:[s.completed,"/",s.total]})]}),a.jsx("div",{className:"progress-bar",children:a.jsx("div",{className:`progress-bar-fill ${s.color}`,style:{width:`${i}%`}})})]},s.name)}),a.jsx("hr",{className:"my-4 border-slate-200"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-sm mb-3",children:"Recently Completed Skills"}),a.jsx("div",{className:"space-y-2",children:r.length>0?r.map(s=>a.jsxs("div",{id:`skill-${s.id}`,ref:i=>t.current[s.id]=i,className:"text-sm flex items-center justify-between py-1.5 px-2.5 rounded-lg hover:bg-slate-50",children:[a.jsx("span",{children:s.name}),a.jsxs("span",{className:"bg-green-100 text-green-700 text-xs py-0.5 px-2 rounded-full",children:["Rank ",s.rank]})]},s.id)):a.jsx("p",{className:"text-sm text-slate-500 italic",children:"No skills completed yet"})})]})]})},jd=Nn(e=>({loading:!1,startWriting:async()=>{e({loading:!0});try{const{data:t}=await A.from("skills").select("*").eq("status","completed"),n=await fetch("https://bbixvnkqroskholbxkgj.supabase.co/functions/v1/generate-essay",{method:"POST",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJiaXh2bmtxcm9za2hvbGJ4a2dqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcwMTg3NjMsImV4cCI6MjA2MjU5NDc2M30.6oGRIhAuzrOq3UI9bOUlxyIoaslzK_UtjrgaxV9WIrU","Content-Type":"application/json"},body:JSON.stringify({skills:t,experiences:[]})});if(!n.ok)throw new Error("Failed to generate essay");const{essay:r}=await n.json();await A.from("essays").insert({title:"AI Generated Essay",content:r,ai_generated:!0})}finally{e({loading:!1})}}})),zj=()=>{const e=Be(),[t,n]=w.useState(""),{overallProgress:r,completedSkills:s,totalSkills:i,documentedExperiences:o,totalExperiences:l,supervisorApprovals:c,totalApprovals:u,lastUpdated:d,loading:h,updateProgress:m,initialize:v}=Li(),p=jd(g=>g.startWriting),y=jd(g=>g.loading),b=it(g=>g.loadUserSkills);w.useEffect(()=>{const g=async()=>{var C;const{data:{user:_}}=await A.auth.getUser();(C=_==null?void 0:_.user_metadata)!=null&&C.full_name&&n(_.user_metadata.full_name)};(async()=>{try{await b(),await v(),await g()}catch(_){console.error("Error initializing dashboard data:",_)}})()},[b,v]),w.useEffect(()=>{const g=it.subscribe(j=>{j.skillCategories.length>0&&m()});return()=>g()},[m]);const x=[{title:"Overall Progress",value:r,description:r>=75?"Excellent progress!":r>=50?"Good progress!":r>=25?"Keep going!":"Just getting started!",color:"teal"},{title:"Completed Skills",value:s,total:i,description:`${i-s} skills remaining to complete`,color:"blue"},{title:"Documented Experience",value:o,total:l,description:`${l-o} experiences need documentation`,color:"indigo"},{title:"Supervisor Approvals",value:c,total:u,description:`${u-c} items pending approval`,color:"purple"}],f=g=>new Date(g).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-slate-800",children:["Welcome back, ",t||"Engineer","!"]}),a.jsx("p",{className:"text-slate-500 mt-1",children:"Here's an overview of your EIT progress"})]}),a.jsxs("div",{className:"flex items-center space-x-2 mt-4 md:mt-0",children:[a.jsxs("span",{className:"text-sm text-slate-500 flex items-center",children:[a.jsx(cc,{size:14,className:"mr-1"}),"Last updated: ",f(d)]}),a.jsx("button",{className:`btn btn-primary ${h?"opacity-75 cursor-not-allowed":""}`,onClick:()=>{h||(b(),m())},disabled:h,children:h?"Refreshing...":"Refresh"})]})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:x.map((g,j)=>a.jsx(rj,{...g},j))}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs("div",{className:"card",children:[a.jsx("div",{className:"flex justify-between items-center mb-4",children:a.jsxs("h2",{className:"text-lg font-semibold flex items-center",children:[a.jsx(lc,{size:18,className:"mr-2 text-teal-600"}),"Recent Activities"]})}),a.jsx($j,{})]}),a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("h2",{className:"text-lg font-semibold flex items-center",children:[a.jsx(la,{size:18,className:"mr-2 text-teal-600"}),"Upcoming Deadlines"]}),a.jsxs("button",{className:"text-sm text-teal-600 hover:text-teal-700 flex items-center",children:["View All ",a.jsx(tl,{size:14,className:"ml-1"})]})]}),a.jsx(Dj,{})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("h2",{className:"text-lg font-semibold flex items-center",children:[a.jsx(jm,{size:18,className:"mr-2 text-teal-600"}),"Skills Overview"]}),a.jsxs("button",{className:"text-sm text-teal-600 hover:text-teal-700 flex items-center",onClick:()=>e("/skills"),children:["Details ",a.jsx(tl,{size:14,className:"ml-1"})]})]}),a.jsx(Uj,{})]}),a.jsxs("div",{className:"card border-2 border-teal-100 bg-teal-50/50",children:[a.jsx("h3",{className:"font-semibold text-teal-800 mb-2",children:"AI Writing Assistant"}),a.jsx("p",{className:"text-sm text-teal-700 mb-3",children:"Let our AI help you draft your next Self-Assessment Outcome (SAO) essay based on your documented experiences."}),a.jsx("button",{className:`btn btn-primary w-full ${y?"opacity-75 cursor-not-allowed":""}`,onClick:()=>p(),disabled:y,children:y?"Generating...":"Start Writing"})]})]})]})]})},Mj=({isOpen:e,onClose:t,skillName:n,saos:r,jobs:s})=>{const i=Be();if(!e)return null;const o=c=>{i(`/saos?saoId=${c}`),t()},l=c=>{i(`/references?jobId=${c}`),t()};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-[60]",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("h3",{className:"text-lg font-semibold",children:["Linked Items for ",n]}),a.jsx("button",{onClick:t,className:"text-slate-400 hover:text-slate-600",children:a.jsx(Ue,{size:24})})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-slate-900 mb-3",children:"Linked SAOs"}),a.jsx("div",{className:"space-y-4",children:r.length>0?r.map(c=>a.jsxs("div",{className:"border rounded-lg p-4 hover:bg-slate-50",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsx("h4",{className:"font-medium text-slate-900",children:c.title}),a.jsx("button",{onClick:()=>o(c.id),className:"p-1.5 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded-lg transition-colors",title:"Open SAO",children:a.jsx(aw,{size:18})})]}),a.jsx("p",{className:"text-sm text-slate-600",children:c.content}),a.jsxs("div",{className:"mt-2 text-xs text-slate-500",children:["Created: ",new Date(c.created_at).toLocaleDateString()]})]},c.id)):a.jsx("p",{className:"text-slate-500 italic",children:"No SAOs linked to this skill yet."})})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-slate-900 mb-3",children:"Linked Jobs"}),a.jsx("div",{className:"space-y-4",children:s.length>0?s.map(c=>a.jsxs("div",{className:"border rounded-lg p-4 hover:bg-slate-50",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-slate-900",children:c.title}),a.jsx("p",{className:"text-sm text-slate-600",children:c.company})]}),a.jsx("button",{onClick:()=>l(c.id),className:"p-1.5 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded-lg transition-colors",title:"Open Job",children:a.jsx(cr,{size:18})})]}),a.jsxs("div",{className:"mt-2 text-xs text-slate-500",children:[new Date(c.start_date).toLocaleDateString()," - ",c.end_date?new Date(c.end_date).toLocaleDateString():"Present"]})]},c.id)):a.jsx("p",{className:"text-slate-500 italic",children:"No jobs linked to this skill yet."})})]})]}),a.jsx("div",{className:"flex justify-end mt-6",children:a.jsx("button",{onClick:t,className:"btn btn-primary",children:"Close"})})]})})},Fj=w.memo(({skill:e,categoryIndex:t,onRankChange:n,getStatusIcon:r,getStatusLabel:s,getStatusClass:i,getRankColor:o,getRankLabel:l,skillRef:c})=>{const[u,d]=w.useState(!1),[h,m]=w.useState([]),[v,p]=w.useState([]),[y,b]=w.useState(!1),[x,f]=w.useState(!1),g=async()=>{try{const{data:{user:_}}=await A.auth.getUser();if(!_)throw new Error("No authenticated user found");const{data:C,error:T}=await A.from("saos").select(`
          *,
          sao_skills!inner (
            skill_id
          )
        `).eq("user_id",_.id).eq("sao_skills.skill_id",e.id).order("created_at",{ascending:!1});if(T)throw T;const{data:P,error:D}=await A.from("jobs").select("*").eq("user_id",_.id).contains("skills",[e.id]).order("start_date",{ascending:!1});if(D)throw D;m(C||[]),p(P||[]),f(((C==null?void 0:C.length)||0)>0||((P==null?void 0:P.length)||0)>0)}catch(_){console.error("Error checking linked items:",_)}};w.useEffect(()=>{g()},[e.id]);const j=async()=>{b(!0);try{await g(),d(!0)}catch(_){console.error("Error fetching linked items:",_)}finally{b(!1)}};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{ref:c,className:"flex items-center justify-between p-3 rounded-lg border hover:border-slate-300 hover:bg-slate-50 transition-colors",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"mr-3",children:r(e)}),a.jsx("span",{className:"font-medium",children:e.name})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{onClick:j,className:`p-2 rounded-full transition-colors ${x?"text-amber-500 hover:text-amber-600 hover:bg-amber-50 shadow-[0_0_8px_rgba(245,158,11,0.5)]":"text-slate-400 hover:text-slate-600 hover:bg-slate-100"}`,title:x?"View linked items":"No linked items",disabled:y,children:a.jsx(Sn,{size:18,className:y?"animate-pulse":""})}),a.jsxs("div",{className:"relative",children:[a.jsxs("select",{value:e.rank||"",onChange:_=>{console.log("Skill ID in UI:",e.id,typeof e.id),n(t,e.id,Number(_.target.value))},className:`appearance-none px-3 py-1.5 rounded-full text-sm font-medium ${o(e.rank)} border-0 focus:ring-2 focus:ring-teal-500 focus:outline-none cursor-pointer`,children:[a.jsx("option",{value:"",children:"Not Ranked"}),[1,2,3,4,5].map(_=>a.jsxs("option",{value:_,children:[_," - ",l(_)]},_))]}),a.jsx(_m,{size:16,className:"absolute right-2 top-1/2 -translate-y-1/2 pointer-events-none text-current"})]}),a.jsx("span",{className:`text-xs px-2.5 py-1 rounded-full ${i(e)}`,children:s(e)})]})]}),a.jsx(Mj,{isOpen:u,onClose:()=>d(!1),skillName:e.name,saos:h,jobs:v})]})}),Bj=w.memo(({category:e,categoryIndex:t,onRankChange:n,getStatusIcon:r,getStatusLabel:s,getStatusClass:i,getRankColor:o,getRankLabel:l,getCategoryProgress:c,calculateCategoryMean:u,getMeanColor:d,showRequirementWarning:h,getRequirementMessage:m,skillRefs:v})=>{const p=c(e.skills),{mean:y,isComplete:b}=u(e.skills);return a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("h2",{className:"text-lg font-semibold",children:e.name}),b&&a.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full ${d(y)}`,children:[a.jsx(la,{size:16}),a.jsxs("span",{className:"text-sm font-medium",children:["Mean Score: ",y]})]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center bg-green-100 text-green-700 mr-2",children:a.jsx("span",{className:"text-sm font-bold",children:p.completed})}),a.jsx("div",{children:a.jsx("p",{className:"text-xs font-medium",children:"Completed"})})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center bg-slate-100 text-slate-700 mr-2",children:a.jsx("span",{className:"text-sm font-bold",children:p.notStarted})}),a.jsx("div",{children:a.jsx("p",{className:"text-xs font-medium",children:"Not Started"})})]})]})]}),b&&h(e.name,y)&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(ym,{size:18,className:"text-red-600 mt-0.5 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-red-800",children:"Warning: This category does not meet the minimum requirements"}),a.jsx("p",{className:"text-sm text-red-600 mt-1",children:m(e.name,y)})]})]})}),a.jsx("div",{className:"space-y-3",children:e.skills.map(x=>a.jsx(Fj,{skill:x,categoryIndex:t,onRankChange:n,getStatusIcon:r,getStatusLabel:s,getStatusClass:i,getRankColor:o,getRankLabel:l,skillRef:f=>v.current[x.id]=f},x.id))})]})}),qj=()=>{const{skillCategories:e,updateSkillRank:t,loadUserSkills:n,loading:r,error:s}=it(),i=w.useRef({});w.useEffect(()=>{n()},[n]),w.useEffect(()=>{const g=j=>{const{skillId:_,timestamp:C}=j.detail;console.log("Scroll event received:",{skillId:_,timestamp:C}),setTimeout(()=>{const T=i.current[_];console.log("Looking for element:",{skillId:_,element:T}),T?(console.log("Scrolling to element"),T.scrollIntoView({behavior:"smooth",block:"center"}),T.classList.add("ring","ring-teal-400"),setTimeout(()=>T.classList.remove("ring","ring-teal-400"),1500)):(console.log("Element not found, retrying in 100ms"),setTimeout(()=>{const P=i.current[_];P&&(P.scrollIntoView({behavior:"smooth",block:"center"}),P.classList.add("ring","ring-teal-400"),setTimeout(()=>P.classList.remove("ring","ring-teal-400"),1500))},100))},100)};return window.addEventListener("scroll-to-skill",g),()=>window.removeEventListener("scroll-to-skill",g)},[]);const o=w.useCallback(async(g,j,_)=>{try{console.log("Updating skill rank for skillId:",j,typeof j),await t(g,j,_)}catch(C){console.error("Error in handleRankChange:",C)}},[t]),l=w.useCallback(g=>g.reduce((j,_)=>(_.rank!==void 0?j.completed++:j.notStarted++,j),{completed:0,notStarted:0}),[]),c=w.useCallback(g=>{const j=g.filter(C=>C.rank!==void 0);if(j.length!==g.length)return{mean:0,isComplete:!1};const _=j.reduce((C,T)=>C+(T.rank||0),0);return{mean:Number((_/g.length).toFixed(1)),isComplete:!0}},[]),u=w.useCallback(g=>g>=4.5?"bg-green-100 text-green-700":g>=3.5?"bg-blue-100 text-blue-700":g>=2.5?"bg-yellow-100 text-yellow-700":g>=1.5?"bg-orange-100 text-orange-700":"bg-red-100 text-red-700",[]),d=w.useCallback(g=>g.status==="completed"?a.jsx(yt,{size:18,className:"text-green-500"}):g.status==="in-progress"?a.jsx(yw,{size:18,className:"text-amber-500"}):g.rank!==void 0?a.jsx(rw,{size:18,className:"text-green-500"}):a.jsx(sw,{size:18,className:"text-slate-300"}),[]),h=w.useCallback(g=>g.rank!==void 0||g.status==="completed"?"Completed":g.status==="in-progress"?"In Progress":"Not Started",[]),m=w.useCallback(g=>g.rank!==void 0||g.status==="completed"?"bg-green-100 text-green-800":g.status==="in-progress"?"bg-amber-100 text-amber-800":"bg-slate-100 text-slate-800",[]),v=w.useCallback(g=>{if(!g)return"bg-slate-100 text-slate-600";switch(g){case 1:return"bg-red-100 text-red-600";case 2:return"bg-orange-100 text-orange-600";case 3:return"bg-yellow-100 text-yellow-600";case 4:return"bg-blue-100 text-blue-600";case 5:return"bg-green-100 text-green-600";default:return"bg-slate-100 text-slate-600"}},[]),p=w.useCallback(g=>{if(!g)return"Not Ranked";switch(g){case 1:return"Beginner";case 2:return"Basic";case 3:return"Intermediate";case 4:return"Advanced";case 5:return"Expert";default:return"Not Ranked"}},[]),y={"Category 1  Technical Competence":3,"Category 2  Communication":3,"Category 3  Project & Financial Management":2,"Category 4  Team Effectiveness":3,"Category 5  Professional Accountability":3,"Category 6  Social, Economic, Environmental & Sustainability":2},b=w.useCallback((g,j)=>{const _=y[g];return j<_},[]),x=w.useCallback((g,j)=>`A minimum average score of ${y[g]} is required for ${g}. Current average: ${j}`,[]),f=w.useMemo(()=>e.reduce((g,j)=>(j.skills.forEach(_=>{_.rank!==void 0?g.completed++:g.notStarted++}),g),{completed:0,notStarted:0}),[e]);return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-slate-800",children:"Skills & Competencies"}),a.jsx("p",{className:"text-slate-500 mt-1",children:"Track and document your EIT program competencies"})]}),s&&a.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(ym,{size:18,className:"text-red-600 mt-0.5 flex-shrink-0"}),a.jsx("p",{className:"text-sm text-red-800",children:s})]})}),r?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"card p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Overall Progress"}),a.jsxs("div",{className:"flex flex-wrap gap-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center bg-green-100 text-green-700 mr-3",children:a.jsx("span",{className:"text-lg font-bold",children:f.completed})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Completed"}),a.jsx("p",{className:"text-sm text-slate-500",children:"Skills"})]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center bg-slate-100 text-slate-700 mr-3",children:a.jsx("span",{className:"text-lg font-bold",children:f.notStarted})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Not Started"}),a.jsx("p",{className:"text-sm text-slate-500",children:"Skills"})]})]})]})]}),a.jsx("div",{className:"space-y-6",children:e.map((g,j)=>a.jsx(Bj,{category:g,categoryIndex:j,onRankChange:o,getStatusIcon:d,getStatusLabel:h,getStatusClass:m,getRankColor:v,getRankLabel:p,getCategoryProgress:l,calculateCategoryMean:c,getMeanColor:u,showRequirementWarning:b,getRequirementMessage:x,skillRefs:i},g.name))})]})]})},Hj=w.memo(qj),Vj=Nn((e,t)=>({documents:[],loading:!1,error:null,createDocument:async(n,r,s,i,o)=>{e({loading:!0,error:null});try{console.log("Creating new document...");const{data:{user:l},error:c}=await A.auth.getUser();if(c)throw console.error("Auth error:",c),new Error("Authentication error: "+c.message);if(!l)throw new Error("No authenticated user found");const u=(i==null?void 0:i.type)||"text/plain",d=(i==null?void 0:i.size)||r.length,h=o||"Uncategorized";console.log("Creating document:",{title:n,type:s,userId:l.id,file_type:u,file_size:d,category:h});const{data:m,error:v}=await A.from("documents").insert([{user_id:l.id,title:n,content:r,type:s,status:"draft",word_count:r.split(/\s+/).length,file_type:u,file_size:d,category:h}]).select().single();if(v)throw console.error("Error creating document:",{error:v,message:v.message,details:v.details,hint:v.hint}),v;console.log("Document created successfully:",m),e(p=>({documents:[m,...p.documents]}))}catch(l){throw console.error("Error in createDocument:",{error:l,message:l.message,details:l.details,hint:l.hint}),e({error:`Failed to create document: ${l.message||"Unknown error"}`}),l}finally{e({loading:!1})}},updateDocument:async(n,r,s)=>{e({loading:!0,error:null});try{console.log("Updating document:",{id:n,title:r});const{data:{user:i},error:o}=await A.auth.getUser();if(o)throw console.error("Auth error:",o),new Error("Authentication error: "+o.message);if(!i)throw new Error("No authenticated user found");const{error:l}=await A.from("documents").update({title:r,content:s,word_count:s.split(/\s+/).length,updated_at:new Date().toISOString()}).eq("id",n).eq("user_id",i.id);if(l)throw console.error("Error updating document:",{error:l,message:l.message,details:l.details,hint:l.hint}),l;e(c=>({documents:c.documents.map(u=>u.id===n?{...u,title:r,content:s,word_count:s.split(/\s+/).length,updated_at:new Date().toISOString()}:u)}))}catch(i){throw console.error("Error in updateDocument:",{error:i,message:i.message,details:i.details,hint:i.hint}),e({error:`Failed to update document: ${i.message||"Unknown error"}`}),i}finally{e({loading:!1})}},deleteDocument:async n=>{e({loading:!0,error:null});try{console.log("Deleting document:",n);const{data:{user:r},error:s}=await A.auth.getUser();if(s)throw console.error("Auth error:",s),new Error("Authentication error: "+s.message);if(!r)throw new Error("No authenticated user found");const{error:i}=await A.from("documents").delete().eq("id",n).eq("user_id",r.id);if(i)throw console.error("Error deleting document:",{error:i,message:i.message,details:i.details,hint:i.hint}),i;e(o=>({documents:o.documents.filter(l=>l.id!==n)}))}catch(r){throw console.error("Error in deleteDocument:",{error:r,message:r.message,details:r.details,hint:r.hint}),e({error:`Failed to delete document: ${r.message||"Unknown error"}`}),r}finally{e({loading:!1})}},loadUserDocuments:async()=>{e({loading:!0,error:null});try{console.log("Loading user documents...");const{data:{user:n},error:r}=await A.auth.getUser();if(r)throw console.error("Auth error:",r),new Error("Authentication error: "+r.message);if(!n)throw new Error("No authenticated user found");console.log("Fetching documents for user:",n.id);const{data:s,error:i}=await A.from("documents").select("*").eq("user_id",n.id).order("created_at",{ascending:!1});if(i)throw console.error("Error fetching documents:",{error:i,message:i.message,details:i.details,hint:i.hint}),i;console.log("Documents fetched:",s==null?void 0:s.length),e({documents:s||[]})}catch(n){throw console.error("Error in loadUserDocuments:",{error:n,message:n.message,details:n.details,hint:n.hint}),e({error:`Failed to load documents: ${n.message||"Unknown error"}`}),n}finally{e({loading:!1})}}})),Wj=()=>{const{documents:e,loading:t,error:n,createDocument:r,updateDocument:s,deleteDocument:i,loadUserDocuments:o}=Vj(),[l,c]=w.useState(""),[u,d]=w.useState("all"),[h,m]=w.useState(!1),[v,p]=w.useState("all"),[y,b]=w.useState("date"),[x,f]=w.useState("desc"),[g,j]=w.useState(null),[_,C]=w.useState(""),T=ll.useRef({});w.useEffect(()=>{console.log("Documents component mounted"),o()},[o]),w.useEffect(()=>{console.log("Documents array updated:",{documentCount:e.length,documents:e})},[e]),w.useEffect(()=>{const k=I=>{const O=I.detail.documentId,S=T.current[O];S&&(S.scrollIntoView({behavior:"smooth",block:"center"}),S.classList.add("ring","ring-teal-400","transition-all","duration-300"),setTimeout(()=>{S.classList.remove("ring","ring-teal-400")},2e3))};return window.addEventListener("scroll-to-document",k),()=>window.removeEventListener("scroll-to-document",k)},[]);const P=async k=>{var O;const I=(O=k.target.files)==null?void 0:O[0];if(I)try{console.log("Starting document creation process...");let S="";const L=I.type;L.startsWith("text/")?S=await I.text():S=`File type (${L}) not directly viewable. Will be stored.`,await r(I.name,S,"other",I),console.log("Document creation completed successfully"),k.target.value=""}catch(S){console.error("Document creation failed:",S),alert("Failed to create document. Please try again.")}},D=async k=>{try{const I=new Blob([k.content],{type:"text/plain"}),O=URL.createObjectURL(I),S=document.createElement("a");S.href=O,S.download=`${k.title}.txt`,document.body.appendChild(S),S.click(),document.body.removeChild(S),URL.revokeObjectURL(O)}catch(I){console.error("Download failed:",I),alert("Failed to download document")}},$=async k=>{if(window.confirm("Are you sure you want to delete this document?"))try{await i(k.id)}catch(I){console.error("Delete failed:",I),alert("Failed to delete document")}},V=async k=>{j({id:k.id,title:k.title}),C(k.title)},F=async()=>{if(g)try{const k=e.find(I=>I.id===g.id);if(!k)throw new Error("Document not found");await s(g.id,_,k.content),j(null)}catch(k){console.error("Update failed:",k),alert("Failed to update document title")}},N=e.filter(k=>{const I=k.title.toLowerCase().includes(l.toLowerCase())||k.content.toLowerCase().includes(l.toLowerCase()),O=u==="all"||k.type===u,S=v==="all"||k.status===v;return I&&O&&S}).sort((k,I)=>y==="date"?x==="asc"?new Date(k.created_at).getTime()-new Date(I.created_at).getTime():new Date(I.created_at).getTime()-new Date(k.created_at).getTime():x==="asc"?k.title.localeCompare(I.title):I.title.localeCompare(k.title)),E=["all",...new Set(e.map(k=>k.type))];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-slate-800",children:"Documents"}),a.jsxs("label",{className:"btn btn-primary cursor-pointer",children:[a.jsx(jw,{size:16,className:"mr-1.5"}),"Upload Document",a.jsx("input",{type:"file",className:"hidden",onChange:P})]})]}),a.jsxs("div",{className:"card p-4",children:[a.jsxs("div",{className:"flex flex-wrap gap-4",children:[a.jsx("div",{className:"flex-1 min-w-[200px]",children:a.jsxs("div",{className:"relative",children:[a.jsx(Cm,{size:16,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400"}),a.jsx("input",{type:"text",value:l,onChange:k=>c(k.target.value),placeholder:"Search documents...",className:"w-full pl-10 pr-4 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500"}),l&&a.jsx("button",{onClick:()=>c(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-400 hover:text-slate-600",children:a.jsx(Ue,{size:16})})]})}),a.jsxs("button",{onClick:()=>m(!h),className:"btn btn-secondary flex items-center",children:[a.jsx(lw,{size:16,className:"mr-1.5"}),"Filters"]})]}),h&&a.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Type"}),a.jsx("select",{value:u,onChange:k=>d(k.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",children:E.map(k=>a.jsx("option",{value:k,children:k.charAt(0).toUpperCase()+k.slice(1)},k))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Status"}),a.jsxs("select",{value:v,onChange:k=>p(k.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",children:[a.jsx("option",{value:"all",children:"All Statuses"}),a.jsx("option",{value:"draft",children:"Draft"}),a.jsx("option",{value:"submitted",children:"Submitted"}),a.jsx("option",{value:"approved",children:"Approved"}),a.jsx("option",{value:"rejected",children:"Rejected"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Sort By"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("select",{value:y,onChange:k=>b(k.target.value),className:"flex-1 px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",children:[a.jsx("option",{value:"date",children:"Date"}),a.jsx("option",{value:"name",children:"Name"})]}),a.jsx("button",{onClick:()=>f(x==="asc"?"desc":"asc"),className:"px-3 py-2 border border-slate-200 rounded-lg hover:bg-slate-50",children:x==="asc"?"":""})]})]})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:N.map(k=>a.jsxs("div",{ref:I=>T.current[k.id]=I,"data-document-id":k.id,className:"document-card bg-white p-4 rounded-lg shadow-md hover:shadow-lg transition-shadow duration-200 ease-in-out",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[(g==null?void 0:g.id)===k.id?a.jsx("div",{className:"flex-1 mr-2",children:a.jsx("input",{type:"text",value:_,onChange:I=>C(I.target.value),className:"w-full px-2 py-1 border border-slate-200 rounded",onKeyDown:I=>{I.key==="Enter"&&F(),I.key==="Escape"&&j(null)},autoFocus:!0})}):a.jsx("h3",{className:"font-semibold text-lg text-slate-800",children:k.title}),a.jsxs("div",{className:"flex space-x-1",children:[a.jsx("button",{className:"p-1.5 rounded-lg text-slate-500 hover:bg-slate-100 hover:text-slate-700",onClick:()=>V(k),children:a.jsx(fs,{size:16})}),a.jsx("button",{className:"p-1.5 rounded-lg text-slate-500 hover:bg-slate-100 hover:text-slate-700",onClick:()=>D(k),children:a.jsx(iw,{size:16})}),a.jsx("button",{className:"p-1.5 rounded-lg text-slate-500 hover:bg-slate-100 hover:text-red-600",onClick:()=>$(k),children:a.jsx(ca,{size:16})})]})]}),k.file_type&&k.file_type.startsWith("text/")?a.jsx("p",{className:"text-sm text-slate-600 mt-2 line-clamp-2",children:k.content}):a.jsx("p",{className:"text-sm text-slate-400 mt-2 italic",children:"Content not viewable here. Download to see full content."}),a.jsxs("div",{className:"flex justify-between items-center mt-4 pt-3 border-t border-slate-100",children:[a.jsxs("div",{className:"text-xs text-slate-500",children:[a.jsx("span",{children:new Date(k.created_at).toLocaleDateString()}),a.jsx("span",{className:"mx-2",children:""}),a.jsx("span",{className:"capitalize",children:k.status})]}),a.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-slate-100 text-slate-600",children:k.type})]})]},k.id))}),N.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Sn,{size:48,className:"mx-auto text-slate-400"}),a.jsx("h3",{className:"mt-4 text-lg font-medium text-slate-900",children:"No documents found"}),a.jsx("p",{className:"mt-2 text-slate-500",children:l||u!=="all"||v!=="all"?"Try adjusting your search or filters":"Get started by uploading your first document"})]}),t&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-teal-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-slate-500",children:"Loading documents..."})]}),n&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(xm,{size:48,className:"mx-auto text-red-400"}),a.jsx("h3",{className:"mt-4 text-lg font-medium text-slate-900",children:"Error loading documents"}),a.jsx("p",{className:"mt-2 text-slate-500",children:n})]})]})},Gj=()=>{const e=[{id:1,title:"Technical Problem Analysis",description:"Self-Assessment Outcome (SAO) for problem analysis competency",status:"complete",updatedAt:"2025-04-12",wordCount:850},{id:2,title:"Team Leadership Experience",description:"SAO documenting leadership skills in team environments",status:"draft",updatedAt:"2025-04-08",wordCount:620},{id:3,title:"Project Management Methodology",description:"SAO for project planning and execution competency",status:"ai-assisted",updatedAt:"2025-04-02",wordCount:740},{id:4,title:"Professional Ethics Application",description:"SAO for ethical decision making in engineering",status:"in-review",updatedAt:"2025-03-25",wordCount:910}],t={complete:"bg-green-100 text-green-800 border-green-200",draft:"bg-slate-100 text-slate-800 border-slate-200","ai-assisted":"bg-purple-100 text-purple-800 border-purple-200","in-review":"bg-amber-100 text-amber-800 border-amber-200"},n={complete:a.jsx(tw,{size:16,className:"mr-1"}),draft:a.jsx(nl,{size:16,className:"mr-1"}),"ai-assisted":a.jsx(Wu,{size:16,className:"mr-1"}),"in-review":a.jsx(cc,{size:16,className:"mr-1"})};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-slate-800",children:"Essays"}),a.jsx("p",{className:"text-slate-500 mt-1",children:"Manage your Self-Assessment Outcome (SAO) essays"})]}),a.jsx("div",{className:"card bg-gradient-to-br from-teal-500 to-teal-700 text-white p-6",children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between",children:[a.jsxs("div",{className:"mb-4 md:mb-0",children:[a.jsx("h2",{className:"text-xl font-bold",children:"AI Essay Assistant"}),a.jsx("p",{className:"mt-1 text-teal-100",children:"Let our AI analyze your documented experiences and draft SAO essays that highlight your key competencies."})]}),a.jsxs("button",{className:"btn bg-white text-teal-700 hover:bg-teal-50 flex items-center self-start",children:[a.jsx(Wu,{size:16,className:"mr-2"}),"Start New AI-Assisted Essay"]})]})}),a.jsxs("div",{className:"flex flex-col md:flex-row justify-between space-y-4 md:space-y-0",children:[a.jsxs("button",{className:"btn btn-primary flex items-center",children:[a.jsx(Em,{size:16,className:"mr-1.5"}),"Create New Essay"]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("select",{className:"px-3 py-2 rounded-lg border border-slate-200 bg-white text-sm focus:outline-none focus:ring-2 focus:ring-teal-500",children:[a.jsx("option",{value:"all",children:"All Essays"}),a.jsx("option",{value:"complete",children:"Completed"}),a.jsx("option",{value:"draft",children:"Drafts"}),a.jsx("option",{value:"ai-assisted",children:"AI-Assisted"}),a.jsx("option",{value:"in-review",children:"In Review"})]}),a.jsxs("select",{className:"px-3 py-2 rounded-lg border border-slate-200 bg-white text-sm focus:outline-none focus:ring-2 focus:ring-teal-500",children:[a.jsx("option",{value:"recent",children:"Recently Updated"}),a.jsx("option",{value:"oldest",children:"Oldest First"}),a.jsx("option",{value:"alphabetical",children:"Alphabetical"})]})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.map(r=>a.jsxs("div",{className:"card hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("h3",{className:"font-semibold text-lg text-slate-800",children:r.title}),a.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${t[r.status]}`,children:[n[r.status],r.status==="ai-assisted"?"AI Assisted":r.status.charAt(0).toUpperCase()+r.status.slice(1)]})]}),a.jsx("p",{className:"text-sm text-slate-600 mt-2",children:r.description}),a.jsxs("div",{className:"flex justify-between items-center mt-4 pt-3 border-t border-slate-100",children:[a.jsxs("div",{className:"text-xs text-slate-500",children:[a.jsxs("span",{children:["Updated ",new Date(r.updatedAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]}),a.jsx("span",{className:"mx-2",children:""}),a.jsxs("span",{children:[r.wordCount," words"]})]}),a.jsxs("div",{className:"flex space-x-1",children:[a.jsx("button",{className:"p-1.5 rounded-lg text-slate-500 hover:bg-slate-100 hover:text-slate-700",children:a.jsx(ow,{size:16})}),a.jsx("button",{className:"p-1.5 rounded-lg text-slate-500 hover:bg-slate-100 hover:text-slate-700",children:a.jsx(nl,{size:16})}),a.jsx("button",{className:"p-1.5 rounded-lg text-slate-500 hover:bg-slate-100 hover:text-red-600",children:a.jsx(ca,{size:16})})]})]})]},r.id))})]})},Jj={};function Kj(e,t){let n;try{n=e()}catch{return}return{getItem:s=>{var i;const o=c=>c===null?null:JSON.parse(c,void 0),l=(i=n.getItem(s))!=null?i:null;return l instanceof Promise?l.then(o):o(l)},setItem:(s,i)=>n.setItem(s,JSON.stringify(i,void 0)),removeItem:s=>n.removeItem(s)}}const gs=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return gs(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return gs(r)(n)}}}},Qj=(e,t)=>(n,r,s)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:b=>b,version:0,merge:(b,x)=>({...x,...b}),...t},o=!1;const l=new Set,c=new Set;let u;try{u=i.getStorage()}catch{}if(!u)return e((...b)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...b)},r,s);const d=gs(i.serialize),h=()=>{const b=i.partialize({...r()});let x;const f=d({state:b,version:i.version}).then(g=>u.setItem(i.name,g)).catch(g=>{x=g});if(x)throw x;return f},m=s.setState;s.setState=(b,x)=>{m(b,x),h()};const v=e((...b)=>{n(...b),h()},r,s);let p;const y=()=>{var b;if(!u)return;o=!1,l.forEach(f=>f(r()));const x=((b=i.onRehydrateStorage)==null?void 0:b.call(i,r()))||void 0;return gs(u.getItem.bind(u))(i.name).then(f=>{if(f)return i.deserialize(f)}).then(f=>{if(f)if(typeof f.version=="number"&&f.version!==i.version){if(i.migrate)return i.migrate(f.state,f.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return f.state}).then(f=>{var g;return p=i.merge(f,(g=r())!=null?g:v),n(p,!0),h()}).then(()=>{x==null||x(p,void 0),o=!0,c.forEach(f=>f(p))}).catch(f=>{x==null||x(void 0,f)})};return s.persist={setOptions:b=>{i={...i,...b},b.getStorage&&(u=b.getStorage())},clearStorage:()=>{u==null||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>y(),hasHydrated:()=>o,onHydrate:b=>(l.add(b),()=>{l.delete(b)}),onFinishHydration:b=>(c.add(b),()=>{c.delete(b)})},y(),p||v},Yj=(e,t)=>(n,r,s)=>{let i={storage:Kj(()=>localStorage),partialize:y=>y,version:0,merge:(y,b)=>({...b,...y}),...t},o=!1;const l=new Set,c=new Set;let u=i.storage;if(!u)return e((...y)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...y)},r,s);const d=()=>{const y=i.partialize({...r()});return u.setItem(i.name,{state:y,version:i.version})},h=s.setState;s.setState=(y,b)=>{h(y,b),d()};const m=e((...y)=>{n(...y),d()},r,s);s.getInitialState=()=>m;let v;const p=()=>{var y,b;if(!u)return;o=!1,l.forEach(f=>{var g;return f((g=r())!=null?g:m)});const x=((b=i.onRehydrateStorage)==null?void 0:b.call(i,(y=r())!=null?y:m))||void 0;return gs(u.getItem.bind(u))(i.name).then(f=>{if(f)if(typeof f.version=="number"&&f.version!==i.version){if(i.migrate)return[!0,i.migrate(f.state,f.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,f.state];return[!1,void 0]}).then(f=>{var g;const[j,_]=f;if(v=i.merge(_,(g=r())!=null?g:m),n(v,!0),j)return d()}).then(()=>{x==null||x(v,void 0),v=r(),o=!0,c.forEach(f=>f(v))}).catch(f=>{x==null||x(void 0,f)})};return s.persist={setOptions:y=>{i={...i,...y},y.storage&&(u=y.storage)},clearStorage:()=>{u==null||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>p(),hasHydrated:()=>o,onHydrate:y=>(l.add(y),()=>{l.delete(y)}),onFinishHydration:y=>(c.add(y),()=>{c.delete(y)})},i.skipHydration||p(),v||m},Xj=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((Jj?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),Qj(e,t)):Yj(e,t),Zj=Xj,Vm=Nn()(Zj((e,t)=>({documents:[],loading:!1,error:null,addDocument:(n,r,s)=>{const i={id:Date.now().toString(),name:n,content:r,category:s,size:`${(r.length/1024).toFixed(1)} KB`,created_at:new Date().toISOString(),attachments:[]};e(o=>({documents:[i,...o.documents]}))},getDocuments:()=>t().documents,getDocument:n=>t().documents.find(r=>r.id===n),updateDocument:(n,r)=>{e(s=>({documents:s.documents.map(i=>{if(i.id===n){const o={...i,...r};return r.content&&(o.size=`${(r.content.length/1024).toFixed(1)} KB`),o}return i})}))},deleteDocument:n=>{e(r=>({documents:r.documents.filter(s=>s.id!==n)}))}}),{name:"local-documents-storage"})),Wm=({content:e,onChange:t,onSave:n,onCancel:r})=>{const[s,i]=w.useState(!1),[o,l]=w.useState(""),[c,u]=w.useState(!1),[d,h]=w.useState(""),m=b=>{document.execCommand(b,!1)},v=()=>{o&&(document.execCommand("createLink",!1,o),i(!1),l(""))},p=()=>{d&&(document.execCommand("insertImage",!1,d),u(!1),h(""))},y=b=>{var f;const x=(f=b.target.files)==null?void 0:f[0];x&&console.log("File selected:",x)};return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-wrap gap-2 p-2 bg-slate-50 rounded-lg border border-slate-200",children:[a.jsx("button",{onClick:()=>m("bold"),className:"p-2 rounded hover:bg-slate-200",title:"Bold",children:a.jsx(Zy,{size:16})}),a.jsx("button",{onClick:()=>m("italic"),className:"p-2 rounded hover:bg-slate-200",title:"Italic",children:a.jsx(dw,{size:16})}),a.jsx("button",{onClick:()=>m("underline"),className:"p-2 rounded hover:bg-slate-200",title:"Underline",children:a.jsx(ww,{size:16})}),a.jsx("div",{className:"w-px h-6 bg-slate-300 mx-1"}),a.jsx("button",{onClick:()=>m("insertUnorderedList"),className:"p-2 rounded hover:bg-slate-200",title:"Bullet List",children:a.jsx(mw,{size:16})}),a.jsx("button",{onClick:()=>m("insertOrderedList"),className:"p-2 rounded hover:bg-slate-200",title:"Numbered List",children:a.jsx(fw,{size:16})}),a.jsx("div",{className:"w-px h-6 bg-slate-300 mx-1"}),a.jsx("button",{onClick:()=>i(!0),className:"p-2 rounded hover:bg-slate-200",title:"Insert Link",children:a.jsx(hw,{size:16})}),a.jsx("button",{onClick:()=>u(!0),className:"p-2 rounded hover:bg-slate-200",title:"Insert Image",children:a.jsx(uw,{size:16})}),a.jsx("div",{className:"w-px h-6 bg-slate-300 mx-1"}),a.jsxs("label",{className:"p-2 rounded hover:bg-slate-200 cursor-pointer",title:"Attach File",children:[a.jsx(hs,{size:16}),a.jsx("input",{type:"file",className:"hidden",onChange:y})]})]}),s&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:a.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-lg",children:[a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Insert Link"}),a.jsx("input",{type:"url",value:o,onChange:b=>l(b.target.value),placeholder:"Enter URL",className:"w-full px-3 py-2 border rounded-lg mb-2"}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx("button",{onClick:()=>i(!1),className:"px-4 py-2 text-slate-600 hover:bg-slate-100 rounded-lg",children:"Cancel"}),a.jsx("button",{onClick:v,className:"px-4 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700",children:"Insert"})]})]})}),c&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:a.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-lg",children:[a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Insert Image"}),a.jsx("input",{type:"url",value:d,onChange:b=>h(b.target.value),placeholder:"Enter image URL",className:"w-full px-3 py-2 border rounded-lg mb-2"}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx("button",{onClick:()=>u(!1),className:"px-4 py-2 text-slate-600 hover:bg-slate-100 rounded-lg",children:"Cancel"}),a.jsx("button",{onClick:p,className:"px-4 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700",children:"Insert"})]})]})}),a.jsx("div",{contentEditable:!0,className:"min-h-[400px] p-4 border rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",onInput:b=>t(b.currentTarget.innerHTML),dangerouslySetInnerHTML:{__html:e}}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsxs("button",{onClick:r,className:"px-4 py-2 text-slate-600 hover:bg-slate-100 rounded-lg flex items-center",children:[a.jsx(Ue,{size:16,className:"mr-1"}),"Cancel"]}),a.jsxs("button",{onClick:n,className:"px-4 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700 flex items-center",children:[a.jsx(hc,{size:16,className:"mr-1"}),"Save"]})]})]})},eb=()=>{const[e,t]=w.useState(""),[n,r]=w.useState(""),[s,i]=w.useState("Experience Reports"),[o,l]=w.useState([]),[c,u]=w.useState(!1),d=Be(),{addDocument:h}=Vm(),m=async()=>{try{if(!n.trim()){alert("Please enter a document name");return}u(!0),h(n,e,s),d("/documents")}catch(y){console.error("Error saving document:",y),alert("Error saving document. Please try again.")}finally{u(!1)}},v=async y=>{var x;const b=(x=y.target.files)==null?void 0:x[0];if(b)try{const f={id:Date.now().toString(),name:b.name,type:b.type,size:b.size,url:URL.createObjectURL(b)};l(g=>[...g,f])}catch(f){console.error("Error uploading file:",f),alert("Error uploading file. Please try again.")}},p=y=>{l(b=>b.filter(x=>x.id!==y))};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{onClick:()=>d("/documents"),className:"p-2 rounded-lg text-slate-500 hover:bg-slate-100",children:a.jsx(wm,{size:20})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-slate-800",children:"New Text Document"}),a.jsx("p",{className:"text-slate-500 mt-1",children:"Write and save your text"})]})]}),a.jsxs("div",{className:"card space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"documentName",className:"block text-sm font-medium text-slate-700 mb-1",children:"Document Name"}),a.jsx("input",{id:"documentName",type:"text",value:n,onChange:y=>r(y.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Enter document name..."})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-slate-700 mb-1",children:"Category"}),a.jsxs("select",{id:"category",value:s,onChange:y=>i(y.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",children:[a.jsx("option",{value:"Experience Reports",children:"Experience Reports"}),a.jsx("option",{value:"Technical Reports",children:"Technical Reports"}),a.jsx("option",{value:"Certificates",children:"Certificates"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Content"}),a.jsx(Wm,{content:e,onChange:t,onSave:m,onCancel:()=>d("/documents")})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Attachments"}),a.jsxs("div",{className:"space-y-2",children:[o.map(y=>a.jsxs("div",{className:"flex items-center justify-between p-2 bg-slate-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(hs,{size:16,className:"text-slate-500"}),a.jsx("span",{className:"text-sm text-slate-700",children:y.name}),a.jsxs("span",{className:"text-xs text-slate-500",children:["(",(y.size/1024).toFixed(1)," KB)"]})]}),a.jsx("button",{onClick:()=>p(y.id),className:"p-1 text-slate-500 hover:text-red-600",children:a.jsx(Ue,{size:16})})]},y.id)),a.jsxs("label",{className:"flex items-center space-x-2 p-2 border-2 border-dashed border-slate-200 rounded-lg cursor-pointer hover:border-teal-500",children:[a.jsx(hs,{size:16,className:"text-slate-500"}),a.jsx("span",{className:"text-sm text-slate-700",children:"Add attachment"}),a.jsx("input",{type:"file",className:"hidden",onChange:v})]})]})]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsxs("button",{onClick:m,disabled:c,className:"btn btn-primary flex items-center",children:[a.jsx(hc,{size:16,className:"mr-1.5"}),c?"Saving...":"Save Document"]})})]})},tb=()=>a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 p-4",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-9xl font-bold text-teal-600",children:"404"}),a.jsx("h2",{className:"text-3xl font-semibold text-slate-800 mt-4",children:"Page Not Found"}),a.jsx("p",{className:"text-slate-500 max-w-md mx-auto mt-2",children:"The page you're looking for doesn't exist or has been moved."}),a.jsxs(We,{to:"/",className:"inline-flex items-center px-4 py-2 mt-6 rounded-lg bg-teal-600 text-white hover:bg-teal-700 transition-colors",children:[a.jsx(dc,{size:18,className:"mr-2"}),"Back to Dashboard"]})]})}),nb=()=>{const{id:e}=Y0(),t=Be(),{getDocument:n,updateDocument:r}=Vm(),[s,i]=w.useState(""),[o,l]=w.useState(""),[c,u]=w.useState("Experience Reports"),[d,h]=w.useState([]),[m,v]=w.useState(!1);w.useEffect(()=>{if(e){const x=n(e);x?(i(x.content),l(x.name),u(x.category),x.attachments&&h(x.attachments)):t("/documents")}},[e,n,t]);const p=async()=>{try{if(!o.trim()){alert("Please enter a document name");return}v(!0),e&&(await r(e,{name:o,content:s,category:c,attachments:d}),t("/documents"))}catch(x){console.error("Error updating document:",x),alert("Error updating document. Please try again.")}finally{v(!1)}},y=async x=>{var g;const f=(g=x.target.files)==null?void 0:g[0];if(f)try{const j={id:Date.now().toString(),name:f.name,type:f.type,size:f.size,url:URL.createObjectURL(f)};h(_=>[..._,j])}catch(j){console.error("Error uploading file:",j),alert("Error uploading file. Please try again.")}},b=x=>{h(f=>f.filter(g=>g.id!==x))};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{onClick:()=>t("/documents"),className:"p-2 rounded-lg text-slate-500 hover:bg-slate-100",children:a.jsx(wm,{size:20})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-slate-800",children:"Edit Document"}),a.jsx("p",{className:"text-slate-500 mt-1",children:"Modify your document"})]})]}),a.jsxs("div",{className:"card space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"documentName",className:"block text-sm font-medium text-slate-700 mb-1",children:"Document Name"}),a.jsx("input",{id:"documentName",type:"text",value:o,onChange:x=>l(x.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Enter document name..."})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-slate-700 mb-1",children:"Category"}),a.jsxs("select",{id:"category",value:c,onChange:x=>u(x.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",children:[a.jsx("option",{value:"Experience Reports",children:"Experience Reports"}),a.jsx("option",{value:"Technical Reports",children:"Technical Reports"}),a.jsx("option",{value:"Certificates",children:"Certificates"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Content"}),a.jsx(Wm,{content:s,onChange:i,onSave:p,onCancel:()=>t("/documents")})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Attachments"}),a.jsxs("div",{className:"space-y-2",children:[d.map(x=>a.jsxs("div",{className:"flex items-center justify-between p-2 bg-slate-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(hs,{size:16,className:"text-slate-500"}),a.jsx("span",{className:"text-sm text-slate-700",children:x.name}),a.jsxs("span",{className:"text-xs text-slate-500",children:["(",(x.size/1024).toFixed(1)," KB)"]})]}),a.jsx("button",{onClick:()=>b(x.id),className:"p-1 text-slate-500 hover:text-red-600",children:a.jsx(Ue,{size:16})})]},x.id)),a.jsxs("label",{className:"flex items-center space-x-2 p-2 border-2 border-dashed border-slate-200 rounded-lg cursor-pointer hover:border-teal-500",children:[a.jsx(hs,{size:16,className:"text-slate-500"}),a.jsx("span",{className:"text-sm text-slate-700",children:"Add attachment"}),a.jsx("input",{type:"file",className:"hidden",onChange:y})]})]})]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsxs("button",{onClick:p,disabled:m,className:"btn btn-primary flex items-center",children:[a.jsx(hc,{size:16,className:"mr-1.5"}),m?"Saving...":"Save Changes"]})})]})},rb=[{name:"Free",price:"$0",description:"Perfect for getting started",features:["Basic progress tracking","Up to 5 documents","Standard support","Basic analytics"],buttonText:"Current Plan",isPopular:!1}],sb=()=>{const[e,t]=w.useState(null),[n,r]=w.useState(""),[s,i]=w.useState(""),[o,l]=w.useState(""),[c,u]=w.useState(!1),[d,h]=w.useState({type:"",text:""}),[m,v]=w.useState(!1),[p,y]=w.useState(!1),[b,x]=w.useState(!1),[f,g]=w.useState(""),[j,_]=w.useState(""),[C,T]=w.useState(""),[P,D]=w.useState(""),[$,V]=w.useState("Free");w.useEffect(()=>{(async()=>{var k;const{data:{user:E}}=await A.auth.getUser();E&&(t(E),r(((k=E.user_metadata)==null?void 0:k.full_name)||""),i(E.email||""),l(E.email||""))})()},[]);const F=async N=>{N.preventDefault(),u(!0),h({type:"",text:""});try{const E={};m&&(E.data={full_name:n}),p&&o!==s&&(E.email=o);const{error:k}=await A.auth.updateUser(E);if(k)throw k;h({type:"success",text:"Profile updated successfully!"}),v(!1),y(!1);const{data:{user:I}}=await A.auth.getUser();I&&(t(I),i(I.email||""),l(I.email||""))}catch(E){h({type:"error",text:"Failed to update profile. Please try again."}),console.error("Error updating profile:",E)}finally{u(!1)}};return a.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[a.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Settings"}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"card",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Profile Information"}),a.jsxs("form",{onSubmit:F,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"fullName",className:"label",children:"Full Name"}),m?a.jsxs("div",{className:"space-y-2",children:[a.jsx("input",{type:"text",id:"fullName",value:n,onChange:N=>r(N.target.value),className:"input",placeholder:"Enter your full name"}),a.jsx("div",{className:"flex space-x-2",children:a.jsx("button",{type:"button",onClick:()=>v(!1),className:"btn btn-secondary",children:"Cancel"})})]}):a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{children:n||"Not set"}),a.jsx("button",{type:"button",onClick:()=>v(!0),className:"text-sm text-teal-600 hover:text-teal-700",children:"Edit"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"label",children:"Email Address"}),p?a.jsxs("div",{className:"space-y-2",children:[a.jsx("input",{type:"email",id:"newEmail",value:o,onChange:N=>l(N.target.value),className:"input",placeholder:"Enter your new email"}),a.jsx("p",{className:"text-sm text-slate-500",children:"After changing your email, you'll need to use the new email address to log in."}),a.jsx("div",{className:"flex space-x-2",children:a.jsx("button",{type:"button",onClick:()=>y(!1),className:"btn btn-secondary",children:"Cancel"})})]}):a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{children:s}),a.jsx("button",{type:"button",onClick:()=>y(!0),className:"text-sm text-teal-600 hover:text-teal-700",children:"Edit"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"label",children:"Password"}),b?a.jsxs("div",{className:"space-y-4",children:[a.jsx("input",{type:"password",id:"currentPassword",value:f,onChange:N=>g(N.target.value),className:"input",placeholder:"Current password"}),a.jsx("input",{type:"password",id:"newPassword",value:j,onChange:N=>_(N.target.value),className:"input",placeholder:"New password"}),a.jsx("input",{type:"password",id:"confirmPassword",value:C,onChange:N=>T(N.target.value),className:"input",placeholder:"Confirm new password"}),P&&a.jsx("p",{className:"text-sm text-red-600",children:P}),a.jsx("div",{className:"flex space-x-2",children:a.jsx("button",{type:"button",onClick:()=>x(!1),className:"btn btn-secondary",children:"Cancel"})})]}):a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{children:""}),a.jsx("button",{type:"button",onClick:()=>x(!0),className:"text-sm text-teal-600 hover:text-teal-700",children:"Change"})]})]}),m||p?a.jsx("button",{type:"submit",disabled:c,className:"btn btn-primary",children:c?"Saving...":"Save Changes"}):null]})]}),a.jsxs("div",{className:"card",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Subscription Plan"}),a.jsx("div",{className:"grid gap-6 md:grid-cols-1",children:rb.map(N=>a.jsxs("div",{className:`relative rounded-lg border ${N.isPopular?"border-teal-500":"border-slate-200"} p-6`,children:[N.isPopular&&a.jsx("span",{className:"absolute -top-3 left-1/2 -translate-x-1/2 bg-teal-500 text-white px-3 py-1 rounded-full text-sm",children:"Most Popular"}),a.jsx("h3",{className:"text-lg font-semibold",children:N.name}),a.jsx("div",{className:"mt-2 flex items-baseline",children:a.jsx("span",{className:"text-2xl font-bold",children:N.price})}),a.jsx("p",{className:"mt-2 text-sm text-slate-500",children:N.description}),a.jsx("ul",{className:"mt-4 space-y-2",children:N.features.map(E=>a.jsxs("li",{className:"flex items-center",children:[a.jsx(nw,{className:"h-4 w-4 text-teal-500 mr-2"}),a.jsx("span",{className:"text-sm text-slate-600",children:E})]},E))}),a.jsx("button",{className:`mt-6 w-full rounded-md px-4 py-2 text-sm font-medium ${N.isPopular?"bg-teal-600 text-white hover:bg-teal-700":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,disabled:!0,children:N.buttonText})]},N.name))})]})]}),d.text&&a.jsx("div",{className:`fixed bottom-4 right-4 p-4 rounded-md ${d.type==="success"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:d.text})]})},ib=()=>{const[e,t]=w.useState(""),[n,r]=w.useState(""),[s,i]=w.useState(""),[o,l]=w.useState(!1),[c,u]=w.useState(null),[d,h]=w.useState(!1),m=async v=>{v.preventDefault(),l(!0),u(null),h(!1);try{const p=await fetch("https://bbixvnkqroskholbxkgj.supabase.co/functions/v1/send-support-email",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJiaXh2bmtxcm9za2hvbGJ4a2dqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcwMTg3NjMsImV4cCI6MjA2MjU5NDc2M30.6oGRIhAuzrOq3UI9bOUlxyIoaslzK_UtjrgaxV9WIrU"},body:JSON.stringify({email:e,subject:n,message:s})}),y=await p.json();if(!p.ok)throw new Error(y.error||"Failed to send message");h(!0),t(""),r(""),i("")}catch(p){u(p instanceof Error?p.message:"Failed to send message. Please try again later."),console.error("Error sending support message:",p)}finally{l(!1)}};return a.jsxs("div",{className:"max-w-4xl mx-auto p-6 space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Help & Support"}),a.jsx("p",{className:"text-slate-500 mt-1",children:"Get help with your EIT program journey"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Contact Us"}),a.jsxs("form",{onSubmit:m,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 mb-1",children:"Your Email"}),a.jsx("input",{type:"email",id:"email",value:e,onChange:v=>t(v.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Enter your email",required:!0,disabled:o})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-slate-700 mb-1",children:"Subject"}),a.jsx("input",{type:"text",id:"subject",value:n,onChange:v=>r(v.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"What's your question about?",required:!0,disabled:o})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-slate-700 mb-1",children:"Message"}),a.jsx("textarea",{id:"message",value:s,onChange:v=>i(v.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500 min-h-[150px]",placeholder:"Describe your issue or question...",required:!0,disabled:o})]}),c&&a.jsxs("div",{className:"p-3 bg-red-50 text-red-700 rounded-md text-sm flex items-center gap-2",children:[a.jsx(xm,{size:16}),c]}),d&&a.jsx("div",{className:"p-3 bg-green-50 text-green-700 rounded-md text-sm",children:"Your message has been sent successfully. We'll get back to you soon!"}),a.jsx("button",{type:"submit",className:"btn btn-primary w-full flex items-center justify-center gap-2",disabled:o,children:o?a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):a.jsxs(a.Fragment,{children:[a.jsx(vw,{size:18}),"Send Message"]})})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Frequently Asked Questions"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-slate-900",children:"What is an SAO?"}),a.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"A Situation-Action-Outcome (SAO) is a structured way to document your experiences and demonstrate your competencies. It helps you reflect on specific situations, the actions you took, and the outcomes achieved."})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-slate-900",children:"How do I track my progress?"}),a.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Your progress is automatically tracked as you complete skills and document experiences. Visit the Dashboard to see your overall progress and skill-specific achievements."})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-slate-900",children:"Need more help?"}),a.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"If you can't find what you're looking for, use the contact form to send us a message. Our support team will get back to you as soon as possible."})]})]})]})]})]})},ab=()=>a.jsxs("div",{className:"min-h-screen bg-white",children:[a.jsx("div",{className:"relative bg-gradient-to-b from-teal-50 to-white",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-20 pb-16 text-center",children:[a.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-slate-900 mb-6",children:"Streamline Your EIT Journey"}),a.jsx("p",{className:"text-xl text-slate-600 mb-8 max-w-3xl mx-auto",children:"Accreda helps engineers track, document, and manage their professional development journey towards becoming an Engineer in Training (EIT)."}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[a.jsx(We,{to:"/signup",className:"btn btn-primary text-lg px-8 py-3",children:"Get Started"}),a.jsx(We,{to:"/login",className:"btn btn-secondary text-lg px-8 py-3",children:"Sign In"})]})]})}),a.jsx("div",{className:"py-20 bg-white",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsx("h2",{className:"text-3xl font-bold text-center text-slate-900 mb-12",children:"Everything You Need to Succeed"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[a.jsx("div",{className:"card hover:scale-105 transition-transform",children:a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"w-12 h-12 bg-teal-100 rounded-lg flex items-center justify-center mb-4",children:a.jsx(la,{className:"w-6 h-6 text-teal-600"})}),a.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Skill Tracking"}),a.jsx("p",{className:"text-slate-600",children:"Track your progress across all required engineering competencies with our intuitive skill assessment system."})]})}),a.jsx("div",{className:"card hover:scale-105 transition-transform",children:a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"w-12 h-12 bg-teal-100 rounded-lg flex items-center justify-center mb-4",children:a.jsx(Sn,{className:"w-6 h-6 text-teal-600"})}),a.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Experience Documentation"}),a.jsx("p",{className:"text-slate-600",children:"Document your engineering experiences with our structured templates and guidance."})]})}),a.jsx("div",{className:"card hover:scale-105 transition-transform",children:a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"w-12 h-12 bg-teal-100 rounded-lg flex items-center justify-center mb-4",children:a.jsx(oc,{className:"w-6 h-6 text-teal-600"})}),a.jsx("h3",{className:"text-xl font-semibold mb-2",children:"SAO Management"}),a.jsx("p",{className:"text-slate-600",children:"Create and manage your Self-Assessment Outcomes with our AI-powered writing assistant."})]})})]})]})}),a.jsx("div",{className:"py-20 bg-slate-50",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsx("h2",{className:"text-3xl font-bold text-center text-slate-900 mb-12",children:"Why Choose Accreda?"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(yt,{className:"w-6 h-6 text-teal-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Structured Progress Tracking"}),a.jsx("p",{className:"text-slate-600",children:"Stay organized with our comprehensive tracking system for skills, experiences, and documentation."})]})]}),a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(Ss,{className:"w-6 h-6 text-teal-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Supervisor Collaboration"}),a.jsx("p",{className:"text-slate-600",children:"Streamline the approval process with our integrated supervisor review system."})]})]}),a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(cc,{className:"w-6 h-6 text-teal-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Time-Saving Tools"}),a.jsx("p",{className:"text-slate-600",children:"Our AI-powered writing assistant helps you draft professional documentation quickly."})]})]}),a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(jm,{className:"w-6 h-6 text-teal-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Progress Analytics"}),a.jsx("p",{className:"text-slate-600",children:"Get clear insights into your progress with detailed analytics and visualizations."})]})]})]})]})}),a.jsx("div",{className:"py-20 bg-white",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[a.jsx("h2",{className:"text-3xl font-bold text-slate-900 mb-6",children:"Ready to Start Your EIT Journey?"}),a.jsx("p",{className:"text-xl text-slate-600 mb-8 max-w-2xl mx-auto",children:"Join thousands of engineers who are using Accreda to streamline their path to becoming an Engineer in Training."}),a.jsxs(We,{to:"/signup",className:"btn btn-primary text-lg px-8 py-3 inline-flex items-center",children:["Get Started Now",a.jsx(tl,{className:"ml-2 w-5 h-5"})]})]})}),a.jsx("footer",{className:"bg-slate-900 text-white py-12",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Accreda"}),a.jsx("p",{className:"text-slate-400",children:"Helping engineers achieve their professional goals through structured development and documentation."})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Quick Links"}),a.jsxs("ul",{className:"space-y-2",children:[a.jsx("li",{children:a.jsx(We,{to:"/login",className:"text-slate-400 hover:text-white",children:"Sign In"})}),a.jsx("li",{children:a.jsx(We,{to:"/signup",className:"text-slate-400 hover:text-white",children:"Sign Up"})}),a.jsx("li",{children:a.jsx(We,{to:"/help",className:"text-slate-400 hover:text-white",children:"Help & Support"})})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Contact"}),a.jsxs("ul",{className:"space-y-2 text-slate-400",children:[a.jsx("li",{children:"Email: support@accreda.com"}),a.jsx("li",{children:"Phone: (555) 123-4567"})]})]})]}),a.jsx("div",{className:"border-t border-slate-800 mt-8 pt-8 text-center text-slate-400",children:a.jsxs("p",{children:[" ",new Date().getFullYear()," Accreda. All rights reserved."]})})]})})]}),bd=({onSubmit:e,onCancel:t,isEditing:n,job:r,onJobChange:s,onSkillsToggle:i,onSkillsPopupOpen:o,skillCategories:l})=>{var c;return a.jsxs("div",{className:"mb-6 p-4 bg-slate-50 rounded-lg border border-slate-200",children:[a.jsx("h3",{className:"font-medium mb-4",children:n?"Edit Job":"Add New Job"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Job Title"}),a.jsx("input",{type:"text",value:r.title||"",onChange:u=>s("title",u.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 min-w-[200px]",placeholder:"e.g., Software Engineer",maxLength:100})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Company"}),a.jsx("input",{type:"text",value:r.company||"",onChange:u=>s("company",u.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 min-w-[200px]",placeholder:"e.g., Tech Corp",maxLength:100})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Location"}),a.jsx("input",{type:"text",value:r.location||"",onChange:u=>s("location",u.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 min-w-[200px]",placeholder:"e.g., San Francisco, CA",maxLength:100})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Start Date"}),a.jsx("input",{type:"date",value:r.start_date||"",onChange:u=>s("start_date",u.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 min-w-[150px]"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"End Date"}),a.jsx("input",{type:"date",value:r.end_date||"",onChange:u=>s("end_date",u.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 min-w-[150px]",placeholder:"Present"})]})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Description"}),a.jsx("textarea",{value:r.description||"",onChange:u=>s("description",u.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 min-w-[200px]",rows:3,placeholder:"Brief description of your role and responsibilities",maxLength:500})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Skills"}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:(r.skills||[]).map(u=>{const d=l.flatMap(h=>h.skills).find(h=>h.id===u);return d?a.jsxs("span",{className:"px-2 py-1 bg-slate-100 text-slate-700 rounded-full text-xs flex items-center gap-1",children:[d.name,a.jsx("button",{onClick:()=>i(u),className:"text-slate-400 hover:text-red-600",children:a.jsx(Ue,{size:12})})]},u):null})}),a.jsx("button",{onClick:o,className:"btn btn-secondary w-full",children:(c=r.skills)!=null&&c.length?"Edit Skills":"Select Skills"})]})]}),a.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[a.jsx("button",{onClick:t,className:"btn btn-secondary",children:"Cancel"}),a.jsx("button",{onClick:e,className:"btn btn-primary",children:n?"Update Job":"Save Job"})]})]})},ob=()=>{const[e,t]=w.useState([]),[n,r]=w.useState({}),[s,i]=w.useState({}),[o,l]=w.useState(!1),[c,u]=w.useState(null),[d,h]=w.useState(null),[m,v]=w.useState(!0),{skillCategories:p}=it(),[y,b]=w.useState({title:"",company:"",location:"",start_date:"",end_date:"",description:"",skills:[]}),[x,f]=w.useState(null);w.useEffect(()=>{g(),j(),_();const N=sessionStorage.getItem("pendingScroll");if(N){try{const k=JSON.parse(N);k&&k.itemId&&k.itemType&&f({itemId:k.itemId,itemType:k.itemType})}catch{}sessionStorage.removeItem("pendingScroll")}const E=k=>{console.log("Scroll event received, queuing:",k.detail);const{itemId:I,itemType:O}=k.detail;I&&O&&f({itemId:I,itemType:O})};return window.addEventListener("scroll-to-item",E),()=>{window.removeEventListener("scroll-to-item",E)}},[]),w.useEffect(()=>{if(!x||m){x&&m&&console.log("Holding scroll for item",x.itemId,"due to main loading state.");return}const{itemId:N,itemType:E}=x;let k=null,I=!1;if(console.log(`Processing pending scroll for ${E} ${N}`),E==="job"){I=!0;const O=`[data-job-id="${N}"]`;console.log("Attempting to find job element with selector:",O),k=document.querySelector(O)}else if(E==="reference")if(Object.keys(n).length>0||e.some(O=>{var S;return(S=n[O.id])==null?void 0:S.some(L=>L.id===N)})){I=!0;const O=`[data-reference-id="${N}"]`;console.log("Attempting to find reference element with selector:",O),k=document.querySelector(O)}else console.log("References data not yet populated enough to find item:",N);else if(E==="validator"){let O=Object.keys(s).length>0,S=null;for(const L in s)if(s[L].some(z=>z.id===N)){S=L;break}if(S&&e.some(L=>{var z;return(z=L.skills)==null?void 0:z.includes(S)})?I=!0:O?(I=!0,console.log("Validator data seems generally loaded, attempting query for:",N)):console.log("Validators data not yet populated enough to find item:",N),I){const L=`[data-validator-id="${N}"]`;console.log("Attempting to find validator element with selector:",L),k=document.querySelector(L)}}if(I&&k)console.log(`Performing queued scroll for ${E} ${N} to element:`,k),requestAnimationFrame(()=>{requestAnimationFrame(()=>{k.scrollIntoView({behavior:"smooth",block:"center"}),k.classList.add("highlight-item"),setTimeout(()=>{k==null||k.classList.remove("highlight-item")},2e3)})}),f(null);else if(I&&!k){let O=0;const S=30,L=E==="job"?`[data-job-id="${N}"]`:E==="reference"?`[data-reference-id="${N}"]`:E==="validator"?`[data-validator-id="${N}"]`:"";if(!L){f(null);return}const z=setInterval(()=>{const G=document.querySelector(L);O++,G?(console.log(`Polling found element for ${E} ${N} after ${O} attempts.`),G.scrollIntoView({behavior:"smooth",block:"center"}),G.classList.add("highlight-item"),setTimeout(()=>{G.classList.remove("highlight-item")},2e3),clearInterval(z),f(null)):O>=S&&(console.warn(`Polling failed to find element for ${E} ${N} after ${O} attempts.`),clearInterval(z),f(null))},100)}else I||console.log(`Data not yet ready for ${E} ${N}. Scroll remains pending. Will retry on next data update.`)},[x,e,n,s,m]);const g=async()=>{try{const{data:{user:N}}=await A.auth.getUser();if(!N)return;const{data:E,error:k}=await A.from("jobs").select("*").eq("user_id",N.id).order("start_date",{ascending:!1});if(k)throw k;t(E||[])}catch(N){console.error("Error loading jobs:",N)}finally{v(!1)}},j=async()=>{try{const{data:{user:N}}=await A.auth.getUser();if(!N)return;const{data:E,error:k}=await A.from("job_references").select("*").eq("user_id",N.id);if(k)throw k;const I=E.reduce((O,S)=>(O[S.job_id]||(O[S.job_id]=[]),O[S.job_id].push(S),O),{});r(I)}catch(N){console.error("Error loading references:",N)}},_=async()=>{try{const{data:{user:N}}=await A.auth.getUser();if(!N)return;const{data:E,error:k}=await A.from("validators").select("*").eq("user_id",N.id);if(k)throw k;const I=E.reduce((O,S)=>(O[S.skill_id]||(O[S.skill_id]=[]),O[S.skill_id].push(S),O),{});i(I)}catch(N){console.error("Error loading validators:",N)}},C=async()=>{try{const{data:{user:N}}=await A.auth.getUser();if(!N)return;const{error:E}=await A.from("jobs").insert([{...y,user_id:N.id,skills:y.skills||[]}]);if(E)throw E;b({title:"",company:"",location:"",start_date:"",end_date:"",description:"",skills:[]}),l(!1),g()}catch(N){console.error("Error adding job:",N)}},T=async N=>{try{const{data:{user:E}}=await A.auth.getUser();if(!E){console.error("No user found");return}const{data:k,error:I}=await A.from("jobs").select("*").eq("id",N).single();if(I)throw console.error("Error fetching existing job:",I),I;if(!k){console.error("Job not found");return}const O={title:y.title||k.title,company:y.company||k.company,location:y.location||k.location,start_date:y.start_date||k.start_date,end_date:y.end_date||k.end_date,description:y.description||k.description,skills:y.skills||[],user_id:E.id};console.log("Updating job with data:",{jobId:N,updateData:O,currentSkills:y.skills});const{error:S}=await A.from("jobs").update(O).eq("id",N).eq("user_id",E.id);if(S)throw console.error("Error updating job:",S),S;b({title:"",company:"",location:"",start_date:"",end_date:"",description:"",skills:[]}),u(null),await g()}catch(E){console.error("Error in handleUpdateJob:",E)}},P=async N=>{try{const{error:E}=await A.from("jobs").delete().eq("id",N);if(E)throw E;g()}catch(E){console.error("Error deleting job:",E)}},D=N=>{b({...N,skills:N.skills||[]}),u(N.id)},$=N=>{b(E=>{const k=E.skills||[],I=k.includes(N)?k.filter(O=>O!==N):[...k,N];return console.log("Updating skills:",{currentSkills:k,updatedSkills:I,skillId:N}),{...E,skills:I}})},V=(N,E)=>{b(k=>({...k,[N]:E}))},F=()=>{if(!d)return null;const N=()=>{d!=="new"&&T(d),h(null)};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Select Skills"}),a.jsx("button",{onClick:()=>h(null),className:"text-slate-400 hover:text-slate-600",children:a.jsx(Ue,{size:20})})]}),a.jsx("div",{className:"space-y-4",children:p.map(E=>a.jsxs("div",{className:"border rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium mb-2",children:E.name}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:E.skills.map(k=>{var I;return a.jsxs("label",{className:"flex items-center space-x-2 p-2 rounded hover:bg-slate-50 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:((I=y.skills)==null?void 0:I.includes(k.id))||!1,onChange:()=>$(k.id),className:"rounded text-teal-600 focus:ring-teal-500"}),a.jsx("span",{className:"text-sm",children:k.name})]},k.id)})})]},E.name))}),a.jsx("div",{className:"flex justify-end mt-6",children:a.jsx("button",{onClick:N,className:"btn btn-primary",children:"Done"})})]})})};return m?a.jsx("div",{className:"card animate-pulse",children:a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"h-6 bg-slate-200 rounded w-1/4 mb-4"}),a.jsx("div",{className:"space-y-4",children:[1,2,3].map(N=>a.jsxs("div",{className:"flex gap-4",children:[a.jsx("div",{className:"w-24 h-24 bg-slate-200 rounded"}),a.jsxs("div",{className:"flex-1 space-y-2",children:[a.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/3"}),a.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/4"})]})]},N))})]})}):a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Work Experience"}),a.jsxs("button",{onClick:()=>l(!0),className:"btn btn-primary flex items-center gap-2 shadow-sm hover:shadow-md transition-shadow",children:[a.jsx(ur,{size:16}),"Add Job"]})]}),o&&a.jsx("div",{className:"mb-6",children:a.jsx(bd,{onSubmit:C,onCancel:()=>{l(!1),b({title:"",company:"",location:"",start_date:"",end_date:"",description:"",skills:[]})},isEditing:!1,job:y,onJobChange:V,onSkillsToggle:$,onSkillsPopupOpen:()=>h("new"),skillCategories:p})}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute left-3 top-0 bottom-0 w-0.5 bg-gradient-to-b from-teal-500 to-teal-200"}),a.jsxs("div",{className:"space-y-6",children:[e.map((N,E)=>{var k,I,O,S,L;return a.jsxs("div",{className:"relative pl-10","data-job-id":N.id,"data-reference-id":(I=(k=n[N.id])==null?void 0:k[0])==null?void 0:I.id,"data-validator-id":(O=N.skills)!=null&&O[0]?(L=(S=s[N.skills[0]])==null?void 0:S[0])==null?void 0:L.id:void 0,children:[a.jsx("div",{className:"absolute left-0 w-6 h-6 rounded-full bg-white border-3 border-teal-500 flex items-center justify-center shadow-sm",children:a.jsx(cr,{size:14,className:"text-teal-600"})}),c===N.id?a.jsx(bd,{onSubmit:()=>T(N.id),onCancel:()=>{u(null),b({title:"",company:"",location:"",start_date:"",end_date:"",description:"",skills:[]})},isEditing:!0,job:y,onJobChange:V,onSkillsToggle:$,onSkillsPopupOpen:()=>h(N.id),skillCategories:p}):a.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-4 shadow-sm hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex justify-between items-start mb-3",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-slate-900",children:N.title}),a.jsx("p",{className:"text-sm text-slate-600",children:N.company})]}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx("button",{onClick:()=>{b({...N,skills:N.skills||[]}),h(N.id)},className:"p-1.5 text-slate-400 hover:text-teal-600 hover:bg-teal-50 rounded-lg transition-colors",title:"Edit Skills",children:a.jsx(ur,{size:14})}),a.jsx("button",{onClick:()=>D(N),className:"p-1.5 text-slate-400 hover:text-teal-600 hover:bg-teal-50 rounded-lg transition-colors",title:"Edit Job",children:a.jsx(fs,{size:14})}),a.jsx("button",{onClick:()=>P(N.id),className:"p-1.5 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete Job",children:a.jsx(ca,{size:14})})]})]}),a.jsxs("div",{className:"flex items-center gap-4 text-xs text-slate-500 mb-3",children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx(lc,{size:14,className:"text-teal-500"}),a.jsxs("span",{children:[new Date(N.start_date).toLocaleDateString()," - ",N.end_date?new Date(N.end_date).toLocaleDateString():"Present"]})]}),a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx(Nm,{size:14,className:"text-teal-500"}),a.jsx("span",{children:N.location})]})]}),N.description&&a.jsx("p",{className:"text-sm text-slate-600 mb-4 leading-relaxed",children:N.description}),n[N.id]&&n[N.id].length>0&&a.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-200",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(Ss,{size:14,className:"text-teal-500"}),a.jsx("h4",{className:"text-xs font-semibold text-slate-700 uppercase tracking-wide",children:"References"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:n[N.id].map(z=>a.jsxs("div",{"data-reference-id":z.id,className:"bg-slate-50 rounded-lg p-3 border border-slate-200",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-sm text-slate-900",children:z.full_name}),a.jsx("p",{className:"text-xs text-slate-500",children:z.email})]}),a.jsxs("span",{className:"text-xs px-2 py-0.5 bg-teal-100 text-teal-700 rounded-full font-medium",children:["Reference ",z.reference_number]})]}),a.jsx("p",{className:"text-xs text-slate-600 mt-2 leading-relaxed",children:z.description})]},z.id))})]}),N.skills&&N.skills.length>0&&a.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-200",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(yt,{size:14,className:"text-teal-500"}),a.jsx("h4",{className:"text-xs font-semibold text-slate-700 uppercase tracking-wide",children:"Skills & Validators"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:N.skills.map(z=>{const G=p.flatMap(qe=>qe.skills).find(qe=>qe.id===z),ie=s[z]||[];return G?a.jsxs("div",{className:"bg-slate-50 rounded-lg p-3 border border-slate-200",children:[a.jsx("div",{className:"flex justify-between items-start",children:a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-sm text-slate-900",children:G.name}),G.rank&&a.jsxs("span",{className:"text-xs px-2 py-0.5 bg-green-100 text-green-700 rounded-full font-medium mt-1 inline-block",children:["Score ",G.rank]})]})}),ie.length>0&&a.jsx("div",{className:"mt-2 space-y-1.5",children:ie.map(qe=>a.jsxs("div",{className:"text-xs bg-white rounded-lg p-2 border border-slate-200",children:[a.jsx("p",{className:"font-medium text-slate-900",children:qe.full_name}),a.jsx("p",{className:"text-slate-500",children:qe.email})]},qe.id))})]},z):null})})]})]})]},N.id)}),e.length===0&&!o&&a.jsxs("div",{className:"text-center py-8 text-slate-500",children:[a.jsx(cr,{size:24,className:"mx-auto mb-2 text-slate-400"}),a.jsx("p",{className:"text-sm mb-2",children:"No work experience added yet"}),a.jsx("button",{onClick:()=>l(!0),className:"text-teal-600 hover:text-teal-700 font-medium",children:"Add your first job"})]})]})]})]}),a.jsx(F,{}),a.jsx("style",{children:`
          .highlight-item {
            animation: highlight 2s ease-out;
          }

          @keyframes highlight {
            0% {
              background-color: rgba(99, 102, 241, 0.1);
            }
            100% {
              background-color: transparent;
            }
          }
        `})]})},lb=({isOpen:e,onClose:t,skillName:n,skillId:r,existingValidator:s,onSave:i})=>{const[o,l]=w.useState({fullName:(s==null?void 0:s.full_name)||"",email:(s==null?void 0:s.email)||"",description:(s==null?void 0:s.description)||""}),[c,u]=w.useState(!1),[d,h]=w.useState(null);w.useEffect(()=>{s&&l({fullName:s.full_name,email:s.email,description:s.description})},[s]);const m=async v=>{v.preventDefault(),u(!0),h(null);try{const{data:{user:p}}=await A.auth.getUser();if(!p)throw new Error("No authenticated user");if(s){const{error:y}=await A.from("validators").update({full_name:o.fullName,email:o.email,description:o.description}).eq("id",s.id);if(y)throw y}else{const{error:y}=await A.from("validators").insert([{user_id:p.id,skill_id:r,full_name:o.fullName,email:o.email,description:o.description}]);if(y)throw y}i(),t()}catch(p){h(p instanceof Error?p.message:"An error occurred")}finally{u(!1)}};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-[60]",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("h3",{className:"text-lg font-semibold",children:[s?"Edit":"Add"," Validator for ",n]}),a.jsx("button",{onClick:t,className:"text-slate-400 hover:text-slate-600",children:a.jsx(Ue,{size:24})})]}),d&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:a.jsx("p",{className:"text-sm text-red-600",children:d})}),a.jsxs("form",{onSubmit:m,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Full Name"}),a.jsx("input",{type:"text",value:o.fullName,onChange:v=>l(p=>({...p,fullName:v.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Enter validator's full name",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Email"}),a.jsx("input",{type:"email",value:o.email,onChange:v=>l(p=>({...p,email:v.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Enter validator's email",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Description"}),a.jsx("textarea",{value:o.description,onChange:v=>l(p=>({...p,description:v.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Enter description of validation",rows:4,required:!0})]}),a.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[a.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm font-medium text-slate-700 hover:bg-slate-100 rounded-lg",disabled:c,children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-teal-600 hover:bg-teal-700 rounded-lg disabled:opacity-50",disabled:c,children:c?"Saving...":s?"Update Validator":"Add Validator"})]})]})]})}):null},cb=({isOpen:e,onClose:t,job:n,referenceNumber:r,existingReference:s,onSave:i})=>{const[o,l]=w.useState({fullName:"",email:"",description:""}),[c,u]=w.useState(!1),[d,h]=w.useState(null);w.useEffect(()=>{e&&l(s?{fullName:s.full_name,email:s.email,description:s.description}:{fullName:"",email:"",description:""})},[e,s]);const m=async v=>{v.preventDefault(),u(!0),h(null);try{const{data:{user:p}}=await A.auth.getUser();if(!p)throw new Error("No authenticated user");if(s){const{error:y}=await A.from("job_references").update({full_name:o.fullName,email:o.email,description:o.description}).eq("id",s.id);if(y)throw y}else{const{error:y}=await A.from("job_references").insert([{user_id:p.id,job_id:n.id,full_name:o.fullName,email:o.email,description:o.description,reference_number:r}]);if(y)throw y}i(),t()}catch(p){h(p instanceof Error?p.message:"An error occurred")}finally{u(!1)}};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-[60]",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("h3",{className:"text-lg font-semibold",children:[s?"Edit":"Add"," Reference ",r," for ",n.title," at ",n.company]}),a.jsx("button",{onClick:t,className:"text-slate-400 hover:text-slate-600",children:a.jsx(Ue,{size:24})})]}),d&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:a.jsx("p",{className:"text-sm text-red-600",children:d})}),a.jsxs("form",{onSubmit:m,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Full Name"}),a.jsx("input",{type:"text",value:o.fullName,onChange:v=>l(p=>({...p,fullName:v.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Enter reference's full name",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Email"}),a.jsx("input",{type:"email",value:o.email,onChange:v=>l(p=>({...p,email:v.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Enter reference's email",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Description"}),a.jsx("textarea",{value:o.description,onChange:v=>l(p=>({...p,description:v.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Enter description of reference",rows:4,required:!0})]}),a.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[a.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm font-medium text-slate-700 hover:bg-slate-100 rounded-lg",disabled:c,children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-teal-600 hover:bg-teal-700 rounded-lg disabled:opacity-50",disabled:c,children:c?"Saving...":s?"Update Reference":"Add Reference"})]})]})]})}):null},ub=()=>{var N;const[e,t]=w.useState("references"),[n,r]=w.useState(null),[s,i]=w.useState(null),[o,l]=w.useState(null),[c,u]=w.useState(null),[d,h]=w.useState(null),[m,v]=w.useState({}),[p,y]=w.useState({}),[b,x]=w.useState([]),{skillCategories:f}=it(),g=w.useRef(null),j=w.useRef(null),_=w.useRef(null),C=f.map(E=>({...E,skills:E.skills.filter(k=>k.status==="completed"||k.rank!==void 0)})).filter(E=>E.skills.length>0),T=E=>E>=4.5?"bg-green-100 text-green-700":E>=3.5?"bg-blue-100 text-blue-700":E>=2.5?"bg-yellow-100 text-yellow-700":E>=1.5?"bg-orange-100 text-orange-700":"bg-red-100 text-red-700",P=async()=>{try{const{data:{user:E}}=await A.auth.getUser();if(!E)return;const{data:k,error:I}=await A.from("validators").select("*").eq("user_id",E.id);if(I)throw I;const O=k.reduce((S,L)=>(S[L.skill_id]||(S[L.skill_id]=[]),S[L.skill_id].push(L),S),{});v(O)}catch(E){console.error("Error loading validators:",E)}},D=async()=>{try{const{data:{user:E}}=await A.auth.getUser();if(!E)return;const{data:k,error:I}=await A.from("jobs").select("*").eq("user_id",E.id).order("start_date",{ascending:!1});if(I)throw I;x(k||[])}catch(E){console.error("Error loading jobs:",E)}},$=async()=>{try{const{data:{user:E}}=await A.auth.getUser();if(!E)return;const{data:k,error:I}=await A.from("job_references").select("*").eq("user_id",E.id);if(I)throw I;const O=k.reduce((S,L)=>(S[L.job_id]||(S[L.job_id]=[]),S[L.job_id].push(L),S),{});y(O)}catch(E){console.error("Error loading references:",E)}};w.useEffect(()=>{P(),D(),$()},[]),w.useEffect(()=>{const E=k=>{var S;const{itemId:I,itemType:O}=k.detail||{};O==="reference"?(t("references"),setTimeout(()=>{var L;(L=j.current)==null||L.scrollIntoView({behavior:"smooth",block:"center"})},100)):O==="validator"?(t("validators"),setTimeout(()=>{var L;(L=_.current)==null||L.scrollIntoView({behavior:"smooth",block:"center"})},100)):O==="job"&&((S=g.current)==null||S.scrollIntoView({behavior:"smooth",block:"center"}))};return window.addEventListener("scroll-to-item",E),()=>window.removeEventListener("scroll-to-item",E)},[]);const V=()=>{P()},F=()=>{$()};return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex items-center justify-between",ref:g,children:a.jsxs("h1",{className:"text-2xl font-semibold text-slate-900 flex items-center",children:[a.jsx(bm,{size:24,className:"mr-2 text-teal-600"}),"Jobs"]})}),a.jsx(ob,{}),a.jsxs("div",{className:"card",ref:j,children:[a.jsxs("div",{className:"flex border-b border-slate-200",children:[a.jsx("button",{onClick:()=>t("references"),className:`flex-1 py-3 px-4 text-sm font-medium ${e==="references"?"text-teal-600 border-b-2 border-teal-600":"text-slate-500 hover:text-slate-700"}`,children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx(Ss,{size:18}),"References"]})}),a.jsx("button",{onClick:()=>t("validators"),className:`flex-1 py-3 px-4 text-sm font-medium ${e==="validators"?"text-teal-600 border-b-2 border-teal-600":"text-slate-500 hover:text-slate-700"}`,children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx(yt,{size:18}),"Validators"]})})]}),a.jsx("div",{className:"p-6",ref:_,children:e==="references"?a.jsx("div",{className:"space-y-6",children:b.length>0?b.map(E=>a.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-4",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-slate-900",children:E.title}),a.jsx("p",{className:"text-slate-600",children:E.company})]}),a.jsx("div",{className:"flex gap-2",children:[1,2].map(k=>{var O;const I=(O=p[E.id])==null?void 0:O.find(S=>S.reference_number===k);return I?a.jsxs("button",{onClick:()=>{l(E),u(I),h(k)},className:"px-3 py-1.5 text-sm font-medium text-slate-600 hover:text-slate-700 hover:bg-slate-50 rounded-lg transition-colors flex items-center gap-2",children:[a.jsx(fs,{size:14}),"Reference ",k,": ",I.full_name]},I.id):a.jsxs("button",{onClick:()=>{l(E),u(null),h(k)},className:"px-3 py-1.5 text-sm font-medium text-teal-600 hover:text-teal-700 hover:bg-teal-50 rounded-lg transition-colors flex items-center gap-2",children:[a.jsx(ur,{size:14}),"Add Reference ",k]},k)})})]}),a.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-500 mb-3",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(lc,{size:14}),a.jsxs("span",{children:[new Date(E.start_date).toLocaleDateString()," - ",E.end_date?new Date(E.end_date).toLocaleDateString():"Present"]})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Nm,{size:14}),a.jsx("span",{children:E.location})]})]}),E.description&&a.jsx("p",{className:"text-slate-600 text-sm mb-3",children:E.description}),E.skills&&E.skills.length>0&&a.jsxs("div",{className:"mt-3",children:[a.jsx("h4",{className:"text-sm font-medium text-slate-700 mb-2",children:"Skills:"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:E.skills.map(k=>{const I=f.flatMap(O=>O.skills).find(O=>O.id===k);return I?a.jsx("span",{className:"px-2 py-1 bg-slate-100 text-slate-700 rounded-full text-xs",children:I.name},k):null})})]})]},E.id)):a.jsxs("div",{className:"text-center py-8 text-slate-500",children:[a.jsx(cr,{size:24,className:"mx-auto mb-2 text-slate-400"}),a.jsx("p",{children:"No work experience added yet"}),a.jsx("p",{className:"text-sm mt-1",children:"Add jobs in the Work Experience section above"})]})}):a.jsx("div",{className:"space-y-6",children:C.length>0?C.map(E=>{const k=E.skills.length,I=E.skills.reduce((O,S)=>O+(S.rank||0),0)/k;return a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("h2",{className:"text-lg font-semibold",children:E.name}),a.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full ${T(I)}`,children:[a.jsx(la,{size:16}),a.jsxs("span",{className:"text-sm font-medium",children:["Mean Score: ",I.toFixed(1)]})]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center bg-green-100 text-green-700 mr-2",children:a.jsx("span",{className:"text-sm font-bold",children:k})}),a.jsx("div",{children:a.jsx("p",{className:"text-xs font-medium",children:"Completed"})})]})]}),a.jsx("div",{className:"space-y-3",children:E.skills.map(O=>{var S;return a.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border hover:border-slate-300 hover:bg-slate-50 transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("span",{className:"text-xs px-2.5 py-1 rounded-full bg-green-100 text-green-800",children:["Score ",O.rank]}),a.jsx(yt,{size:18,className:"text-green-500"}),a.jsx("span",{className:"font-medium",children:O.name})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[(S=m[O.id])==null?void 0:S.map(L=>a.jsxs("button",{onClick:()=>{r(O.id),i(L)},className:"px-3 py-1.5 text-sm font-medium text-slate-600 hover:text-slate-700 hover:bg-slate-50 rounded-lg transition-colors flex items-center gap-2",children:[a.jsx(fs,{size:14}),L.full_name]},L.id)),(!m[O.id]||m[O.id].length===0)&&a.jsx("button",{onClick:()=>{r(O.id),i(null)},className:"px-3 py-1.5 text-sm font-medium text-teal-600 hover:text-teal-700 hover:bg-teal-50 rounded-lg transition-colors",children:"Add Validator"})]})]},O.id)})})]},E.name)}):a.jsxs("div",{className:"text-center py-8 text-slate-500",children:[a.jsx(yt,{size:24,className:"mx-auto mb-2 text-slate-400"}),a.jsx("p",{children:"No completed skills yet"}),a.jsx("p",{className:"text-sm mt-1",children:"Complete skills in the Skills section to see them here"})]})})})]}),a.jsx(lb,{isOpen:n!==null,onClose:()=>{r(null),i(null)},skillName:n&&((N=f.flatMap(E=>E.skills).find(E=>E.id===n))==null?void 0:N.name)||"",skillId:n||"",existingValidator:s||void 0,onSave:V}),a.jsx(cb,{isOpen:o!==null&&d!==null,onClose:()=>{l(null),u(null),h(null)},job:o,referenceNumber:d,existingReference:c||void 0,onSave:F})]})};function db(){const[e,t]=w.useState(null),[n,r]=w.useState(!0),s=Li(c=>c.initialize),i=Li(c=>c.setupRealtimeSubscriptions),o=it(c=>c.loadUserSkills),l=async()=>{try{console.log("Starting app initialization..."),await o(),console.log("Skills loaded successfully"),await s(),console.log("Progress initialized successfully"),await i(),console.log("Realtime subscriptions set up successfully")}catch(c){console.error("Error initializing app:",c)}};return w.useEffect(()=>{console.log("Checking for existing session..."),A.auth.getSession().then(({data:{session:u}})=>{console.log("Session check result:",u?"Session found":"No session"),t(u),r(!1),u&&(console.log("Session found, initializing app..."),l())});const{data:{subscription:c}}=A.auth.onAuthStateChange((u,d)=>{console.log("Auth state changed:",u,d?"Session present":"No session"),t(d),d&&(console.log("New session detected, initializing app..."),l())});return()=>c.unsubscribe()},[s,i,o]),n?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-teal-600"})}):a.jsxs(mv,{children:[a.jsx(ue,{path:"/",element:e?a.jsx(Cn,{to:"/dashboard"}):a.jsx(ab,{})}),a.jsx(ue,{path:"/login",element:e?a.jsx(Cn,{to:"/dashboard"}):a.jsx(Wy,{})}),a.jsx(ue,{path:"/signup",element:e?a.jsx(Cn,{to:"/dashboard"}):a.jsx(Gy,{})}),a.jsx(ue,{path:"/forgot-password",element:e?a.jsx(Cn,{to:"/dashboard"}):a.jsx(Jy,{})}),a.jsx(ue,{path:"/reset-password",element:e?a.jsx(Cn,{to:"/dashboard"}):a.jsx(Ky,{})}),a.jsxs(ue,{path:"/dashboard",element:e?a.jsx(nj,{}):a.jsx(Cn,{to:"/"}),children:[a.jsx(ue,{index:!0,element:a.jsx(zj,{})}),a.jsx(ue,{path:"skills",element:a.jsx(Hj,{})}),a.jsx(ue,{path:"saos",element:a.jsx(Lj,{})}),a.jsx(ue,{path:"documents",element:a.jsx(Wj,{})}),a.jsx(ue,{path:"essays",element:a.jsx(Gj,{})}),a.jsx(ue,{path:"text-input",element:a.jsx(eb,{})}),a.jsx(ue,{path:"edit-document/:id",element:a.jsx(nb,{})}),a.jsx(ue,{path:"settings",element:a.jsx(sb,{})}),a.jsx(ue,{path:"help",element:a.jsx(ib,{})}),a.jsx(ue,{path:"references",element:a.jsx(ub,{})})]}),a.jsx(ue,{path:"*",element:a.jsx(tb,{})})]})}$f(document.getElementById("root")).render(a.jsx(w.StrictMode,{children:a.jsx(_v,{children:a.jsx(db,{})})}));export{rl as g};
