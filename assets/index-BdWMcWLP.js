function ux(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const r in s)if(r!=="default"&&!(r in e)){const i=Object.getOwnPropertyDescriptor(s,r);i&&Object.defineProperty(e,r,i.get?i:{enumerable:!0,get:()=>s[r]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();var Re=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function dx(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function s(){return this instanceof s?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(s){var r=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(n,s,r.get?r:{enumerable:!0,get:function(){return e[s]}})}),n}var lp={exports:{}},na={},cp={exports:{}},W={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bi=Symbol.for("react.element"),hx=Symbol.for("react.portal"),fx=Symbol.for("react.fragment"),mx=Symbol.for("react.strict_mode"),px=Symbol.for("react.profiler"),gx=Symbol.for("react.provider"),vx=Symbol.for("react.context"),yx=Symbol.for("react.forward_ref"),xx=Symbol.for("react.suspense"),wx=Symbol.for("react.memo"),bx=Symbol.for("react.lazy"),Fd=Symbol.iterator;function Sx(e){return e===null||typeof e!="object"?null:(e=Fd&&e[Fd]||e["@@iterator"],typeof e=="function"?e:null)}var up={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},dp=Object.assign,hp={};function Js(e,t,n){this.props=e,this.context=t,this.refs=hp,this.updater=n||up}Js.prototype.isReactComponent={};Js.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Js.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function fp(){}fp.prototype=Js.prototype;function Zc(e,t,n){this.props=e,this.context=t,this.refs=hp,this.updater=n||up}var eu=Zc.prototype=new fp;eu.constructor=Zc;dp(eu,Js.prototype);eu.isPureReactComponent=!0;var zd=Array.isArray,mp=Object.prototype.hasOwnProperty,tu={current:null},pp={key:!0,ref:!0,__self:!0,__source:!0};function gp(e,t,n){var s,r={},i=null,o=null;if(t!=null)for(s in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)mp.call(t,s)&&!pp.hasOwnProperty(s)&&(r[s]=t[s]);var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];r.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps,l)r[s]===void 0&&(r[s]=l[s]);return{$$typeof:bi,type:e,key:i,ref:o,props:r,_owner:tu.current}}function jx(e,t){return{$$typeof:bi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function nu(e){return typeof e=="object"&&e!==null&&e.$$typeof===bi}function kx(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Vd=/\/+/g;function Oa(e,t){return typeof e=="object"&&e!==null&&e.key!=null?kx(""+e.key):t.toString(36)}function oo(e,t,n,s,r){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case bi:case hx:o=!0}}if(o)return o=e,r=r(o),e=s===""?"."+Oa(o,0):s,zd(r)?(n="",e!=null&&(n=e.replace(Vd,"$&/")+"/"),oo(r,t,n,"",function(u){return u})):r!=null&&(nu(r)&&(r=jx(r,n+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(Vd,"$&/")+"/")+e)),t.push(r)),1;if(o=0,s=s===""?".":s+":",zd(e))for(var l=0;l<e.length;l++){i=e[l];var c=s+Oa(i,l);o+=oo(i,t,n,c,r)}else if(c=Sx(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=s+Oa(i,l++),o+=oo(i,t,n,c,r);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Li(e,t,n){if(e==null)return e;var s=[],r=0;return oo(e,s,"","",function(i){return t.call(n,i,r++)}),s}function _x(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var $e={current:null},ao={transition:null},Ex={ReactCurrentDispatcher:$e,ReactCurrentBatchConfig:ao,ReactCurrentOwner:tu};function vp(){throw Error("act(...) is not supported in production builds of React.")}W.Children={map:Li,forEach:function(e,t,n){Li(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Li(e,function(){t++}),t},toArray:function(e){return Li(e,function(t){return t})||[]},only:function(e){if(!nu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};W.Component=Js;W.Fragment=fx;W.Profiler=px;W.PureComponent=Zc;W.StrictMode=mx;W.Suspense=xx;W.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ex;W.act=vp;W.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=dp({},e.props),r=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=tu.current),t.key!==void 0&&(r=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)mp.call(t,c)&&!pp.hasOwnProperty(c)&&(s[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];s.children=l}return{$$typeof:bi,type:e.type,key:r,ref:i,props:s,_owner:o}};W.createContext=function(e){return e={$$typeof:vx,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:gx,_context:e},e.Consumer=e};W.createElement=gp;W.createFactory=function(e){var t=gp.bind(null,e);return t.type=e,t};W.createRef=function(){return{current:null}};W.forwardRef=function(e){return{$$typeof:yx,render:e}};W.isValidElement=nu;W.lazy=function(e){return{$$typeof:bx,_payload:{_status:-1,_result:e},_init:_x}};W.memo=function(e,t){return{$$typeof:wx,type:e,compare:t===void 0?null:t}};W.startTransition=function(e){var t=ao.transition;ao.transition={};try{e()}finally{ao.transition=t}};W.unstable_act=vp;W.useCallback=function(e,t){return $e.current.useCallback(e,t)};W.useContext=function(e){return $e.current.useContext(e)};W.useDebugValue=function(){};W.useDeferredValue=function(e){return $e.current.useDeferredValue(e)};W.useEffect=function(e,t){return $e.current.useEffect(e,t)};W.useId=function(){return $e.current.useId()};W.useImperativeHandle=function(e,t,n){return $e.current.useImperativeHandle(e,t,n)};W.useInsertionEffect=function(e,t){return $e.current.useInsertionEffect(e,t)};W.useLayoutEffect=function(e,t){return $e.current.useLayoutEffect(e,t)};W.useMemo=function(e,t){return $e.current.useMemo(e,t)};W.useReducer=function(e,t,n){return $e.current.useReducer(e,t,n)};W.useRef=function(e){return $e.current.useRef(e)};W.useState=function(e){return $e.current.useState(e)};W.useSyncExternalStore=function(e,t,n){return $e.current.useSyncExternalStore(e,t,n)};W.useTransition=function(){return $e.current.useTransition()};W.version="18.3.1";cp.exports=W;var y=cp.exports;const Te=Xc(y),Nx=ux({__proto__:null,default:Te},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cx=y,Tx=Symbol.for("react.element"),Px=Symbol.for("react.fragment"),Ax=Object.prototype.hasOwnProperty,Rx=Cx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ox={key:!0,ref:!0,__self:!0,__source:!0};function yp(e,t,n){var s,r={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(s in t)Ax.call(t,s)&&!Ox.hasOwnProperty(s)&&(r[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)r[s]===void 0&&(r[s]=t[s]);return{$$typeof:Tx,type:e,key:i,ref:o,props:r,_owner:Rx.current}}na.Fragment=Px;na.jsx=yp;na.jsxs=yp;lp.exports=na;var a=lp.exports,xp={exports:{}},et={},wp={exports:{}},bp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(E,M){var z=E.length;E.push(M);e:for(;0<z;){var K=z-1>>>1,B=E[K];if(0<r(B,M))E[K]=M,E[z]=B,z=K;else break e}}function n(E){return E.length===0?null:E[0]}function s(E){if(E.length===0)return null;var M=E[0],z=E.pop();if(z!==M){E[0]=z;e:for(var K=0,B=E.length,Z=B>>>1;K<Z;){var ke=2*(K+1)-1,Ke=E[ke],jt=ke+1,An=E[jt];if(0>r(Ke,z))jt<B&&0>r(An,Ke)?(E[K]=An,E[jt]=z,K=jt):(E[K]=Ke,E[ke]=z,K=ke);else if(jt<B&&0>r(An,z))E[K]=An,E[jt]=z,K=jt;else break e}}return M}function r(E,M){var z=E.sortIndex-M.sortIndex;return z!==0?z:E.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,m=!1,p=!1,x=!1,b=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(E){for(var M=n(u);M!==null;){if(M.callback===null)s(u);else if(M.startTime<=E)s(u),M.sortIndex=M.expirationTime,t(c,M);else break;M=n(u)}}function S(E){if(x=!1,w(E),!p)if(n(c)!==null)p=!0,D(j);else{var M=n(u);M!==null&&U(S,M.startTime-E)}}function j(E,M){p=!1,x&&(x=!1,g(_),_=-1),m=!0;var z=f;try{for(w(M),h=n(c);h!==null&&(!(h.expirationTime>M)||E&&!N());){var K=h.callback;if(typeof K=="function"){h.callback=null,f=h.priorityLevel;var B=K(h.expirationTime<=M);M=e.unstable_now(),typeof B=="function"?h.callback=B:h===n(c)&&s(c),w(M)}else s(c);h=n(c)}if(h!==null)var Z=!0;else{var ke=n(u);ke!==null&&U(S,ke.startTime-M),Z=!1}return Z}finally{h=null,f=z,m=!1}}var C=!1,k=null,_=-1,R=5,O=-1;function N(){return!(e.unstable_now()-O<R)}function $(){if(k!==null){var E=e.unstable_now();O=E;var M=!0;try{M=k(!0,E)}finally{M?P():(C=!1,k=null)}}else C=!1}var P;if(typeof v=="function")P=function(){v($)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,T=L.port2;L.port1.onmessage=$,P=function(){T.postMessage(null)}}else P=function(){b($,0)};function D(E){k=E,C||(C=!0,P())}function U(E,M){_=b(function(){E(e.unstable_now())},M)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(E){E.callback=null},e.unstable_continueExecution=function(){p||m||(p=!0,D(j))},e.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<E?Math.floor(1e3/E):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(E){switch(f){case 1:case 2:case 3:var M=3;break;default:M=f}var z=f;f=M;try{return E()}finally{f=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(E,M){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var z=f;f=E;try{return M()}finally{f=z}},e.unstable_scheduleCallback=function(E,M,z){var K=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?K+z:K):z=K,E){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=z+B,E={id:d++,callback:M,priorityLevel:E,startTime:z,expirationTime:B,sortIndex:-1},z>K?(E.sortIndex=z,t(u,E),n(c)===null&&E===n(u)&&(x?(g(_),_=-1):x=!0,U(S,z-K))):(E.sortIndex=B,t(c,E),p||m||(p=!0,D(j))),E},e.unstable_shouldYield=N,e.unstable_wrapCallback=function(E){var M=f;return function(){var z=f;f=M;try{return E.apply(this,arguments)}finally{f=z}}}})(bp);wp.exports=bp;var Ix=wp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lx=y,Ze=Ix;function I(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Sp=new Set,Fr={};function es(e,t){Ds(e,t),Ds(e+"Capture",t)}function Ds(e,t){for(Fr[e]=t,e=0;e<t.length;e++)Sp.add(t[e])}var zt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),El=Object.prototype.hasOwnProperty,Dx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Bd={},Hd={};function Mx(e){return El.call(Hd,e)?!0:El.call(Bd,e)?!1:Dx.test(e)?Hd[e]=!0:(Bd[e]=!0,!1)}function $x(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Ux(e,t,n,s){if(t===null||typeof t>"u"||$x(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ue(e,t,n,s,r,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var je={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){je[e]=new Ue(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];je[t]=new Ue(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){je[e]=new Ue(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){je[e]=new Ue(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){je[e]=new Ue(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){je[e]=new Ue(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){je[e]=new Ue(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){je[e]=new Ue(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){je[e]=new Ue(e,5,!1,e.toLowerCase(),null,!1,!1)});var su=/[\-:]([a-z])/g;function ru(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(su,ru);je[t]=new Ue(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(su,ru);je[t]=new Ue(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(su,ru);je[t]=new Ue(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){je[e]=new Ue(e,1,!1,e.toLowerCase(),null,!1,!1)});je.xlinkHref=new Ue("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){je[e]=new Ue(e,1,!1,e.toLowerCase(),null,!0,!0)});function iu(e,t,n,s){var r=je.hasOwnProperty(t)?je[t]:null;(r!==null?r.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Ux(t,n,r,s)&&(n=null),s||r===null?Mx(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=n===null?r.type===3?!1:"":n:(t=r.attributeName,s=r.attributeNamespace,n===null?e.removeAttribute(t):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var Kt=Lx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Di=Symbol.for("react.element"),hs=Symbol.for("react.portal"),fs=Symbol.for("react.fragment"),ou=Symbol.for("react.strict_mode"),Nl=Symbol.for("react.profiler"),jp=Symbol.for("react.provider"),kp=Symbol.for("react.context"),au=Symbol.for("react.forward_ref"),Cl=Symbol.for("react.suspense"),Tl=Symbol.for("react.suspense_list"),lu=Symbol.for("react.memo"),tn=Symbol.for("react.lazy"),_p=Symbol.for("react.offscreen"),qd=Symbol.iterator;function ir(e){return e===null||typeof e!="object"?null:(e=qd&&e[qd]||e["@@iterator"],typeof e=="function"?e:null)}var le=Object.assign,Ia;function gr(e){if(Ia===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ia=t&&t[1]||""}return`
`+Ia+e}var La=!1;function Da(e,t){if(!e||La)return"";La=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var s=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){s=u}e.call(t.prototype)}else{try{throw Error()}catch(u){s=u}e()}}catch(u){if(u&&s&&typeof u.stack=="string"){for(var r=u.stack.split(`
`),i=s.stack.split(`
`),o=r.length-1,l=i.length-1;1<=o&&0<=l&&r[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(r[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||r[o]!==i[l]){var c=`
`+r[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{La=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?gr(e):""}function Fx(e){switch(e.tag){case 5:return gr(e.type);case 16:return gr("Lazy");case 13:return gr("Suspense");case 19:return gr("SuspenseList");case 0:case 2:case 15:return e=Da(e.type,!1),e;case 11:return e=Da(e.type.render,!1),e;case 1:return e=Da(e.type,!0),e;default:return""}}function Pl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case fs:return"Fragment";case hs:return"Portal";case Nl:return"Profiler";case ou:return"StrictMode";case Cl:return"Suspense";case Tl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case kp:return(e.displayName||"Context")+".Consumer";case jp:return(e._context.displayName||"Context")+".Provider";case au:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case lu:return t=e.displayName||null,t!==null?t:Pl(e.type)||"Memo";case tn:t=e._payload,e=e._init;try{return Pl(e(t))}catch{}}return null}function zx(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Pl(t);case 8:return t===ou?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Sn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ep(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Vx(e){var t=Ep(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(o){s=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Mi(e){e._valueTracker||(e._valueTracker=Vx(e))}function Np(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=Ep(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function ko(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Al(e,t){var n=t.checked;return le({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Wd(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=Sn(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Cp(e,t){t=t.checked,t!=null&&iu(e,"checked",t,!1)}function Rl(e,t){Cp(e,t);var n=Sn(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ol(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ol(e,t.type,Sn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Gd(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ol(e,t,n){(t!=="number"||ko(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var vr=Array.isArray;function Ts(e,t,n,s){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&s&&(e[n].defaultSelected=!0)}else{for(n=""+Sn(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,s&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function Il(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(I(91));return le({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Kd(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(I(92));if(vr(n)){if(1<n.length)throw Error(I(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Sn(n)}}function Tp(e,t){var n=Sn(t.value),s=Sn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function Jd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Pp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ll(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Pp(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var $i,Ap=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,r){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,r)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for($i=$i||document.createElement("div"),$i.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=$i.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function zr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Sr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Bx=["Webkit","ms","Moz","O"];Object.keys(Sr).forEach(function(e){Bx.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Sr[t]=Sr[e]})});function Rp(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Sr.hasOwnProperty(e)&&Sr[e]?(""+t).trim():t+"px"}function Op(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,r=Rp(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,r):e[n]=r}}var Hx=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Dl(e,t){if(t){if(Hx[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(I(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(I(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(I(61))}if(t.style!=null&&typeof t.style!="object")throw Error(I(62))}}function Ml(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $l=null;function cu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ul=null,Ps=null,As=null;function Yd(e){if(e=ki(e)){if(typeof Ul!="function")throw Error(I(280));var t=e.stateNode;t&&(t=aa(t),Ul(e.stateNode,e.type,t))}}function Ip(e){Ps?As?As.push(e):As=[e]:Ps=e}function Lp(){if(Ps){var e=Ps,t=As;if(As=Ps=null,Yd(e),t)for(e=0;e<t.length;e++)Yd(t[e])}}function Dp(e,t){return e(t)}function Mp(){}var Ma=!1;function $p(e,t,n){if(Ma)return e(t,n);Ma=!0;try{return Dp(e,t,n)}finally{Ma=!1,(Ps!==null||As!==null)&&(Mp(),Lp())}}function Vr(e,t){var n=e.stateNode;if(n===null)return null;var s=aa(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(I(231,t,typeof n));return n}var Fl=!1;if(zt)try{var or={};Object.defineProperty(or,"passive",{get:function(){Fl=!0}}),window.addEventListener("test",or,or),window.removeEventListener("test",or,or)}catch{Fl=!1}function qx(e,t,n,s,r,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var jr=!1,_o=null,Eo=!1,zl=null,Wx={onError:function(e){jr=!0,_o=e}};function Gx(e,t,n,s,r,i,o,l,c){jr=!1,_o=null,qx.apply(Wx,arguments)}function Kx(e,t,n,s,r,i,o,l,c){if(Gx.apply(this,arguments),jr){if(jr){var u=_o;jr=!1,_o=null}else throw Error(I(198));Eo||(Eo=!0,zl=u)}}function ts(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Up(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Qd(e){if(ts(e)!==e)throw Error(I(188))}function Jx(e){var t=e.alternate;if(!t){if(t=ts(e),t===null)throw Error(I(188));return t!==e?null:e}for(var n=e,s=t;;){var r=n.return;if(r===null)break;var i=r.alternate;if(i===null){if(s=r.return,s!==null){n=s;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===n)return Qd(r),e;if(i===s)return Qd(r),t;i=i.sibling}throw Error(I(188))}if(n.return!==s.return)n=r,s=i;else{for(var o=!1,l=r.child;l;){if(l===n){o=!0,n=r,s=i;break}if(l===s){o=!0,s=r,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,s=r;break}if(l===s){o=!0,s=i,n=r;break}l=l.sibling}if(!o)throw Error(I(189))}}if(n.alternate!==s)throw Error(I(190))}if(n.tag!==3)throw Error(I(188));return n.stateNode.current===n?e:t}function Fp(e){return e=Jx(e),e!==null?zp(e):null}function zp(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=zp(e);if(t!==null)return t;e=e.sibling}return null}var Vp=Ze.unstable_scheduleCallback,Xd=Ze.unstable_cancelCallback,Yx=Ze.unstable_shouldYield,Qx=Ze.unstable_requestPaint,he=Ze.unstable_now,Xx=Ze.unstable_getCurrentPriorityLevel,uu=Ze.unstable_ImmediatePriority,Bp=Ze.unstable_UserBlockingPriority,No=Ze.unstable_NormalPriority,Zx=Ze.unstable_LowPriority,Hp=Ze.unstable_IdlePriority,sa=null,Ct=null;function ew(e){if(Ct&&typeof Ct.onCommitFiberRoot=="function")try{Ct.onCommitFiberRoot(sa,e,void 0,(e.current.flags&128)===128)}catch{}}var wt=Math.clz32?Math.clz32:sw,tw=Math.log,nw=Math.LN2;function sw(e){return e>>>=0,e===0?32:31-(tw(e)/nw|0)|0}var Ui=64,Fi=4194304;function yr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Co(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,r=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~r;l!==0?s=yr(l):(i&=o,i!==0&&(s=yr(i)))}else o=n&~r,o!==0?s=yr(o):i!==0&&(s=yr(i));if(s===0)return 0;if(t!==0&&t!==s&&!(t&r)&&(r=s&-s,i=t&-t,r>=i||r===16&&(i&4194240)!==0))return t;if(s&4&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-wt(t),r=1<<n,s|=e[n],t&=~r;return s}function rw(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function iw(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,r=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-wt(i),l=1<<o,c=r[o];c===-1?(!(l&n)||l&s)&&(r[o]=rw(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function Vl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function qp(){var e=Ui;return Ui<<=1,!(Ui&4194240)&&(Ui=64),e}function $a(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Si(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-wt(t),e[t]=n}function ow(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-wt(n),i=1<<r;t[r]=0,s[r]=-1,e[r]=-1,n&=~i}}function du(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-wt(n),r=1<<s;r&t|e[s]&t&&(e[s]|=t),n&=~r}}var Y=0;function Wp(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Gp,hu,Kp,Jp,Yp,Bl=!1,zi=[],hn=null,fn=null,mn=null,Br=new Map,Hr=new Map,on=[],aw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Zd(e,t){switch(e){case"focusin":case"focusout":hn=null;break;case"dragenter":case"dragleave":fn=null;break;case"mouseover":case"mouseout":mn=null;break;case"pointerover":case"pointerout":Br.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hr.delete(t.pointerId)}}function ar(e,t,n,s,r,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:i,targetContainers:[r]},t!==null&&(t=ki(t),t!==null&&hu(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function lw(e,t,n,s,r){switch(t){case"focusin":return hn=ar(hn,e,t,n,s,r),!0;case"dragenter":return fn=ar(fn,e,t,n,s,r),!0;case"mouseover":return mn=ar(mn,e,t,n,s,r),!0;case"pointerover":var i=r.pointerId;return Br.set(i,ar(Br.get(i)||null,e,t,n,s,r)),!0;case"gotpointercapture":return i=r.pointerId,Hr.set(i,ar(Hr.get(i)||null,e,t,n,s,r)),!0}return!1}function Qp(e){var t=Un(e.target);if(t!==null){var n=ts(t);if(n!==null){if(t=n.tag,t===13){if(t=Up(n),t!==null){e.blockedOn=t,Yp(e.priority,function(){Kp(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function lo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Hl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);$l=s,n.target.dispatchEvent(s),$l=null}else return t=ki(n),t!==null&&hu(t),e.blockedOn=n,!1;t.shift()}return!0}function eh(e,t,n){lo(e)&&n.delete(t)}function cw(){Bl=!1,hn!==null&&lo(hn)&&(hn=null),fn!==null&&lo(fn)&&(fn=null),mn!==null&&lo(mn)&&(mn=null),Br.forEach(eh),Hr.forEach(eh)}function lr(e,t){e.blockedOn===t&&(e.blockedOn=null,Bl||(Bl=!0,Ze.unstable_scheduleCallback(Ze.unstable_NormalPriority,cw)))}function qr(e){function t(r){return lr(r,e)}if(0<zi.length){lr(zi[0],e);for(var n=1;n<zi.length;n++){var s=zi[n];s.blockedOn===e&&(s.blockedOn=null)}}for(hn!==null&&lr(hn,e),fn!==null&&lr(fn,e),mn!==null&&lr(mn,e),Br.forEach(t),Hr.forEach(t),n=0;n<on.length;n++)s=on[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<on.length&&(n=on[0],n.blockedOn===null);)Qp(n),n.blockedOn===null&&on.shift()}var Rs=Kt.ReactCurrentBatchConfig,To=!0;function uw(e,t,n,s){var r=Y,i=Rs.transition;Rs.transition=null;try{Y=1,fu(e,t,n,s)}finally{Y=r,Rs.transition=i}}function dw(e,t,n,s){var r=Y,i=Rs.transition;Rs.transition=null;try{Y=4,fu(e,t,n,s)}finally{Y=r,Rs.transition=i}}function fu(e,t,n,s){if(To){var r=Hl(e,t,n,s);if(r===null)Ka(e,t,s,Po,n),Zd(e,s);else if(lw(r,e,t,n,s))s.stopPropagation();else if(Zd(e,s),t&4&&-1<aw.indexOf(e)){for(;r!==null;){var i=ki(r);if(i!==null&&Gp(i),i=Hl(e,t,n,s),i===null&&Ka(e,t,s,Po,n),i===r)break;r=i}r!==null&&s.stopPropagation()}else Ka(e,t,s,null,n)}}var Po=null;function Hl(e,t,n,s){if(Po=null,e=cu(s),e=Un(e),e!==null)if(t=ts(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Up(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Po=e,null}function Xp(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xx()){case uu:return 1;case Bp:return 4;case No:case Zx:return 16;case Hp:return 536870912;default:return 16}default:return 16}}var cn=null,mu=null,co=null;function Zp(){if(co)return co;var e,t=mu,n=t.length,s,r="value"in cn?cn.value:cn.textContent,i=r.length;for(e=0;e<n&&t[e]===r[e];e++);var o=n-e;for(s=1;s<=o&&t[n-s]===r[i-s];s++);return co=r.slice(e,1<s?1-s:void 0)}function uo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Vi(){return!0}function th(){return!1}function tt(e){function t(n,s,r,i,o){this._reactName=n,this._targetInst=r,this.type=s,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Vi:th,this.isPropagationStopped=th,this}return le(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Vi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Vi)},persist:function(){},isPersistent:Vi}),t}var Ys={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pu=tt(Ys),ji=le({},Ys,{view:0,detail:0}),hw=tt(ji),Ua,Fa,cr,ra=le({},ji,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cr&&(cr&&e.type==="mousemove"?(Ua=e.screenX-cr.screenX,Fa=e.screenY-cr.screenY):Fa=Ua=0,cr=e),Ua)},movementY:function(e){return"movementY"in e?e.movementY:Fa}}),nh=tt(ra),fw=le({},ra,{dataTransfer:0}),mw=tt(fw),pw=le({},ji,{relatedTarget:0}),za=tt(pw),gw=le({},Ys,{animationName:0,elapsedTime:0,pseudoElement:0}),vw=tt(gw),yw=le({},Ys,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xw=tt(yw),ww=le({},Ys,{data:0}),sh=tt(ww),bw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kw(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=jw[e])?!!t[e]:!1}function gu(){return kw}var _w=le({},ji,{key:function(e){if(e.key){var t=bw[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=uo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Sw[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gu,charCode:function(e){return e.type==="keypress"?uo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?uo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ew=tt(_w),Nw=le({},ra,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rh=tt(Nw),Cw=le({},ji,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gu}),Tw=tt(Cw),Pw=le({},Ys,{propertyName:0,elapsedTime:0,pseudoElement:0}),Aw=tt(Pw),Rw=le({},ra,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ow=tt(Rw),Iw=[9,13,27,32],vu=zt&&"CompositionEvent"in window,kr=null;zt&&"documentMode"in document&&(kr=document.documentMode);var Lw=zt&&"TextEvent"in window&&!kr,eg=zt&&(!vu||kr&&8<kr&&11>=kr),ih=" ",oh=!1;function tg(e,t){switch(e){case"keyup":return Iw.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ng(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ms=!1;function Dw(e,t){switch(e){case"compositionend":return ng(t);case"keypress":return t.which!==32?null:(oh=!0,ih);case"textInput":return e=t.data,e===ih&&oh?null:e;default:return null}}function Mw(e,t){if(ms)return e==="compositionend"||!vu&&tg(e,t)?(e=Zp(),co=mu=cn=null,ms=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return eg&&t.locale!=="ko"?null:t.data;default:return null}}var $w={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ah(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!$w[e.type]:t==="textarea"}function sg(e,t,n,s){Ip(s),t=Ao(t,"onChange"),0<t.length&&(n=new pu("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var _r=null,Wr=null;function Uw(e){mg(e,0)}function ia(e){var t=vs(e);if(Np(t))return e}function Fw(e,t){if(e==="change")return t}var rg=!1;if(zt){var Va;if(zt){var Ba="oninput"in document;if(!Ba){var lh=document.createElement("div");lh.setAttribute("oninput","return;"),Ba=typeof lh.oninput=="function"}Va=Ba}else Va=!1;rg=Va&&(!document.documentMode||9<document.documentMode)}function ch(){_r&&(_r.detachEvent("onpropertychange",ig),Wr=_r=null)}function ig(e){if(e.propertyName==="value"&&ia(Wr)){var t=[];sg(t,Wr,e,cu(e)),$p(Uw,t)}}function zw(e,t,n){e==="focusin"?(ch(),_r=t,Wr=n,_r.attachEvent("onpropertychange",ig)):e==="focusout"&&ch()}function Vw(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ia(Wr)}function Bw(e,t){if(e==="click")return ia(t)}function Hw(e,t){if(e==="input"||e==="change")return ia(t)}function qw(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var St=typeof Object.is=="function"?Object.is:qw;function Gr(e,t){if(St(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var r=n[s];if(!El.call(t,r)||!St(e[r],t[r]))return!1}return!0}function uh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dh(e,t){var n=uh(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=uh(n)}}function og(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?og(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ag(){for(var e=window,t=ko();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ko(e.document)}return t}function yu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Ww(e){var t=ag(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&og(n.ownerDocument.documentElement,n)){if(s!==null&&yu(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var r=n.textContent.length,i=Math.min(s.start,r);s=s.end===void 0?i:Math.min(s.end,r),!e.extend&&i>s&&(r=s,s=i,i=r),r=dh(n,i);var o=dh(n,s);r&&o&&(e.rangeCount!==1||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(r.node,r.offset),e.removeAllRanges(),i>s?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Gw=zt&&"documentMode"in document&&11>=document.documentMode,ps=null,ql=null,Er=null,Wl=!1;function hh(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Wl||ps==null||ps!==ko(s)||(s=ps,"selectionStart"in s&&yu(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Er&&Gr(Er,s)||(Er=s,s=Ao(ql,"onSelect"),0<s.length&&(t=new pu("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=ps)))}function Bi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var gs={animationend:Bi("Animation","AnimationEnd"),animationiteration:Bi("Animation","AnimationIteration"),animationstart:Bi("Animation","AnimationStart"),transitionend:Bi("Transition","TransitionEnd")},Ha={},lg={};zt&&(lg=document.createElement("div").style,"AnimationEvent"in window||(delete gs.animationend.animation,delete gs.animationiteration.animation,delete gs.animationstart.animation),"TransitionEvent"in window||delete gs.transitionend.transition);function oa(e){if(Ha[e])return Ha[e];if(!gs[e])return e;var t=gs[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in lg)return Ha[e]=t[n];return e}var cg=oa("animationend"),ug=oa("animationiteration"),dg=oa("animationstart"),hg=oa("transitionend"),fg=new Map,fh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function En(e,t){fg.set(e,t),es(t,[e])}for(var qa=0;qa<fh.length;qa++){var Wa=fh[qa],Kw=Wa.toLowerCase(),Jw=Wa[0].toUpperCase()+Wa.slice(1);En(Kw,"on"+Jw)}En(cg,"onAnimationEnd");En(ug,"onAnimationIteration");En(dg,"onAnimationStart");En("dblclick","onDoubleClick");En("focusin","onFocus");En("focusout","onBlur");En(hg,"onTransitionEnd");Ds("onMouseEnter",["mouseout","mouseover"]);Ds("onMouseLeave",["mouseout","mouseover"]);Ds("onPointerEnter",["pointerout","pointerover"]);Ds("onPointerLeave",["pointerout","pointerover"]);es("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));es("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));es("onBeforeInput",["compositionend","keypress","textInput","paste"]);es("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));es("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));es("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yw=new Set("cancel close invalid load scroll toggle".split(" ").concat(xr));function mh(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,Kx(s,t,void 0,e),e.currentTarget=null}function mg(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],r=s.event;s=s.listeners;e:{var i=void 0;if(t)for(var o=s.length-1;0<=o;o--){var l=s[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&r.isPropagationStopped())break e;mh(r,l,u),i=c}else for(o=0;o<s.length;o++){if(l=s[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&r.isPropagationStopped())break e;mh(r,l,u),i=c}}}if(Eo)throw e=zl,Eo=!1,zl=null,e}function ee(e,t){var n=t[Ql];n===void 0&&(n=t[Ql]=new Set);var s=e+"__bubble";n.has(s)||(pg(t,e,2,!1),n.add(s))}function Ga(e,t,n){var s=0;t&&(s|=4),pg(n,e,s,t)}var Hi="_reactListening"+Math.random().toString(36).slice(2);function Kr(e){if(!e[Hi]){e[Hi]=!0,Sp.forEach(function(n){n!=="selectionchange"&&(Yw.has(n)||Ga(n,!1,e),Ga(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Hi]||(t[Hi]=!0,Ga("selectionchange",!1,t))}}function pg(e,t,n,s){switch(Xp(t)){case 1:var r=uw;break;case 4:r=dw;break;default:r=fu}n=r.bind(null,t,n,e),r=void 0,!Fl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),s?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Ka(e,t,n,s,r){var i=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var l=s.stateNode.containerInfo;if(l===r||l.nodeType===8&&l.parentNode===r)break;if(o===4)for(o=s.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===r||c.nodeType===8&&c.parentNode===r))return;o=o.return}for(;l!==null;){if(o=Un(l),o===null)return;if(c=o.tag,c===5||c===6){s=i=o;continue e}l=l.parentNode}}s=s.return}$p(function(){var u=i,d=cu(n),h=[];e:{var f=fg.get(e);if(f!==void 0){var m=pu,p=e;switch(e){case"keypress":if(uo(n)===0)break e;case"keydown":case"keyup":m=Ew;break;case"focusin":p="focus",m=za;break;case"focusout":p="blur",m=za;break;case"beforeblur":case"afterblur":m=za;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=nh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=mw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Tw;break;case cg:case ug:case dg:m=vw;break;case hg:m=Aw;break;case"scroll":m=hw;break;case"wheel":m=Ow;break;case"copy":case"cut":case"paste":m=xw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=rh}var x=(t&4)!==0,b=!x&&e==="scroll",g=x?f!==null?f+"Capture":null:f;x=[];for(var v=u,w;v!==null;){w=v;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,g!==null&&(S=Vr(v,g),S!=null&&x.push(Jr(v,S,w)))),b)break;v=v.return}0<x.length&&(f=new m(f,p,null,n,d),h.push({event:f,listeners:x}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",f&&n!==$l&&(p=n.relatedTarget||n.fromElement)&&(Un(p)||p[Vt]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(p=n.relatedTarget||n.toElement,m=u,p=p?Un(p):null,p!==null&&(b=ts(p),p!==b||p.tag!==5&&p.tag!==6)&&(p=null)):(m=null,p=u),m!==p)){if(x=nh,S="onMouseLeave",g="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(x=rh,S="onPointerLeave",g="onPointerEnter",v="pointer"),b=m==null?f:vs(m),w=p==null?f:vs(p),f=new x(S,v+"leave",m,n,d),f.target=b,f.relatedTarget=w,S=null,Un(d)===u&&(x=new x(g,v+"enter",p,n,d),x.target=w,x.relatedTarget=b,S=x),b=S,m&&p)t:{for(x=m,g=p,v=0,w=x;w;w=is(w))v++;for(w=0,S=g;S;S=is(S))w++;for(;0<v-w;)x=is(x),v--;for(;0<w-v;)g=is(g),w--;for(;v--;){if(x===g||g!==null&&x===g.alternate)break t;x=is(x),g=is(g)}x=null}else x=null;m!==null&&ph(h,f,m,x,!1),p!==null&&b!==null&&ph(h,b,p,x,!0)}}e:{if(f=u?vs(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var j=Fw;else if(ah(f))if(rg)j=Hw;else{j=Vw;var C=zw}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(j=Bw);if(j&&(j=j(e,u))){sg(h,j,n,d);break e}C&&C(e,f,u),e==="focusout"&&(C=f._wrapperState)&&C.controlled&&f.type==="number"&&Ol(f,"number",f.value)}switch(C=u?vs(u):window,e){case"focusin":(ah(C)||C.contentEditable==="true")&&(ps=C,ql=u,Er=null);break;case"focusout":Er=ql=ps=null;break;case"mousedown":Wl=!0;break;case"contextmenu":case"mouseup":case"dragend":Wl=!1,hh(h,n,d);break;case"selectionchange":if(Gw)break;case"keydown":case"keyup":hh(h,n,d)}var k;if(vu)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else ms?tg(e,n)&&(_="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(eg&&n.locale!=="ko"&&(ms||_!=="onCompositionStart"?_==="onCompositionEnd"&&ms&&(k=Zp()):(cn=d,mu="value"in cn?cn.value:cn.textContent,ms=!0)),C=Ao(u,_),0<C.length&&(_=new sh(_,e,null,n,d),h.push({event:_,listeners:C}),k?_.data=k:(k=ng(n),k!==null&&(_.data=k)))),(k=Lw?Dw(e,n):Mw(e,n))&&(u=Ao(u,"onBeforeInput"),0<u.length&&(d=new sh("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=k))}mg(h,t)})}function Jr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ao(e,t){for(var n=t+"Capture",s=[];e!==null;){var r=e,i=r.stateNode;r.tag===5&&i!==null&&(r=i,i=Vr(e,n),i!=null&&s.unshift(Jr(e,i,r)),i=Vr(e,t),i!=null&&s.push(Jr(e,i,r))),e=e.return}return s}function is(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ph(e,t,n,s,r){for(var i=t._reactName,o=[];n!==null&&n!==s;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===s)break;l.tag===5&&u!==null&&(l=u,r?(c=Vr(n,i),c!=null&&o.unshift(Jr(n,c,l))):r||(c=Vr(n,i),c!=null&&o.push(Jr(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Qw=/\r\n?/g,Xw=/\u0000|\uFFFD/g;function gh(e){return(typeof e=="string"?e:""+e).replace(Qw,`
`).replace(Xw,"")}function qi(e,t,n){if(t=gh(t),gh(e)!==t&&n)throw Error(I(425))}function Ro(){}var Gl=null,Kl=null;function Jl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Yl=typeof setTimeout=="function"?setTimeout:void 0,Zw=typeof clearTimeout=="function"?clearTimeout:void 0,vh=typeof Promise=="function"?Promise:void 0,e1=typeof queueMicrotask=="function"?queueMicrotask:typeof vh<"u"?function(e){return vh.resolve(null).then(e).catch(t1)}:Yl;function t1(e){setTimeout(function(){throw e})}function Ja(e,t){var n=t,s=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(s===0){e.removeChild(r),qr(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=r}while(n);qr(t)}function pn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function yh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Qs=Math.random().toString(36).slice(2),Nt="__reactFiber$"+Qs,Yr="__reactProps$"+Qs,Vt="__reactContainer$"+Qs,Ql="__reactEvents$"+Qs,n1="__reactListeners$"+Qs,s1="__reactHandles$"+Qs;function Un(e){var t=e[Nt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Vt]||n[Nt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=yh(e);e!==null;){if(n=e[Nt])return n;e=yh(e)}return t}e=n,n=e.parentNode}return null}function ki(e){return e=e[Nt]||e[Vt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function vs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(I(33))}function aa(e){return e[Yr]||null}var Xl=[],ys=-1;function Nn(e){return{current:e}}function te(e){0>ys||(e.current=Xl[ys],Xl[ys]=null,ys--)}function X(e,t){ys++,Xl[ys]=e.current,e.current=t}var jn={},Ie=Nn(jn),qe=Nn(!1),Kn=jn;function Ms(e,t){var n=e.type.contextTypes;if(!n)return jn;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var r={},i;for(i in n)r[i]=t[i];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r),r}function We(e){return e=e.childContextTypes,e!=null}function Oo(){te(qe),te(Ie)}function xh(e,t,n){if(Ie.current!==jn)throw Error(I(168));X(Ie,t),X(qe,n)}function gg(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var r in s)if(!(r in t))throw Error(I(108,zx(e)||"Unknown",r));return le({},n,s)}function Io(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||jn,Kn=Ie.current,X(Ie,e),X(qe,qe.current),!0}function wh(e,t,n){var s=e.stateNode;if(!s)throw Error(I(169));n?(e=gg(e,t,Kn),s.__reactInternalMemoizedMergedChildContext=e,te(qe),te(Ie),X(Ie,e)):te(qe),X(qe,n)}var Mt=null,la=!1,Ya=!1;function vg(e){Mt===null?Mt=[e]:Mt.push(e)}function r1(e){la=!0,vg(e)}function Cn(){if(!Ya&&Mt!==null){Ya=!0;var e=0,t=Y;try{var n=Mt;for(Y=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}Mt=null,la=!1}catch(r){throw Mt!==null&&(Mt=Mt.slice(e+1)),Vp(uu,Cn),r}finally{Y=t,Ya=!1}}return null}var xs=[],ws=0,Lo=null,Do=0,rt=[],it=0,Jn=null,$t=1,Ut="";function In(e,t){xs[ws++]=Do,xs[ws++]=Lo,Lo=e,Do=t}function yg(e,t,n){rt[it++]=$t,rt[it++]=Ut,rt[it++]=Jn,Jn=e;var s=$t;e=Ut;var r=32-wt(s)-1;s&=~(1<<r),n+=1;var i=32-wt(t)+r;if(30<i){var o=r-r%5;i=(s&(1<<o)-1).toString(32),s>>=o,r-=o,$t=1<<32-wt(t)+r|n<<r|s,Ut=i+e}else $t=1<<i|n<<r|s,Ut=e}function xu(e){e.return!==null&&(In(e,1),yg(e,1,0))}function wu(e){for(;e===Lo;)Lo=xs[--ws],xs[ws]=null,Do=xs[--ws],xs[ws]=null;for(;e===Jn;)Jn=rt[--it],rt[it]=null,Ut=rt[--it],rt[it]=null,$t=rt[--it],rt[it]=null}var Xe=null,Qe=null,ne=!1,xt=null;function xg(e,t){var n=at(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function bh(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Xe=e,Qe=pn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Xe=e,Qe=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Jn!==null?{id:$t,overflow:Ut}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=at(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Xe=e,Qe=null,!0):!1;default:return!1}}function Zl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ec(e){if(ne){var t=Qe;if(t){var n=t;if(!bh(e,t)){if(Zl(e))throw Error(I(418));t=pn(n.nextSibling);var s=Xe;t&&bh(e,t)?xg(s,n):(e.flags=e.flags&-4097|2,ne=!1,Xe=e)}}else{if(Zl(e))throw Error(I(418));e.flags=e.flags&-4097|2,ne=!1,Xe=e}}}function Sh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Xe=e}function Wi(e){if(e!==Xe)return!1;if(!ne)return Sh(e),ne=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Jl(e.type,e.memoizedProps)),t&&(t=Qe)){if(Zl(e))throw wg(),Error(I(418));for(;t;)xg(e,t),t=pn(t.nextSibling)}if(Sh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(I(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Qe=pn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Qe=null}}else Qe=Xe?pn(e.stateNode.nextSibling):null;return!0}function wg(){for(var e=Qe;e;)e=pn(e.nextSibling)}function $s(){Qe=Xe=null,ne=!1}function bu(e){xt===null?xt=[e]:xt.push(e)}var i1=Kt.ReactCurrentBatchConfig;function ur(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(I(309));var s=n.stateNode}if(!s)throw Error(I(147,e));var r=s,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=r.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(I(284));if(!n._owner)throw Error(I(290,e))}return e}function Gi(e,t){throw e=Object.prototype.toString.call(t),Error(I(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function jh(e){var t=e._init;return t(e._payload)}function bg(e){function t(g,v){if(e){var w=g.deletions;w===null?(g.deletions=[v],g.flags|=16):w.push(v)}}function n(g,v){if(!e)return null;for(;v!==null;)t(g,v),v=v.sibling;return null}function s(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function r(g,v){return g=xn(g,v),g.index=0,g.sibling=null,g}function i(g,v,w){return g.index=w,e?(w=g.alternate,w!==null?(w=w.index,w<v?(g.flags|=2,v):w):(g.flags|=2,v)):(g.flags|=1048576,v)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,v,w,S){return v===null||v.tag!==6?(v=sl(w,g.mode,S),v.return=g,v):(v=r(v,w),v.return=g,v)}function c(g,v,w,S){var j=w.type;return j===fs?d(g,v,w.props.children,S,w.key):v!==null&&(v.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===tn&&jh(j)===v.type)?(S=r(v,w.props),S.ref=ur(g,v,w),S.return=g,S):(S=yo(w.type,w.key,w.props,null,g.mode,S),S.ref=ur(g,v,w),S.return=g,S)}function u(g,v,w,S){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=rl(w,g.mode,S),v.return=g,v):(v=r(v,w.children||[]),v.return=g,v)}function d(g,v,w,S,j){return v===null||v.tag!==7?(v=qn(w,g.mode,S,j),v.return=g,v):(v=r(v,w),v.return=g,v)}function h(g,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return v=sl(""+v,g.mode,w),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Di:return w=yo(v.type,v.key,v.props,null,g.mode,w),w.ref=ur(g,null,v),w.return=g,w;case hs:return v=rl(v,g.mode,w),v.return=g,v;case tn:var S=v._init;return h(g,S(v._payload),w)}if(vr(v)||ir(v))return v=qn(v,g.mode,w,null),v.return=g,v;Gi(g,v)}return null}function f(g,v,w,S){var j=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return j!==null?null:l(g,v,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Di:return w.key===j?c(g,v,w,S):null;case hs:return w.key===j?u(g,v,w,S):null;case tn:return j=w._init,f(g,v,j(w._payload),S)}if(vr(w)||ir(w))return j!==null?null:d(g,v,w,S,null);Gi(g,w)}return null}function m(g,v,w,S,j){if(typeof S=="string"&&S!==""||typeof S=="number")return g=g.get(w)||null,l(v,g,""+S,j);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Di:return g=g.get(S.key===null?w:S.key)||null,c(v,g,S,j);case hs:return g=g.get(S.key===null?w:S.key)||null,u(v,g,S,j);case tn:var C=S._init;return m(g,v,w,C(S._payload),j)}if(vr(S)||ir(S))return g=g.get(w)||null,d(v,g,S,j,null);Gi(v,S)}return null}function p(g,v,w,S){for(var j=null,C=null,k=v,_=v=0,R=null;k!==null&&_<w.length;_++){k.index>_?(R=k,k=null):R=k.sibling;var O=f(g,k,w[_],S);if(O===null){k===null&&(k=R);break}e&&k&&O.alternate===null&&t(g,k),v=i(O,v,_),C===null?j=O:C.sibling=O,C=O,k=R}if(_===w.length)return n(g,k),ne&&In(g,_),j;if(k===null){for(;_<w.length;_++)k=h(g,w[_],S),k!==null&&(v=i(k,v,_),C===null?j=k:C.sibling=k,C=k);return ne&&In(g,_),j}for(k=s(g,k);_<w.length;_++)R=m(k,g,_,w[_],S),R!==null&&(e&&R.alternate!==null&&k.delete(R.key===null?_:R.key),v=i(R,v,_),C===null?j=R:C.sibling=R,C=R);return e&&k.forEach(function(N){return t(g,N)}),ne&&In(g,_),j}function x(g,v,w,S){var j=ir(w);if(typeof j!="function")throw Error(I(150));if(w=j.call(w),w==null)throw Error(I(151));for(var C=j=null,k=v,_=v=0,R=null,O=w.next();k!==null&&!O.done;_++,O=w.next()){k.index>_?(R=k,k=null):R=k.sibling;var N=f(g,k,O.value,S);if(N===null){k===null&&(k=R);break}e&&k&&N.alternate===null&&t(g,k),v=i(N,v,_),C===null?j=N:C.sibling=N,C=N,k=R}if(O.done)return n(g,k),ne&&In(g,_),j;if(k===null){for(;!O.done;_++,O=w.next())O=h(g,O.value,S),O!==null&&(v=i(O,v,_),C===null?j=O:C.sibling=O,C=O);return ne&&In(g,_),j}for(k=s(g,k);!O.done;_++,O=w.next())O=m(k,g,_,O.value,S),O!==null&&(e&&O.alternate!==null&&k.delete(O.key===null?_:O.key),v=i(O,v,_),C===null?j=O:C.sibling=O,C=O);return e&&k.forEach(function($){return t(g,$)}),ne&&In(g,_),j}function b(g,v,w,S){if(typeof w=="object"&&w!==null&&w.type===fs&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Di:e:{for(var j=w.key,C=v;C!==null;){if(C.key===j){if(j=w.type,j===fs){if(C.tag===7){n(g,C.sibling),v=r(C,w.props.children),v.return=g,g=v;break e}}else if(C.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===tn&&jh(j)===C.type){n(g,C.sibling),v=r(C,w.props),v.ref=ur(g,C,w),v.return=g,g=v;break e}n(g,C);break}else t(g,C);C=C.sibling}w.type===fs?(v=qn(w.props.children,g.mode,S,w.key),v.return=g,g=v):(S=yo(w.type,w.key,w.props,null,g.mode,S),S.ref=ur(g,v,w),S.return=g,g=S)}return o(g);case hs:e:{for(C=w.key;v!==null;){if(v.key===C)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){n(g,v.sibling),v=r(v,w.children||[]),v.return=g,g=v;break e}else{n(g,v);break}else t(g,v);v=v.sibling}v=rl(w,g.mode,S),v.return=g,g=v}return o(g);case tn:return C=w._init,b(g,v,C(w._payload),S)}if(vr(w))return p(g,v,w,S);if(ir(w))return x(g,v,w,S);Gi(g,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,v!==null&&v.tag===6?(n(g,v.sibling),v=r(v,w),v.return=g,g=v):(n(g,v),v=sl(w,g.mode,S),v.return=g,g=v),o(g)):n(g,v)}return b}var Us=bg(!0),Sg=bg(!1),Mo=Nn(null),$o=null,bs=null,Su=null;function ju(){Su=bs=$o=null}function ku(e){var t=Mo.current;te(Mo),e._currentValue=t}function tc(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function Os(e,t){$o=e,Su=bs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Be=!0),e.firstContext=null)}function dt(e){var t=e._currentValue;if(Su!==e)if(e={context:e,memoizedValue:t,next:null},bs===null){if($o===null)throw Error(I(308));bs=e,$o.dependencies={lanes:0,firstContext:e}}else bs=bs.next=e;return t}var Fn=null;function _u(e){Fn===null?Fn=[e]:Fn.push(e)}function jg(e,t,n,s){var r=t.interleaved;return r===null?(n.next=n,_u(t)):(n.next=r.next,r.next=n),t.interleaved=n,Bt(e,s)}function Bt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var nn=!1;function Eu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function kg(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ft(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function gn(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,J&2){var r=s.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),s.pending=t,Bt(e,n)}return r=s.interleaved,r===null?(t.next=t,_u(s)):(t.next=r.next,r.next=t),s.interleaved=t,Bt(e,n)}function ho(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,du(e,n)}}function kh(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var r=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?r=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?r=i=t:i=i.next=t}else r=i=t;n={baseState:s.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Uo(e,t,n,s){var r=e.updateQueue;nn=!1;var i=r.firstBaseUpdate,o=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=r.baseState;o=0,d=u=c=null,l=i;do{var f=l.lane,m=l.eventTime;if((s&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=e,x=l;switch(f=t,m=n,x.tag){case 1:if(p=x.payload,typeof p=="function"){h=p.call(m,h,f);break e}h=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=x.payload,f=typeof p=="function"?p.call(m,h,f):p,f==null)break e;h=le({},h,f);break e;case 2:nn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=r.effects,f===null?r.effects=[l]:f.push(l))}else m={eventTime:m,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=h):d=d.next=m,o|=f;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;f=l,l=f.next,f.next=null,r.lastBaseUpdate=f,r.shared.pending=null}}while(!0);if(d===null&&(c=h),r.baseState=c,r.firstBaseUpdate=u,r.lastBaseUpdate=d,t=r.shared.interleaved,t!==null){r=t;do o|=r.lane,r=r.next;while(r!==t)}else i===null&&(r.shared.lanes=0);Qn|=o,e.lanes=o,e.memoizedState=h}}function _h(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],r=s.callback;if(r!==null){if(s.callback=null,s=n,typeof r!="function")throw Error(I(191,r));r.call(s)}}}var _i={},Tt=Nn(_i),Qr=Nn(_i),Xr=Nn(_i);function zn(e){if(e===_i)throw Error(I(174));return e}function Nu(e,t){switch(X(Xr,t),X(Qr,e),X(Tt,_i),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ll(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ll(t,e)}te(Tt),X(Tt,t)}function Fs(){te(Tt),te(Qr),te(Xr)}function _g(e){zn(Xr.current);var t=zn(Tt.current),n=Ll(t,e.type);t!==n&&(X(Qr,e),X(Tt,n))}function Cu(e){Qr.current===e&&(te(Tt),te(Qr))}var se=Nn(0);function Fo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Qa=[];function Tu(){for(var e=0;e<Qa.length;e++)Qa[e]._workInProgressVersionPrimary=null;Qa.length=0}var fo=Kt.ReactCurrentDispatcher,Xa=Kt.ReactCurrentBatchConfig,Yn=0,ie=null,me=null,ye=null,zo=!1,Nr=!1,Zr=0,o1=0;function _e(){throw Error(I(321))}function Pu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!St(e[n],t[n]))return!1;return!0}function Au(e,t,n,s,r,i){if(Yn=i,ie=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=e===null||e.memoizedState===null?u1:d1,e=n(s,r),Nr){i=0;do{if(Nr=!1,Zr=0,25<=i)throw Error(I(301));i+=1,ye=me=null,t.updateQueue=null,fo.current=h1,e=n(s,r)}while(Nr)}if(fo.current=Vo,t=me!==null&&me.next!==null,Yn=0,ye=me=ie=null,zo=!1,t)throw Error(I(300));return e}function Ru(){var e=Zr!==0;return Zr=0,e}function Et(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ye===null?ie.memoizedState=ye=e:ye=ye.next=e,ye}function ht(){if(me===null){var e=ie.alternate;e=e!==null?e.memoizedState:null}else e=me.next;var t=ye===null?ie.memoizedState:ye.next;if(t!==null)ye=t,me=e;else{if(e===null)throw Error(I(310));me=e,e={memoizedState:me.memoizedState,baseState:me.baseState,baseQueue:me.baseQueue,queue:me.queue,next:null},ye===null?ie.memoizedState=ye=e:ye=ye.next=e}return ye}function ei(e,t){return typeof t=="function"?t(e):t}function Za(e){var t=ht(),n=t.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=e;var s=me,r=s.baseQueue,i=n.pending;if(i!==null){if(r!==null){var o=r.next;r.next=i.next,i.next=o}s.baseQueue=r=i,n.pending=null}if(r!==null){i=r.next,s=s.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((Yn&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:e(s,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,o=s):c=c.next=h,ie.lanes|=d,Qn|=d}u=u.next}while(u!==null&&u!==i);c===null?o=s:c.next=l,St(s,t.memoizedState)||(Be=!0),t.memoizedState=s,t.baseState=o,t.baseQueue=c,n.lastRenderedState=s}if(e=n.interleaved,e!==null){r=e;do i=r.lane,ie.lanes|=i,Qn|=i,r=r.next;while(r!==e)}else r===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function el(e){var t=ht(),n=t.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=e;var s=n.dispatch,r=n.pending,i=t.memoizedState;if(r!==null){n.pending=null;var o=r=r.next;do i=e(i,o.action),o=o.next;while(o!==r);St(i,t.memoizedState)||(Be=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,s]}function Eg(){}function Ng(e,t){var n=ie,s=ht(),r=t(),i=!St(s.memoizedState,r);if(i&&(s.memoizedState=r,Be=!0),s=s.queue,Ou(Pg.bind(null,n,s,e),[e]),s.getSnapshot!==t||i||ye!==null&&ye.memoizedState.tag&1){if(n.flags|=2048,ti(9,Tg.bind(null,n,s,r,t),void 0,null),xe===null)throw Error(I(349));Yn&30||Cg(n,t,r)}return r}function Cg(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ie.updateQueue,t===null?(t={lastEffect:null,stores:null},ie.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Tg(e,t,n,s){t.value=n,t.getSnapshot=s,Ag(t)&&Rg(e)}function Pg(e,t,n){return n(function(){Ag(t)&&Rg(e)})}function Ag(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!St(e,n)}catch{return!0}}function Rg(e){var t=Bt(e,1);t!==null&&bt(t,e,1,-1)}function Eh(e){var t=Et();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:e},t.queue=e,e=e.dispatch=c1.bind(null,ie,e),[t.memoizedState,e]}function ti(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=ie.updateQueue,t===null?(t={lastEffect:null,stores:null},ie.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function Og(){return ht().memoizedState}function mo(e,t,n,s){var r=Et();ie.flags|=e,r.memoizedState=ti(1|t,n,void 0,s===void 0?null:s)}function ca(e,t,n,s){var r=ht();s=s===void 0?null:s;var i=void 0;if(me!==null){var o=me.memoizedState;if(i=o.destroy,s!==null&&Pu(s,o.deps)){r.memoizedState=ti(t,n,i,s);return}}ie.flags|=e,r.memoizedState=ti(1|t,n,i,s)}function Nh(e,t){return mo(8390656,8,e,t)}function Ou(e,t){return ca(2048,8,e,t)}function Ig(e,t){return ca(4,2,e,t)}function Lg(e,t){return ca(4,4,e,t)}function Dg(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Mg(e,t,n){return n=n!=null?n.concat([e]):null,ca(4,4,Dg.bind(null,t,e),n)}function Iu(){}function $g(e,t){var n=ht();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&Pu(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function Ug(e,t){var n=ht();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&Pu(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function Fg(e,t,n){return Yn&21?(St(n,t)||(n=qp(),ie.lanes|=n,Qn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Be=!0),e.memoizedState=n)}function a1(e,t){var n=Y;Y=n!==0&&4>n?n:4,e(!0);var s=Xa.transition;Xa.transition={};try{e(!1),t()}finally{Y=n,Xa.transition=s}}function zg(){return ht().memoizedState}function l1(e,t,n){var s=yn(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},Vg(e))Bg(t,n);else if(n=jg(e,t,n,s),n!==null){var r=Me();bt(n,e,s,r),Hg(n,t,s)}}function c1(e,t,n){var s=yn(e),r={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(Vg(e))Bg(t,r);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,n);if(r.hasEagerState=!0,r.eagerState=l,St(l,o)){var c=t.interleaved;c===null?(r.next=r,_u(t)):(r.next=c.next,c.next=r),t.interleaved=r;return}}catch{}finally{}n=jg(e,t,r,s),n!==null&&(r=Me(),bt(n,e,s,r),Hg(n,t,s))}}function Vg(e){var t=e.alternate;return e===ie||t!==null&&t===ie}function Bg(e,t){Nr=zo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Hg(e,t,n){if(n&4194240){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,du(e,n)}}var Vo={readContext:dt,useCallback:_e,useContext:_e,useEffect:_e,useImperativeHandle:_e,useInsertionEffect:_e,useLayoutEffect:_e,useMemo:_e,useReducer:_e,useRef:_e,useState:_e,useDebugValue:_e,useDeferredValue:_e,useTransition:_e,useMutableSource:_e,useSyncExternalStore:_e,useId:_e,unstable_isNewReconciler:!1},u1={readContext:dt,useCallback:function(e,t){return Et().memoizedState=[e,t===void 0?null:t],e},useContext:dt,useEffect:Nh,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,mo(4194308,4,Dg.bind(null,t,e),n)},useLayoutEffect:function(e,t){return mo(4194308,4,e,t)},useInsertionEffect:function(e,t){return mo(4,2,e,t)},useMemo:function(e,t){var n=Et();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=Et();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=l1.bind(null,ie,e),[s.memoizedState,e]},useRef:function(e){var t=Et();return e={current:e},t.memoizedState=e},useState:Eh,useDebugValue:Iu,useDeferredValue:function(e){return Et().memoizedState=e},useTransition:function(){var e=Eh(!1),t=e[0];return e=a1.bind(null,e[1]),Et().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=ie,r=Et();if(ne){if(n===void 0)throw Error(I(407));n=n()}else{if(n=t(),xe===null)throw Error(I(349));Yn&30||Cg(s,t,n)}r.memoizedState=n;var i={value:n,getSnapshot:t};return r.queue=i,Nh(Pg.bind(null,s,i,e),[e]),s.flags|=2048,ti(9,Tg.bind(null,s,i,n,t),void 0,null),n},useId:function(){var e=Et(),t=xe.identifierPrefix;if(ne){var n=Ut,s=$t;n=(s&~(1<<32-wt(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=Zr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=o1++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},d1={readContext:dt,useCallback:$g,useContext:dt,useEffect:Ou,useImperativeHandle:Mg,useInsertionEffect:Ig,useLayoutEffect:Lg,useMemo:Ug,useReducer:Za,useRef:Og,useState:function(){return Za(ei)},useDebugValue:Iu,useDeferredValue:function(e){var t=ht();return Fg(t,me.memoizedState,e)},useTransition:function(){var e=Za(ei)[0],t=ht().memoizedState;return[e,t]},useMutableSource:Eg,useSyncExternalStore:Ng,useId:zg,unstable_isNewReconciler:!1},h1={readContext:dt,useCallback:$g,useContext:dt,useEffect:Ou,useImperativeHandle:Mg,useInsertionEffect:Ig,useLayoutEffect:Lg,useMemo:Ug,useReducer:el,useRef:Og,useState:function(){return el(ei)},useDebugValue:Iu,useDeferredValue:function(e){var t=ht();return me===null?t.memoizedState=e:Fg(t,me.memoizedState,e)},useTransition:function(){var e=el(ei)[0],t=ht().memoizedState;return[e,t]},useMutableSource:Eg,useSyncExternalStore:Ng,useId:zg,unstable_isNewReconciler:!1};function gt(e,t){if(e&&e.defaultProps){t=le({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function nc(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:le({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ua={isMounted:function(e){return(e=e._reactInternals)?ts(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=Me(),r=yn(e),i=Ft(s,r);i.payload=t,n!=null&&(i.callback=n),t=gn(e,i,r),t!==null&&(bt(t,e,r,s),ho(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=Me(),r=yn(e),i=Ft(s,r);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=gn(e,i,r),t!==null&&(bt(t,e,r,s),ho(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Me(),s=yn(e),r=Ft(n,s);r.tag=2,t!=null&&(r.callback=t),t=gn(e,r,s),t!==null&&(bt(t,e,s,n),ho(t,e,s))}};function Ch(e,t,n,s,r,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,i,o):t.prototype&&t.prototype.isPureReactComponent?!Gr(n,s)||!Gr(r,i):!0}function qg(e,t,n){var s=!1,r=jn,i=t.contextType;return typeof i=="object"&&i!==null?i=dt(i):(r=We(t)?Kn:Ie.current,s=t.contextTypes,i=(s=s!=null)?Ms(e,r):jn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ua,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=i),t}function Th(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&ua.enqueueReplaceState(t,t.state,null)}function sc(e,t,n,s){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs={},Eu(e);var i=t.contextType;typeof i=="object"&&i!==null?r.context=dt(i):(i=We(t)?Kn:Ie.current,r.context=Ms(e,i)),r.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(nc(e,t,i,n),r.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(t=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),t!==r.state&&ua.enqueueReplaceState(r,r.state,null),Uo(e,n,r,s),r.state=e.memoizedState),typeof r.componentDidMount=="function"&&(e.flags|=4194308)}function zs(e,t){try{var n="",s=t;do n+=Fx(s),s=s.return;while(s);var r=n}catch(i){r=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:r,digest:null}}function tl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function rc(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var f1=typeof WeakMap=="function"?WeakMap:Map;function Wg(e,t,n){n=Ft(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){Ho||(Ho=!0,mc=s),rc(e,t)},n}function Gg(e,t,n){n=Ft(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var r=t.value;n.payload=function(){return s(r)},n.callback=function(){rc(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){rc(e,t),typeof s!="function"&&(vn===null?vn=new Set([this]):vn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Ph(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new f1;var r=new Set;s.set(t,r)}else r=s.get(t),r===void 0&&(r=new Set,s.set(t,r));r.has(n)||(r.add(n),e=N1.bind(null,e,t,n),t.then(e,e))}function Ah(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Rh(e,t,n,s,r){return e.mode&1?(e.flags|=65536,e.lanes=r,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ft(-1,1),t.tag=2,gn(n,t,1))),n.lanes|=1),e)}var m1=Kt.ReactCurrentOwner,Be=!1;function Le(e,t,n,s){t.child=e===null?Sg(t,null,n,s):Us(t,e.child,n,s)}function Oh(e,t,n,s,r){n=n.render;var i=t.ref;return Os(t,r),s=Au(e,t,n,s,i,r),n=Ru(),e!==null&&!Be?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Ht(e,t,r)):(ne&&n&&xu(t),t.flags|=1,Le(e,t,s,r),t.child)}function Ih(e,t,n,s,r){if(e===null){var i=n.type;return typeof i=="function"&&!Vu(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Kg(e,t,i,s,r)):(e=yo(n.type,null,s,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&r)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Gr,n(o,s)&&e.ref===t.ref)return Ht(e,t,r)}return t.flags|=1,e=xn(i,s),e.ref=t.ref,e.return=t,t.child=e}function Kg(e,t,n,s,r){if(e!==null){var i=e.memoizedProps;if(Gr(i,s)&&e.ref===t.ref)if(Be=!1,t.pendingProps=s=i,(e.lanes&r)!==0)e.flags&131072&&(Be=!0);else return t.lanes=e.lanes,Ht(e,t,r)}return ic(e,t,n,s,r)}function Jg(e,t,n){var s=t.pendingProps,r=s.children,i=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},X(js,Ye),Ye|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,X(js,Ye),Ye|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:n,X(js,Ye),Ye|=s}else i!==null?(s=i.baseLanes|n,t.memoizedState=null):s=n,X(js,Ye),Ye|=s;return Le(e,t,r,n),t.child}function Yg(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ic(e,t,n,s,r){var i=We(n)?Kn:Ie.current;return i=Ms(t,i),Os(t,r),n=Au(e,t,n,s,i,r),s=Ru(),e!==null&&!Be?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Ht(e,t,r)):(ne&&s&&xu(t),t.flags|=1,Le(e,t,n,r),t.child)}function Lh(e,t,n,s,r){if(We(n)){var i=!0;Io(t)}else i=!1;if(Os(t,r),t.stateNode===null)po(e,t),qg(t,n,s),sc(t,n,s,r),s=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=dt(u):(u=We(n)?Kn:Ie.current,u=Ms(t,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==s||c!==u)&&Th(t,o,s,u),nn=!1;var f=t.memoizedState;o.state=f,Uo(t,s,o,r),c=t.memoizedState,l!==s||f!==c||qe.current||nn?(typeof d=="function"&&(nc(t,n,d,s),c=t.memoizedState),(l=nn||Ch(t,n,l,s,f,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),o.props=s,o.state=c,o.context=u,s=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{o=t.stateNode,kg(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:gt(t.type,l),o.props=u,h=t.pendingProps,f=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=dt(c):(c=We(n)?Kn:Ie.current,c=Ms(t,c));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&Th(t,o,s,c),nn=!1,f=t.memoizedState,o.state=f,Uo(t,s,o,r);var p=t.memoizedState;l!==h||f!==p||qe.current||nn?(typeof m=="function"&&(nc(t,n,m,s),p=t.memoizedState),(u=nn||Ch(t,n,u,s,f,p,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,p,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,p,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=p),o.props=s,o.state=p,o.context=c,s=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),s=!1)}return oc(e,t,n,s,i,r)}function oc(e,t,n,s,r,i){Yg(e,t);var o=(t.flags&128)!==0;if(!s&&!o)return r&&wh(t,n,!1),Ht(e,t,i);s=t.stateNode,m1.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&o?(t.child=Us(t,e.child,null,i),t.child=Us(t,null,l,i)):Le(e,t,l,i),t.memoizedState=s.state,r&&wh(t,n,!0),t.child}function Qg(e){var t=e.stateNode;t.pendingContext?xh(e,t.pendingContext,t.pendingContext!==t.context):t.context&&xh(e,t.context,!1),Nu(e,t.containerInfo)}function Dh(e,t,n,s,r){return $s(),bu(r),t.flags|=256,Le(e,t,n,s),t.child}var ac={dehydrated:null,treeContext:null,retryLane:0};function lc(e){return{baseLanes:e,cachePool:null,transitions:null}}function Xg(e,t,n){var s=t.pendingProps,r=se.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(r&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(r|=1),X(se,r&1),e===null)return ec(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=s.children,e=s.fallback,i?(s=t.mode,i=t.child,o={mode:"hidden",children:o},!(s&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=fa(o,s,0,null),e=qn(e,s,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=lc(n),t.memoizedState=ac,e):Lu(t,o));if(r=e.memoizedState,r!==null&&(l=r.dehydrated,l!==null))return p1(e,t,o,s,l,r,n);if(i){i=s.fallback,o=t.mode,r=e.child,l=r.sibling;var c={mode:"hidden",children:s.children};return!(o&1)&&t.child!==r?(s=t.child,s.childLanes=0,s.pendingProps=c,t.deletions=null):(s=xn(r,c),s.subtreeFlags=r.subtreeFlags&14680064),l!==null?i=xn(l,i):(i=qn(i,o,n,null),i.flags|=2),i.return=t,s.return=t,s.sibling=i,t.child=s,s=i,i=t.child,o=e.child.memoizedState,o=o===null?lc(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=ac,s}return i=e.child,e=i.sibling,s=xn(i,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function Lu(e,t){return t=fa({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ki(e,t,n,s){return s!==null&&bu(s),Us(t,e.child,null,n),e=Lu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function p1(e,t,n,s,r,i,o){if(n)return t.flags&256?(t.flags&=-257,s=tl(Error(I(422))),Ki(e,t,o,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=s.fallback,r=t.mode,s=fa({mode:"visible",children:s.children},r,0,null),i=qn(i,r,o,null),i.flags|=2,s.return=t,i.return=t,s.sibling=i,t.child=s,t.mode&1&&Us(t,e.child,null,o),t.child.memoizedState=lc(o),t.memoizedState=ac,i);if(!(t.mode&1))return Ki(e,t,o,null);if(r.data==="$!"){if(s=r.nextSibling&&r.nextSibling.dataset,s)var l=s.dgst;return s=l,i=Error(I(419)),s=tl(i,s,void 0),Ki(e,t,o,s)}if(l=(o&e.childLanes)!==0,Be||l){if(s=xe,s!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(s.suspendedLanes|o)?0:r,r!==0&&r!==i.retryLane&&(i.retryLane=r,Bt(e,r),bt(s,e,r,-1))}return zu(),s=tl(Error(I(421))),Ki(e,t,o,s)}return r.data==="$?"?(t.flags|=128,t.child=e.child,t=C1.bind(null,e),r._reactRetry=t,null):(e=i.treeContext,Qe=pn(r.nextSibling),Xe=t,ne=!0,xt=null,e!==null&&(rt[it++]=$t,rt[it++]=Ut,rt[it++]=Jn,$t=e.id,Ut=e.overflow,Jn=t),t=Lu(t,s.children),t.flags|=4096,t)}function Mh(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),tc(e.return,t,n)}function nl(e,t,n,s,r){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:r}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=n,i.tailMode=r)}function Zg(e,t,n){var s=t.pendingProps,r=s.revealOrder,i=s.tail;if(Le(e,t,s.children,n),s=se.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Mh(e,n,t);else if(e.tag===19)Mh(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(X(se,s),!(t.mode&1))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&Fo(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),nl(t,!1,r,n,i);break;case"backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&Fo(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}nl(t,!0,n,null,i);break;case"together":nl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function po(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ht(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Qn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(I(153));if(t.child!==null){for(e=t.child,n=xn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=xn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function g1(e,t,n){switch(t.tag){case 3:Qg(t),$s();break;case 5:_g(t);break;case 1:We(t.type)&&Io(t);break;case 4:Nu(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,r=t.memoizedProps.value;X(Mo,s._currentValue),s._currentValue=r;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(X(se,se.current&1),t.flags|=128,null):n&t.child.childLanes?Xg(e,t,n):(X(se,se.current&1),e=Ht(e,t,n),e!==null?e.sibling:null);X(se,se.current&1);break;case 19:if(s=(n&t.childLanes)!==0,e.flags&128){if(s)return Zg(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),X(se,se.current),s)break;return null;case 22:case 23:return t.lanes=0,Jg(e,t,n)}return Ht(e,t,n)}var e0,cc,t0,n0;e0=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};cc=function(){};t0=function(e,t,n,s){var r=e.memoizedProps;if(r!==s){e=t.stateNode,zn(Tt.current);var i=null;switch(n){case"input":r=Al(e,r),s=Al(e,s),i=[];break;case"select":r=le({},r,{value:void 0}),s=le({},s,{value:void 0}),i=[];break;case"textarea":r=Il(e,r),s=Il(e,s),i=[];break;default:typeof r.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Ro)}Dl(n,s);var o;n=null;for(u in r)if(!s.hasOwnProperty(u)&&r.hasOwnProperty(u)&&r[u]!=null)if(u==="style"){var l=r[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Fr.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in s){var c=s[u];if(l=r!=null?r[u]:void 0,s.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Fr.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ee("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};n0=function(e,t,n,s){n!==s&&(t.flags|=4)};function dr(e,t){if(!ne)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Ee(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags&14680064,s|=r.flags&14680064,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags,s|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function v1(e,t,n){var s=t.pendingProps;switch(wu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ee(t),null;case 1:return We(t.type)&&Oo(),Ee(t),null;case 3:return s=t.stateNode,Fs(),te(qe),te(Ie),Tu(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Wi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,xt!==null&&(vc(xt),xt=null))),cc(e,t),Ee(t),null;case 5:Cu(t);var r=zn(Xr.current);if(n=t.type,e!==null&&t.stateNode!=null)t0(e,t,n,s,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(I(166));return Ee(t),null}if(e=zn(Tt.current),Wi(t)){s=t.stateNode,n=t.type;var i=t.memoizedProps;switch(s[Nt]=t,s[Yr]=i,e=(t.mode&1)!==0,n){case"dialog":ee("cancel",s),ee("close",s);break;case"iframe":case"object":case"embed":ee("load",s);break;case"video":case"audio":for(r=0;r<xr.length;r++)ee(xr[r],s);break;case"source":ee("error",s);break;case"img":case"image":case"link":ee("error",s),ee("load",s);break;case"details":ee("toggle",s);break;case"input":Wd(s,i),ee("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},ee("invalid",s);break;case"textarea":Kd(s,i),ee("invalid",s)}Dl(n,i),r=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?s.textContent!==l&&(i.suppressHydrationWarning!==!0&&qi(s.textContent,l,e),r=["children",l]):typeof l=="number"&&s.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&qi(s.textContent,l,e),r=["children",""+l]):Fr.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ee("scroll",s)}switch(n){case"input":Mi(s),Gd(s,i,!0);break;case"textarea":Mi(s),Jd(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=Ro)}s=r,t.updateQueue=s,s!==null&&(t.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Pp(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=o.createElement(n,{is:s.is}):(e=o.createElement(n),n==="select"&&(o=e,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):e=o.createElementNS(e,n),e[Nt]=t,e[Yr]=s,e0(e,t,!1,!1),t.stateNode=e;e:{switch(o=Ml(n,s),n){case"dialog":ee("cancel",e),ee("close",e),r=s;break;case"iframe":case"object":case"embed":ee("load",e),r=s;break;case"video":case"audio":for(r=0;r<xr.length;r++)ee(xr[r],e);r=s;break;case"source":ee("error",e),r=s;break;case"img":case"image":case"link":ee("error",e),ee("load",e),r=s;break;case"details":ee("toggle",e),r=s;break;case"input":Wd(e,s),r=Al(e,s),ee("invalid",e);break;case"option":r=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},r=le({},s,{value:void 0}),ee("invalid",e);break;case"textarea":Kd(e,s),r=Il(e,s),ee("invalid",e);break;default:r=s}Dl(n,r),l=r;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?Op(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Ap(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&zr(e,c):typeof c=="number"&&zr(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Fr.hasOwnProperty(i)?c!=null&&i==="onScroll"&&ee("scroll",e):c!=null&&iu(e,i,c,o))}switch(n){case"input":Mi(e),Gd(e,s,!1);break;case"textarea":Mi(e),Jd(e);break;case"option":s.value!=null&&e.setAttribute("value",""+Sn(s.value));break;case"select":e.multiple=!!s.multiple,i=s.value,i!=null?Ts(e,!!s.multiple,i,!1):s.defaultValue!=null&&Ts(e,!!s.multiple,s.defaultValue,!0);break;default:typeof r.onClick=="function"&&(e.onclick=Ro)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ee(t),null;case 6:if(e&&t.stateNode!=null)n0(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(I(166));if(n=zn(Xr.current),zn(Tt.current),Wi(t)){if(s=t.stateNode,n=t.memoizedProps,s[Nt]=t,(i=s.nodeValue!==n)&&(e=Xe,e!==null))switch(e.tag){case 3:qi(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&qi(s.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[Nt]=t,t.stateNode=s}return Ee(t),null;case 13:if(te(se),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ne&&Qe!==null&&t.mode&1&&!(t.flags&128))wg(),$s(),t.flags|=98560,i=!1;else if(i=Wi(t),s!==null&&s.dehydrated!==null){if(e===null){if(!i)throw Error(I(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(I(317));i[Nt]=t}else $s(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ee(t),i=!1}else xt!==null&&(vc(xt),xt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||se.current&1?pe===0&&(pe=3):zu())),t.updateQueue!==null&&(t.flags|=4),Ee(t),null);case 4:return Fs(),cc(e,t),e===null&&Kr(t.stateNode.containerInfo),Ee(t),null;case 10:return ku(t.type._context),Ee(t),null;case 17:return We(t.type)&&Oo(),Ee(t),null;case 19:if(te(se),i=t.memoizedState,i===null)return Ee(t),null;if(s=(t.flags&128)!==0,o=i.rendering,o===null)if(s)dr(i,!1);else{if(pe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Fo(e),o!==null){for(t.flags|=128,dr(i,!1),s=o.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)i=n,e=s,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return X(se,se.current&1|2),t.child}e=e.sibling}i.tail!==null&&he()>Vs&&(t.flags|=128,s=!0,dr(i,!1),t.lanes=4194304)}else{if(!s)if(e=Fo(o),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),dr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ne)return Ee(t),null}else 2*he()-i.renderingStartTime>Vs&&n!==1073741824&&(t.flags|=128,s=!0,dr(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=he(),t.sibling=null,n=se.current,X(se,s?n&1|2:n&1),t):(Ee(t),null);case 22:case 23:return Fu(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?Ye&1073741824&&(Ee(t),t.subtreeFlags&6&&(t.flags|=8192)):Ee(t),null;case 24:return null;case 25:return null}throw Error(I(156,t.tag))}function y1(e,t){switch(wu(t),t.tag){case 1:return We(t.type)&&Oo(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Fs(),te(qe),te(Ie),Tu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Cu(t),null;case 13:if(te(se),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(I(340));$s()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return te(se),null;case 4:return Fs(),null;case 10:return ku(t.type._context),null;case 22:case 23:return Fu(),null;case 24:return null;default:return null}}var Ji=!1,Pe=!1,x1=typeof WeakSet=="function"?WeakSet:Set,F=null;function Ss(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){ue(e,t,s)}else n.current=null}function uc(e,t,n){try{n()}catch(s){ue(e,t,s)}}var $h=!1;function w1(e,t){if(Gl=To,e=ag(),yu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var r=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var m;h!==n||r!==0&&h.nodeType!==3||(l=o+r),h!==i||s!==0&&h.nodeType!==3||(c=o+s),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===e)break t;if(f===n&&++u===r&&(l=o),f===i&&++d===s&&(c=o),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Kl={focusedElem:e,selectionRange:n},To=!1,F=t;F!==null;)if(t=F,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,F=e;else for(;F!==null;){t=F;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var x=p.memoizedProps,b=p.memoizedState,g=t.stateNode,v=g.getSnapshotBeforeUpdate(t.elementType===t.type?x:gt(t.type,x),b);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(I(163))}}catch(S){ue(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,F=e;break}F=t.return}return p=$h,$h=!1,p}function Cr(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var r=s=s.next;do{if((r.tag&e)===e){var i=r.destroy;r.destroy=void 0,i!==void 0&&uc(t,n,i)}r=r.next}while(r!==s)}}function da(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function dc(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function s0(e){var t=e.alternate;t!==null&&(e.alternate=null,s0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Nt],delete t[Yr],delete t[Ql],delete t[n1],delete t[s1])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function r0(e){return e.tag===5||e.tag===3||e.tag===4}function Uh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||r0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function hc(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ro));else if(s!==4&&(e=e.child,e!==null))for(hc(e,t,n),e=e.sibling;e!==null;)hc(e,t,n),e=e.sibling}function fc(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(fc(e,t,n),e=e.sibling;e!==null;)fc(e,t,n),e=e.sibling}var we=null,vt=!1;function Qt(e,t,n){for(n=n.child;n!==null;)i0(e,t,n),n=n.sibling}function i0(e,t,n){if(Ct&&typeof Ct.onCommitFiberUnmount=="function")try{Ct.onCommitFiberUnmount(sa,n)}catch{}switch(n.tag){case 5:Pe||Ss(n,t);case 6:var s=we,r=vt;we=null,Qt(e,t,n),we=s,vt=r,we!==null&&(vt?(e=we,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):we.removeChild(n.stateNode));break;case 18:we!==null&&(vt?(e=we,n=n.stateNode,e.nodeType===8?Ja(e.parentNode,n):e.nodeType===1&&Ja(e,n),qr(e)):Ja(we,n.stateNode));break;case 4:s=we,r=vt,we=n.stateNode.containerInfo,vt=!0,Qt(e,t,n),we=s,vt=r;break;case 0:case 11:case 14:case 15:if(!Pe&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){r=s=s.next;do{var i=r,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&uc(n,t,o),r=r.next}while(r!==s)}Qt(e,t,n);break;case 1:if(!Pe&&(Ss(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(l){ue(n,t,l)}Qt(e,t,n);break;case 21:Qt(e,t,n);break;case 22:n.mode&1?(Pe=(s=Pe)||n.memoizedState!==null,Qt(e,t,n),Pe=s):Qt(e,t,n);break;default:Qt(e,t,n)}}function Fh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new x1),t.forEach(function(s){var r=T1.bind(null,e,s);n.has(s)||(n.add(s),s.then(r,r))})}}function mt(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var r=n[s];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:we=l.stateNode,vt=!1;break e;case 3:we=l.stateNode.containerInfo,vt=!0;break e;case 4:we=l.stateNode.containerInfo,vt=!0;break e}l=l.return}if(we===null)throw Error(I(160));i0(i,o,r),we=null,vt=!1;var c=r.alternate;c!==null&&(c.return=null),r.return=null}catch(u){ue(r,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)o0(t,e),t=t.sibling}function o0(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mt(t,e),kt(e),s&4){try{Cr(3,e,e.return),da(3,e)}catch(x){ue(e,e.return,x)}try{Cr(5,e,e.return)}catch(x){ue(e,e.return,x)}}break;case 1:mt(t,e),kt(e),s&512&&n!==null&&Ss(n,n.return);break;case 5:if(mt(t,e),kt(e),s&512&&n!==null&&Ss(n,n.return),e.flags&32){var r=e.stateNode;try{zr(r,"")}catch(x){ue(e,e.return,x)}}if(s&4&&(r=e.stateNode,r!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Cp(r,i),Ml(l,o);var u=Ml(l,i);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?Op(r,h):d==="dangerouslySetInnerHTML"?Ap(r,h):d==="children"?zr(r,h):iu(r,d,h,u)}switch(l){case"input":Rl(r,i);break;case"textarea":Tp(r,i);break;case"select":var f=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Ts(r,!!i.multiple,m,!1):f!==!!i.multiple&&(i.defaultValue!=null?Ts(r,!!i.multiple,i.defaultValue,!0):Ts(r,!!i.multiple,i.multiple?[]:"",!1))}r[Yr]=i}catch(x){ue(e,e.return,x)}}break;case 6:if(mt(t,e),kt(e),s&4){if(e.stateNode===null)throw Error(I(162));r=e.stateNode,i=e.memoizedProps;try{r.nodeValue=i}catch(x){ue(e,e.return,x)}}break;case 3:if(mt(t,e),kt(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{qr(t.containerInfo)}catch(x){ue(e,e.return,x)}break;case 4:mt(t,e),kt(e);break;case 13:mt(t,e),kt(e),r=e.child,r.flags&8192&&(i=r.memoizedState!==null,r.stateNode.isHidden=i,!i||r.alternate!==null&&r.alternate.memoizedState!==null||($u=he())),s&4&&Fh(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Pe=(u=Pe)||d,mt(t,e),Pe=u):mt(t,e),kt(e),s&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(F=e,d=e.child;d!==null;){for(h=F=d;F!==null;){switch(f=F,m=f.child,f.tag){case 0:case 11:case 14:case 15:Cr(4,f,f.return);break;case 1:Ss(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){s=f,n=f.return;try{t=s,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(x){ue(s,n,x)}}break;case 5:Ss(f,f.return);break;case 22:if(f.memoizedState!==null){Vh(h);continue}}m!==null?(m.return=f,F=m):Vh(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{r=h.stateNode,u?(i=r.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Rp("display",o))}catch(x){ue(e,e.return,x)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(x){ue(e,e.return,x)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:mt(t,e),kt(e),s&4&&Fh(e);break;case 21:break;default:mt(t,e),kt(e)}}function kt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(r0(n)){var s=n;break e}n=n.return}throw Error(I(160))}switch(s.tag){case 5:var r=s.stateNode;s.flags&32&&(zr(r,""),s.flags&=-33);var i=Uh(e);fc(e,i,r);break;case 3:case 4:var o=s.stateNode.containerInfo,l=Uh(e);hc(e,l,o);break;default:throw Error(I(161))}}catch(c){ue(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function b1(e,t,n){F=e,a0(e)}function a0(e,t,n){for(var s=(e.mode&1)!==0;F!==null;){var r=F,i=r.child;if(r.tag===22&&s){var o=r.memoizedState!==null||Ji;if(!o){var l=r.alternate,c=l!==null&&l.memoizedState!==null||Pe;l=Ji;var u=Pe;if(Ji=o,(Pe=c)&&!u)for(F=r;F!==null;)o=F,c=o.child,o.tag===22&&o.memoizedState!==null?Bh(r):c!==null?(c.return=o,F=c):Bh(r);for(;i!==null;)F=i,a0(i),i=i.sibling;F=r,Ji=l,Pe=u}zh(e)}else r.subtreeFlags&8772&&i!==null?(i.return=r,F=i):zh(e)}}function zh(e){for(;F!==null;){var t=F;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Pe||da(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!Pe)if(n===null)s.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:gt(t.type,n.memoizedProps);s.componentDidUpdate(r,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&_h(t,i,s);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}_h(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&qr(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(I(163))}Pe||t.flags&512&&dc(t)}catch(f){ue(t,t.return,f)}}if(t===e){F=null;break}if(n=t.sibling,n!==null){n.return=t.return,F=n;break}F=t.return}}function Vh(e){for(;F!==null;){var t=F;if(t===e){F=null;break}var n=t.sibling;if(n!==null){n.return=t.return,F=n;break}F=t.return}}function Bh(e){for(;F!==null;){var t=F;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{da(4,t)}catch(c){ue(t,n,c)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var r=t.return;try{s.componentDidMount()}catch(c){ue(t,r,c)}}var i=t.return;try{dc(t)}catch(c){ue(t,i,c)}break;case 5:var o=t.return;try{dc(t)}catch(c){ue(t,o,c)}}}catch(c){ue(t,t.return,c)}if(t===e){F=null;break}var l=t.sibling;if(l!==null){l.return=t.return,F=l;break}F=t.return}}var S1=Math.ceil,Bo=Kt.ReactCurrentDispatcher,Du=Kt.ReactCurrentOwner,lt=Kt.ReactCurrentBatchConfig,J=0,xe=null,fe=null,Se=0,Ye=0,js=Nn(0),pe=0,ni=null,Qn=0,ha=0,Mu=0,Tr=null,ze=null,$u=0,Vs=1/0,Lt=null,Ho=!1,mc=null,vn=null,Yi=!1,un=null,qo=0,Pr=0,pc=null,go=-1,vo=0;function Me(){return J&6?he():go!==-1?go:go=he()}function yn(e){return e.mode&1?J&2&&Se!==0?Se&-Se:i1.transition!==null?(vo===0&&(vo=qp()),vo):(e=Y,e!==0||(e=window.event,e=e===void 0?16:Xp(e.type)),e):1}function bt(e,t,n,s){if(50<Pr)throw Pr=0,pc=null,Error(I(185));Si(e,n,s),(!(J&2)||e!==xe)&&(e===xe&&(!(J&2)&&(ha|=n),pe===4&&an(e,Se)),Ge(e,s),n===1&&J===0&&!(t.mode&1)&&(Vs=he()+500,la&&Cn()))}function Ge(e,t){var n=e.callbackNode;iw(e,t);var s=Co(e,e===xe?Se:0);if(s===0)n!==null&&Xd(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&Xd(n),t===1)e.tag===0?r1(Hh.bind(null,e)):vg(Hh.bind(null,e)),e1(function(){!(J&6)&&Cn()}),n=null;else{switch(Wp(s)){case 1:n=uu;break;case 4:n=Bp;break;case 16:n=No;break;case 536870912:n=Hp;break;default:n=No}n=p0(n,l0.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function l0(e,t){if(go=-1,vo=0,J&6)throw Error(I(327));var n=e.callbackNode;if(Is()&&e.callbackNode!==n)return null;var s=Co(e,e===xe?Se:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=Wo(e,s);else{t=s;var r=J;J|=2;var i=u0();(xe!==e||Se!==t)&&(Lt=null,Vs=he()+500,Hn(e,t));do try{_1();break}catch(l){c0(e,l)}while(!0);ju(),Bo.current=i,J=r,fe!==null?t=0:(xe=null,Se=0,t=pe)}if(t!==0){if(t===2&&(r=Vl(e),r!==0&&(s=r,t=gc(e,r))),t===1)throw n=ni,Hn(e,0),an(e,s),Ge(e,he()),n;if(t===6)an(e,s);else{if(r=e.current.alternate,!(s&30)&&!j1(r)&&(t=Wo(e,s),t===2&&(i=Vl(e),i!==0&&(s=i,t=gc(e,i))),t===1))throw n=ni,Hn(e,0),an(e,s),Ge(e,he()),n;switch(e.finishedWork=r,e.finishedLanes=s,t){case 0:case 1:throw Error(I(345));case 2:Ln(e,ze,Lt);break;case 3:if(an(e,s),(s&130023424)===s&&(t=$u+500-he(),10<t)){if(Co(e,0)!==0)break;if(r=e.suspendedLanes,(r&s)!==s){Me(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=Yl(Ln.bind(null,e,ze,Lt),t);break}Ln(e,ze,Lt);break;case 4:if(an(e,s),(s&4194240)===s)break;for(t=e.eventTimes,r=-1;0<s;){var o=31-wt(s);i=1<<o,o=t[o],o>r&&(r=o),s&=~i}if(s=r,s=he()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*S1(s/1960))-s,10<s){e.timeoutHandle=Yl(Ln.bind(null,e,ze,Lt),s);break}Ln(e,ze,Lt);break;case 5:Ln(e,ze,Lt);break;default:throw Error(I(329))}}}return Ge(e,he()),e.callbackNode===n?l0.bind(null,e):null}function gc(e,t){var n=Tr;return e.current.memoizedState.isDehydrated&&(Hn(e,t).flags|=256),e=Wo(e,t),e!==2&&(t=ze,ze=n,t!==null&&vc(t)),e}function vc(e){ze===null?ze=e:ze.push.apply(ze,e)}function j1(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var r=n[s],i=r.getSnapshot;r=r.value;try{if(!St(i(),r))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function an(e,t){for(t&=~Mu,t&=~ha,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-wt(t),s=1<<n;e[n]=-1,t&=~s}}function Hh(e){if(J&6)throw Error(I(327));Is();var t=Co(e,0);if(!(t&1))return Ge(e,he()),null;var n=Wo(e,t);if(e.tag!==0&&n===2){var s=Vl(e);s!==0&&(t=s,n=gc(e,s))}if(n===1)throw n=ni,Hn(e,0),an(e,t),Ge(e,he()),n;if(n===6)throw Error(I(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ln(e,ze,Lt),Ge(e,he()),null}function Uu(e,t){var n=J;J|=1;try{return e(t)}finally{J=n,J===0&&(Vs=he()+500,la&&Cn())}}function Xn(e){un!==null&&un.tag===0&&!(J&6)&&Is();var t=J;J|=1;var n=lt.transition,s=Y;try{if(lt.transition=null,Y=1,e)return e()}finally{Y=s,lt.transition=n,J=t,!(J&6)&&Cn()}}function Fu(){Ye=js.current,te(js)}function Hn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Zw(n)),fe!==null)for(n=fe.return;n!==null;){var s=n;switch(wu(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Oo();break;case 3:Fs(),te(qe),te(Ie),Tu();break;case 5:Cu(s);break;case 4:Fs();break;case 13:te(se);break;case 19:te(se);break;case 10:ku(s.type._context);break;case 22:case 23:Fu()}n=n.return}if(xe=e,fe=e=xn(e.current,null),Se=Ye=t,pe=0,ni=null,Mu=ha=Qn=0,ze=Tr=null,Fn!==null){for(t=0;t<Fn.length;t++)if(n=Fn[t],s=n.interleaved,s!==null){n.interleaved=null;var r=s.next,i=n.pending;if(i!==null){var o=i.next;i.next=r,s.next=o}n.pending=s}Fn=null}return e}function c0(e,t){do{var n=fe;try{if(ju(),fo.current=Vo,zo){for(var s=ie.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}zo=!1}if(Yn=0,ye=me=ie=null,Nr=!1,Zr=0,Du.current=null,n===null||n.return===null){pe=1,ni=t,fe=null;break}e:{var i=e,o=n.return,l=n,c=t;if(t=Se,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=Ah(o);if(m!==null){m.flags&=-257,Rh(m,o,l,i,t),m.mode&1&&Ph(i,u,t),t=m,c=u;var p=t.updateQueue;if(p===null){var x=new Set;x.add(c),t.updateQueue=x}else p.add(c);break e}else{if(!(t&1)){Ph(i,u,t),zu();break e}c=Error(I(426))}}else if(ne&&l.mode&1){var b=Ah(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Rh(b,o,l,i,t),bu(zs(c,l));break e}}i=c=zs(c,l),pe!==4&&(pe=2),Tr===null?Tr=[i]:Tr.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=Wg(i,c,t);kh(i,g);break e;case 1:l=c;var v=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(vn===null||!vn.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var S=Gg(i,l,t);kh(i,S);break e}}i=i.return}while(i!==null)}h0(n)}catch(j){t=j,fe===n&&n!==null&&(fe=n=n.return);continue}break}while(!0)}function u0(){var e=Bo.current;return Bo.current=Vo,e===null?Vo:e}function zu(){(pe===0||pe===3||pe===2)&&(pe=4),xe===null||!(Qn&268435455)&&!(ha&268435455)||an(xe,Se)}function Wo(e,t){var n=J;J|=2;var s=u0();(xe!==e||Se!==t)&&(Lt=null,Hn(e,t));do try{k1();break}catch(r){c0(e,r)}while(!0);if(ju(),J=n,Bo.current=s,fe!==null)throw Error(I(261));return xe=null,Se=0,pe}function k1(){for(;fe!==null;)d0(fe)}function _1(){for(;fe!==null&&!Yx();)d0(fe)}function d0(e){var t=m0(e.alternate,e,Ye);e.memoizedProps=e.pendingProps,t===null?h0(e):fe=t,Du.current=null}function h0(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=y1(n,t),n!==null){n.flags&=32767,fe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{pe=6,fe=null;return}}else if(n=v1(n,t,Ye),n!==null){fe=n;return}if(t=t.sibling,t!==null){fe=t;return}fe=t=e}while(t!==null);pe===0&&(pe=5)}function Ln(e,t,n){var s=Y,r=lt.transition;try{lt.transition=null,Y=1,E1(e,t,n,s)}finally{lt.transition=r,Y=s}return null}function E1(e,t,n,s){do Is();while(un!==null);if(J&6)throw Error(I(327));n=e.finishedWork;var r=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(I(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(ow(e,i),e===xe&&(fe=xe=null,Se=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Yi||(Yi=!0,p0(No,function(){return Is(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=lt.transition,lt.transition=null;var o=Y;Y=1;var l=J;J|=4,Du.current=null,w1(e,n),o0(n,e),Ww(Kl),To=!!Gl,Kl=Gl=null,e.current=n,b1(n),Qx(),J=l,Y=o,lt.transition=i}else e.current=n;if(Yi&&(Yi=!1,un=e,qo=r),i=e.pendingLanes,i===0&&(vn=null),ew(n.stateNode),Ge(e,he()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],s(r.value,{componentStack:r.stack,digest:r.digest});if(Ho)throw Ho=!1,e=mc,mc=null,e;return qo&1&&e.tag!==0&&Is(),i=e.pendingLanes,i&1?e===pc?Pr++:(Pr=0,pc=e):Pr=0,Cn(),null}function Is(){if(un!==null){var e=Wp(qo),t=lt.transition,n=Y;try{if(lt.transition=null,Y=16>e?16:e,un===null)var s=!1;else{if(e=un,un=null,qo=0,J&6)throw Error(I(331));var r=J;for(J|=4,F=e.current;F!==null;){var i=F,o=i.child;if(F.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(F=u;F!==null;){var d=F;switch(d.tag){case 0:case 11:case 15:Cr(8,d,i)}var h=d.child;if(h!==null)h.return=d,F=h;else for(;F!==null;){d=F;var f=d.sibling,m=d.return;if(s0(d),d===u){F=null;break}if(f!==null){f.return=m,F=f;break}F=m}}}var p=i.alternate;if(p!==null){var x=p.child;if(x!==null){p.child=null;do{var b=x.sibling;x.sibling=null,x=b}while(x!==null)}}F=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,F=o;else e:for(;F!==null;){if(i=F,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Cr(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,F=g;break e}F=i.return}}var v=e.current;for(F=v;F!==null;){o=F;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,F=w;else e:for(o=v;F!==null;){if(l=F,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:da(9,l)}}catch(j){ue(l,l.return,j)}if(l===o){F=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,F=S;break e}F=l.return}}if(J=r,Cn(),Ct&&typeof Ct.onPostCommitFiberRoot=="function")try{Ct.onPostCommitFiberRoot(sa,e)}catch{}s=!0}return s}finally{Y=n,lt.transition=t}}return!1}function qh(e,t,n){t=zs(n,t),t=Wg(e,t,1),e=gn(e,t,1),t=Me(),e!==null&&(Si(e,1,t),Ge(e,t))}function ue(e,t,n){if(e.tag===3)qh(e,e,n);else for(;t!==null;){if(t.tag===3){qh(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(vn===null||!vn.has(s))){e=zs(n,e),e=Gg(t,e,1),t=gn(t,e,1),e=Me(),t!==null&&(Si(t,1,e),Ge(t,e));break}}t=t.return}}function N1(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=Me(),e.pingedLanes|=e.suspendedLanes&n,xe===e&&(Se&n)===n&&(pe===4||pe===3&&(Se&130023424)===Se&&500>he()-$u?Hn(e,0):Mu|=n),Ge(e,t)}function f0(e,t){t===0&&(e.mode&1?(t=Fi,Fi<<=1,!(Fi&130023424)&&(Fi=4194304)):t=1);var n=Me();e=Bt(e,t),e!==null&&(Si(e,t,n),Ge(e,n))}function C1(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),f0(e,n)}function T1(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(I(314))}s!==null&&s.delete(t),f0(e,n)}var m0;m0=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||qe.current)Be=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Be=!1,g1(e,t,n);Be=!!(e.flags&131072)}else Be=!1,ne&&t.flags&1048576&&yg(t,Do,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;po(e,t),e=t.pendingProps;var r=Ms(t,Ie.current);Os(t,n),r=Au(null,t,s,e,r,n);var i=Ru();return t.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,We(s)?(i=!0,Io(t)):i=!1,t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Eu(t),r.updater=ua,t.stateNode=r,r._reactInternals=t,sc(t,s,e,n),t=oc(null,t,s,!0,i,n)):(t.tag=0,ne&&i&&xu(t),Le(null,t,r,n),t=t.child),t;case 16:s=t.elementType;e:{switch(po(e,t),e=t.pendingProps,r=s._init,s=r(s._payload),t.type=s,r=t.tag=A1(s),e=gt(s,e),r){case 0:t=ic(null,t,s,e,n);break e;case 1:t=Lh(null,t,s,e,n);break e;case 11:t=Oh(null,t,s,e,n);break e;case 14:t=Ih(null,t,s,gt(s.type,e),n);break e}throw Error(I(306,s,""))}return t;case 0:return s=t.type,r=t.pendingProps,r=t.elementType===s?r:gt(s,r),ic(e,t,s,r,n);case 1:return s=t.type,r=t.pendingProps,r=t.elementType===s?r:gt(s,r),Lh(e,t,s,r,n);case 3:e:{if(Qg(t),e===null)throw Error(I(387));s=t.pendingProps,i=t.memoizedState,r=i.element,kg(e,t),Uo(t,s,null,n);var o=t.memoizedState;if(s=o.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){r=zs(Error(I(423)),t),t=Dh(e,t,s,n,r);break e}else if(s!==r){r=zs(Error(I(424)),t),t=Dh(e,t,s,n,r);break e}else for(Qe=pn(t.stateNode.containerInfo.firstChild),Xe=t,ne=!0,xt=null,n=Sg(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if($s(),s===r){t=Ht(e,t,n);break e}Le(e,t,s,n)}t=t.child}return t;case 5:return _g(t),e===null&&ec(t),s=t.type,r=t.pendingProps,i=e!==null?e.memoizedProps:null,o=r.children,Jl(s,r)?o=null:i!==null&&Jl(s,i)&&(t.flags|=32),Yg(e,t),Le(e,t,o,n),t.child;case 6:return e===null&&ec(t),null;case 13:return Xg(e,t,n);case 4:return Nu(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Us(t,null,s,n):Le(e,t,s,n),t.child;case 11:return s=t.type,r=t.pendingProps,r=t.elementType===s?r:gt(s,r),Oh(e,t,s,r,n);case 7:return Le(e,t,t.pendingProps,n),t.child;case 8:return Le(e,t,t.pendingProps.children,n),t.child;case 12:return Le(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,r=t.pendingProps,i=t.memoizedProps,o=r.value,X(Mo,s._currentValue),s._currentValue=o,i!==null)if(St(i.value,o)){if(i.children===r.children&&!qe.current){t=Ht(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===s){if(i.tag===1){c=Ft(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),tc(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(I(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),tc(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Le(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,s=t.pendingProps.children,Os(t,n),r=dt(r),s=s(r),t.flags|=1,Le(e,t,s,n),t.child;case 14:return s=t.type,r=gt(s,t.pendingProps),r=gt(s.type,r),Ih(e,t,s,r,n);case 15:return Kg(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,r=t.pendingProps,r=t.elementType===s?r:gt(s,r),po(e,t),t.tag=1,We(s)?(e=!0,Io(t)):e=!1,Os(t,n),qg(t,s,r),sc(t,s,r,n),oc(null,t,s,!0,e,n);case 19:return Zg(e,t,n);case 22:return Jg(e,t,n)}throw Error(I(156,t.tag))};function p0(e,t){return Vp(e,t)}function P1(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function at(e,t,n,s){return new P1(e,t,n,s)}function Vu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function A1(e){if(typeof e=="function")return Vu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===au)return 11;if(e===lu)return 14}return 2}function xn(e,t){var n=e.alternate;return n===null?(n=at(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function yo(e,t,n,s,r,i){var o=2;if(s=e,typeof e=="function")Vu(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case fs:return qn(n.children,r,i,t);case ou:o=8,r|=8;break;case Nl:return e=at(12,n,t,r|2),e.elementType=Nl,e.lanes=i,e;case Cl:return e=at(13,n,t,r),e.elementType=Cl,e.lanes=i,e;case Tl:return e=at(19,n,t,r),e.elementType=Tl,e.lanes=i,e;case _p:return fa(n,r,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case jp:o=10;break e;case kp:o=9;break e;case au:o=11;break e;case lu:o=14;break e;case tn:o=16,s=null;break e}throw Error(I(130,e==null?e:typeof e,""))}return t=at(o,n,t,r),t.elementType=e,t.type=s,t.lanes=i,t}function qn(e,t,n,s){return e=at(7,e,s,t),e.lanes=n,e}function fa(e,t,n,s){return e=at(22,e,s,t),e.elementType=_p,e.lanes=n,e.stateNode={isHidden:!1},e}function sl(e,t,n){return e=at(6,e,null,t),e.lanes=n,e}function rl(e,t,n){return t=at(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function R1(e,t,n,s,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$a(0),this.expirationTimes=$a(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$a(0),this.identifierPrefix=s,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Bu(e,t,n,s,r,i,o,l,c){return e=new R1(e,t,n,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=at(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Eu(i),e}function O1(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:hs,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function g0(e){if(!e)return jn;e=e._reactInternals;e:{if(ts(e)!==e||e.tag!==1)throw Error(I(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(We(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(I(171))}if(e.tag===1){var n=e.type;if(We(n))return gg(e,n,t)}return t}function v0(e,t,n,s,r,i,o,l,c){return e=Bu(n,s,!0,e,r,i,o,l,c),e.context=g0(null),n=e.current,s=Me(),r=yn(n),i=Ft(s,r),i.callback=t??null,gn(n,i,r),e.current.lanes=r,Si(e,r,s),Ge(e,s),e}function ma(e,t,n,s){var r=t.current,i=Me(),o=yn(r);return n=g0(n),t.context===null?t.context=n:t.pendingContext=n,t=Ft(i,o),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=gn(r,t,o),e!==null&&(bt(e,r,o,i),ho(e,r,o)),o}function Go(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Wh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Hu(e,t){Wh(e,t),(e=e.alternate)&&Wh(e,t)}function I1(){return null}var y0=typeof reportError=="function"?reportError:function(e){console.error(e)};function qu(e){this._internalRoot=e}pa.prototype.render=qu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(I(409));ma(e,t,null,null)};pa.prototype.unmount=qu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Xn(function(){ma(null,e,null,null)}),t[Vt]=null}};function pa(e){this._internalRoot=e}pa.prototype.unstable_scheduleHydration=function(e){if(e){var t=Jp();e={blockedOn:null,target:e,priority:t};for(var n=0;n<on.length&&t!==0&&t<on[n].priority;n++);on.splice(n,0,e),n===0&&Qp(e)}};function Wu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ga(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Gh(){}function L1(e,t,n,s,r){if(r){if(typeof s=="function"){var i=s;s=function(){var u=Go(o);i.call(u)}}var o=v0(t,s,e,0,null,!1,!1,"",Gh);return e._reactRootContainer=o,e[Vt]=o.current,Kr(e.nodeType===8?e.parentNode:e),Xn(),o}for(;r=e.lastChild;)e.removeChild(r);if(typeof s=="function"){var l=s;s=function(){var u=Go(c);l.call(u)}}var c=Bu(e,0,!1,null,null,!1,!1,"",Gh);return e._reactRootContainer=c,e[Vt]=c.current,Kr(e.nodeType===8?e.parentNode:e),Xn(function(){ma(t,c,n,s)}),c}function va(e,t,n,s,r){var i=n._reactRootContainer;if(i){var o=i;if(typeof r=="function"){var l=r;r=function(){var c=Go(o);l.call(c)}}ma(t,o,e,r)}else o=L1(n,t,e,r,s);return Go(o)}Gp=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=yr(t.pendingLanes);n!==0&&(du(t,n|1),Ge(t,he()),!(J&6)&&(Vs=he()+500,Cn()))}break;case 13:Xn(function(){var s=Bt(e,1);if(s!==null){var r=Me();bt(s,e,1,r)}}),Hu(e,1)}};hu=function(e){if(e.tag===13){var t=Bt(e,134217728);if(t!==null){var n=Me();bt(t,e,134217728,n)}Hu(e,134217728)}};Kp=function(e){if(e.tag===13){var t=yn(e),n=Bt(e,t);if(n!==null){var s=Me();bt(n,e,t,s)}Hu(e,t)}};Jp=function(){return Y};Yp=function(e,t){var n=Y;try{return Y=e,t()}finally{Y=n}};Ul=function(e,t,n){switch(t){case"input":if(Rl(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var r=aa(s);if(!r)throw Error(I(90));Np(s),Rl(s,r)}}}break;case"textarea":Tp(e,n);break;case"select":t=n.value,t!=null&&Ts(e,!!n.multiple,t,!1)}};Dp=Uu;Mp=Xn;var D1={usingClientEntryPoint:!1,Events:[ki,vs,aa,Ip,Lp,Uu]},hr={findFiberByHostInstance:Un,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},M1={bundleType:hr.bundleType,version:hr.version,rendererPackageName:hr.rendererPackageName,rendererConfig:hr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Kt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Fp(e),e===null?null:e.stateNode},findFiberByHostInstance:hr.findFiberByHostInstance||I1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qi.isDisabled&&Qi.supportsFiber)try{sa=Qi.inject(M1),Ct=Qi}catch{}}et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D1;et.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Wu(t))throw Error(I(200));return O1(e,t,null,n)};et.createRoot=function(e,t){if(!Wu(e))throw Error(I(299));var n=!1,s="",r=y0;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=Bu(e,1,!1,null,null,n,!1,s,r),e[Vt]=t.current,Kr(e.nodeType===8?e.parentNode:e),new qu(t)};et.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(I(188)):(e=Object.keys(e).join(","),Error(I(268,e)));return e=Fp(t),e=e===null?null:e.stateNode,e};et.flushSync=function(e){return Xn(e)};et.hydrate=function(e,t,n){if(!ga(t))throw Error(I(200));return va(null,e,t,!0,n)};et.hydrateRoot=function(e,t,n){if(!Wu(e))throw Error(I(405));var s=n!=null&&n.hydratedSources||null,r=!1,i="",o=y0;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=v0(t,null,e,1,n??null,r,!1,i,o),e[Vt]=t.current,Kr(e),s)for(e=0;e<s.length;e++)n=s[e],r=n._getVersion,r=r(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new pa(t)};et.render=function(e,t,n){if(!ga(t))throw Error(I(200));return va(null,e,t,!1,n)};et.unmountComponentAtNode=function(e){if(!ga(e))throw Error(I(40));return e._reactRootContainer?(Xn(function(){va(null,null,e,!1,function(){e._reactRootContainer=null,e[Vt]=null})}),!0):!1};et.unstable_batchedUpdates=Uu;et.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!ga(n))throw Error(I(200));if(e==null||e._reactInternals===void 0)throw Error(I(38));return va(e,t,n,!1,s)};et.version="18.3.1-next-f1338f8080-20240426";function x0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(x0)}catch(e){console.error(e)}}x0(),xp.exports=et;var $1=xp.exports,w0,Kh=$1;w0=Kh.createRoot,Kh.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function si(){return si=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},si.apply(this,arguments)}var dn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(dn||(dn={}));const Jh="popstate";function U1(e){e===void 0&&(e={});function t(r,i){let{pathname:o="/",search:l="",hash:c=""}=ns(r.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),yc("",{pathname:o,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){let o=r.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let c=r.location.href,u=c.indexOf("#");l=u===-1?c:c.slice(0,u)}return l+"#"+(typeof i=="string"?i:Ko(i))}function s(r,i){Gu(r.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return z1(t,n,s,e)}function oe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Gu(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function F1(){return Math.random().toString(36).substr(2,8)}function Yh(e,t){return{usr:e.state,key:e.key,idx:t}}function yc(e,t,n,s){return n===void 0&&(n=null),si({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ns(t):t,{state:n,key:t&&t.key||s||F1()})}function Ko(e){let{pathname:t="/",search:n="",hash:s=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function ns(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function z1(e,t,n,s){s===void 0&&(s={});let{window:r=document.defaultView,v5Compat:i=!1}=s,o=r.history,l=dn.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(si({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=dn.Pop;let b=d(),g=b==null?null:b-u;u=b,c&&c({action:l,location:x.location,delta:g})}function f(b,g){l=dn.Push;let v=yc(x.location,b,g);n&&n(v,b),u=d()+1;let w=Yh(v,u),S=x.createHref(v);try{o.pushState(w,"",S)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;r.location.assign(S)}i&&c&&c({action:l,location:x.location,delta:1})}function m(b,g){l=dn.Replace;let v=yc(x.location,b,g);n&&n(v,b),u=d();let w=Yh(v,u),S=x.createHref(v);o.replaceState(w,"",S),i&&c&&c({action:l,location:x.location,delta:0})}function p(b){let g=r.location.origin!=="null"?r.location.origin:r.location.href,v=typeof b=="string"?b:Ko(b);return v=v.replace(/ $/,"%20"),oe(g,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,g)}let x={get action(){return l},get location(){return e(r,o)},listen(b){if(c)throw new Error("A history only accepts one active listener");return r.addEventListener(Jh,h),c=b,()=>{r.removeEventListener(Jh,h),c=null}},createHref(b){return t(r,b)},createURL:p,encodeLocation(b){let g=p(b);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:m,go(b){return o.go(b)}};return x}var Qh;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Qh||(Qh={}));function V1(e,t,n){return n===void 0&&(n="/"),B1(e,t,n)}function B1(e,t,n,s){let r=typeof t=="string"?ns(t):t,i=Bs(r.pathname||"/",n);if(i==null)return null;let o=b0(e);H1(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=tb(i);l=Z1(o[c],u)}return l}function b0(e,t,n,s){t===void 0&&(t=[]),n===void 0&&(n=[]),s===void 0&&(s="");let r=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(oe(c.relativePath.startsWith(s),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(s.length));let u=wn([s,c.relativePath]),d=n.concat(c);i.children&&i.children.length>0&&(oe(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),b0(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:Q1(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))r(i,o);else for(let c of S0(i.path))r(i,o,c)}),t}function S0(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,r=n.endsWith("?"),i=n.replace(/\?$/,"");if(s.length===0)return r?[i,""]:[i];let o=S0(s.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),r&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function H1(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:X1(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const q1=/^:[\w-]+$/,W1=3,G1=2,K1=1,J1=10,Y1=-2,Xh=e=>e==="*";function Q1(e,t){let n=e.split("/"),s=n.length;return n.some(Xh)&&(s+=Y1),t&&(s+=G1),n.filter(r=>!Xh(r)).reduce((r,i)=>r+(q1.test(i)?W1:i===""?K1:J1),s)}function X1(e,t){return e.length===t.length&&e.slice(0,-1).every((s,r)=>s===t[r])?e[e.length-1]-t[t.length-1]:0}function Z1(e,t,n){let{routesMeta:s}=e,r={},i="/",o=[];for(let l=0;l<s.length;++l){let c=s[l],u=l===s.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=xc({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h)return null;Object.assign(r,h.params),o.push({params:r,pathname:wn([i,h.pathname]),pathnameBase:ib(wn([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=wn([i,h.pathnameBase]))}return o}function xc(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=eb(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let i=r[0],o=i.replace(/(.)\/+$/,"$1"),l=r.slice(1);return{params:s.reduce((u,d,h)=>{let{paramName:f,isOptional:m}=d;if(f==="*"){let x=l[h]||"";o=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const p=l[h];return m&&!p?u[f]=void 0:u[f]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function eb(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Gu(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(s.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),r+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":e!==""&&e!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),s]}function tb(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Gu(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Bs(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}function nb(e,t){t===void 0&&(t="/");let{pathname:n,search:s="",hash:r=""}=typeof e=="string"?ns(e):e;return{pathname:n?n.startsWith("/")?n:sb(n,t):t,search:ob(s),hash:ab(r)}}function sb(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function il(e,t,n,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function rb(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Ku(e,t){let n=rb(e);return t?n.map((s,r)=>r===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function Ju(e,t,n,s){s===void 0&&(s=!1);let r;typeof e=="string"?r=ns(e):(r=si({},e),oe(!r.pathname||!r.pathname.includes("?"),il("?","pathname","search",r)),oe(!r.pathname||!r.pathname.includes("#"),il("#","pathname","hash",r)),oe(!r.search||!r.search.includes("#"),il("#","search","hash",r)));let i=e===""||r.pathname==="",o=i?"/":r.pathname,l;if(o==null)l=n;else{let h=t.length-1;if(!s&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;r.pathname=f.join("/")}l=h>=0?t[h]:"/"}let c=nb(r,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const wn=e=>e.join("/").replace(/\/\/+/g,"/"),ib=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),ob=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,ab=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function lb(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const j0=["post","put","patch","delete"];new Set(j0);const cb=["get",...j0];new Set(cb);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ri(){return ri=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ri.apply(this,arguments)}const ya=y.createContext(null),k0=y.createContext(null),Jt=y.createContext(null),xa=y.createContext(null),It=y.createContext({outlet:null,matches:[],isDataRoute:!1}),_0=y.createContext(null);function ub(e,t){let{relative:n}=t===void 0?{}:t;Xs()||oe(!1);let{basename:s,navigator:r}=y.useContext(Jt),{hash:i,pathname:o,search:l}=wa(e,{relative:n}),c=o;return s!=="/"&&(c=o==="/"?s:wn([s,o])),r.createHref({pathname:c,search:l,hash:i})}function Xs(){return y.useContext(xa)!=null}function Yt(){return Xs()||oe(!1),y.useContext(xa).location}function E0(e){y.useContext(Jt).static||y.useLayoutEffect(e)}function ft(){let{isDataRoute:e}=y.useContext(It);return e?Eb():db()}function db(){Xs()||oe(!1);let e=y.useContext(ya),{basename:t,future:n,navigator:s}=y.useContext(Jt),{matches:r}=y.useContext(It),{pathname:i}=Yt(),o=JSON.stringify(Ku(r,n.v7_relativeSplatPath)),l=y.useRef(!1);return E0(()=>{l.current=!0}),y.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){s.go(u);return}let h=Ju(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:wn([t,h.pathname])),(d.replace?s.replace:s.push)(h,d.state,d)},[t,s,o,i,e])}const hb=y.createContext(null);function fb(e){let t=y.useContext(It).outlet;return t&&y.createElement(hb.Provider,{value:e},t)}function mb(){let{matches:e}=y.useContext(It),t=e[e.length-1];return t?t.params:{}}function wa(e,t){let{relative:n}=t===void 0?{}:t,{future:s}=y.useContext(Jt),{matches:r}=y.useContext(It),{pathname:i}=Yt(),o=JSON.stringify(Ku(r,s.v7_relativeSplatPath));return y.useMemo(()=>Ju(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function pb(e,t){return gb(e,t)}function gb(e,t,n,s){Xs()||oe(!1);let{navigator:r,static:i}=y.useContext(Jt),{matches:o}=y.useContext(It),l=o[o.length-1],c=l?l.params:{};l&&l.pathname;let u=l?l.pathnameBase:"/";l&&l.route;let d=Yt(),h;if(t){var f;let g=typeof t=="string"?ns(t):t;u==="/"||(f=g.pathname)!=null&&f.startsWith(u)||oe(!1),h=g}else h=d;let m=h.pathname||"/",p=m;if(u!=="/"){let g=u.replace(/^\//,"").split("/");p="/"+m.replace(/^\//,"").split("/").slice(g.length).join("/")}let x=V1(e,{pathname:p}),b=bb(x&&x.map(g=>Object.assign({},g,{params:Object.assign({},c,g.params),pathname:wn([u,r.encodeLocation?r.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?u:wn([u,r.encodeLocation?r.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),o,n,s);return t&&b?y.createElement(xa.Provider,{value:{location:ri({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:dn.Pop}},b):b}function vb(){let e=_b(),t=lb(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},t),n?y.createElement("pre",{style:r},n):null,null)}const yb=y.createElement(vb,null);class xb extends y.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?y.createElement(It.Provider,{value:this.props.routeContext},y.createElement(_0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function wb(e){let{routeContext:t,match:n,children:s}=e,r=y.useContext(ya);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),y.createElement(It.Provider,{value:t},s)}function bb(e,t,n,s){var r;if(t===void 0&&(t=[]),n===void 0&&(n=null),s===void 0&&(s=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=s)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(r=n)==null?void 0:r.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||oe(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(n&&s&&s.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:m}=n,p=h.route.loader&&f[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||p){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let m,p=!1,x=null,b=null;n&&(m=l&&h.route.id?l[h.route.id]:void 0,x=h.route.errorElement||yb,c&&(u<0&&f===0?(Nb("route-fallback"),p=!0,b=null):u===f&&(p=!0,b=h.route.hydrateFallbackElement||null)));let g=t.concat(o.slice(0,f+1)),v=()=>{let w;return m?w=x:p?w=b:h.route.Component?w=y.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=d,y.createElement(wb,{match:h,routeContext:{outlet:d,matches:g,isDataRoute:n!=null},children:w})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?y.createElement(xb,{location:n.location,revalidation:n.revalidation,component:x,error:m,children:v(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):v()},null)}var N0=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(N0||{}),C0=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(C0||{});function Sb(e){let t=y.useContext(ya);return t||oe(!1),t}function jb(e){let t=y.useContext(k0);return t||oe(!1),t}function kb(e){let t=y.useContext(It);return t||oe(!1),t}function T0(e){let t=kb(),n=t.matches[t.matches.length-1];return n.route.id||oe(!1),n.route.id}function _b(){var e;let t=y.useContext(_0),n=jb(),s=T0();return t!==void 0?t:(e=n.errors)==null?void 0:e[s]}function Eb(){let{router:e}=Sb(N0.UseNavigateStable),t=T0(C0.UseNavigateStable),n=y.useRef(!1);return E0(()=>{n.current=!0}),y.useCallback(function(r,i){i===void 0&&(i={}),n.current&&(typeof r=="number"?e.navigate(r):e.navigate(r,ri({fromRouteId:t},i)))},[e,t])}const Zh={};function Nb(e,t,n){Zh[e]||(Zh[e]=!0)}function Cb(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function os(e){let{to:t,replace:n,state:s,relative:r}=e;Xs()||oe(!1);let{future:i,static:o}=y.useContext(Jt),{matches:l}=y.useContext(It),{pathname:c}=Yt(),u=ft(),d=Ju(t,Ku(l,i.v7_relativeSplatPath),c,r==="path"),h=JSON.stringify(d);return y.useEffect(()=>u(JSON.parse(h),{replace:n,state:s,relative:r}),[u,h,r,n,s]),null}function Tb(e){return fb(e.context)}function ge(e){oe(!1)}function Pb(e){let{basename:t="/",children:n=null,location:s,navigationType:r=dn.Pop,navigator:i,static:o=!1,future:l}=e;Xs()&&oe(!1);let c=t.replace(/^\/*/,"/"),u=y.useMemo(()=>({basename:c,navigator:i,static:o,future:ri({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof s=="string"&&(s=ns(s));let{pathname:d="/",search:h="",hash:f="",state:m=null,key:p="default"}=s,x=y.useMemo(()=>{let b=Bs(d,c);return b==null?null:{location:{pathname:b,search:h,hash:f,state:m,key:p},navigationType:r}},[c,d,h,f,m,p,r]);return x==null?null:y.createElement(Jt.Provider,{value:u},y.createElement(xa.Provider,{children:n,value:x}))}function Ab(e){let{children:t,location:n}=e;return pb(wc(t),n)}new Promise(()=>{});function wc(e,t){t===void 0&&(t=[]);let n=[];return y.Children.forEach(e,(s,r)=>{if(!y.isValidElement(s))return;let i=[...t,r];if(s.type===y.Fragment){n.push.apply(n,wc(s.props.children,i));return}s.type!==ge&&oe(!1),!s.props.index||!s.props.children||oe(!1);let o={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=wc(s.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jo(){return Jo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Jo.apply(this,arguments)}function P0(e,t){if(e==null)return{};var n={},s=Object.keys(e),r,i;for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}function Rb(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Ob(e,t){return e.button===0&&(!t||t==="_self")&&!Rb(e)}function bc(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let s=e[n];return t.concat(Array.isArray(s)?s.map(r=>[n,r]):[[n,s]])},[]))}function Ib(e,t){let n=bc(e);return t&&t.forEach((s,r)=>{n.has(r)||t.getAll(r).forEach(i=>{n.append(r,i)})}),n}const Lb=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Db=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Mb="6";try{window.__reactRouterVersion=Mb}catch{}const $b=y.createContext({isTransitioning:!1}),Ub="startTransition",ef=Nx[Ub];function Fb(e){let{basename:t,children:n,future:s,window:r}=e,i=y.useRef();i.current==null&&(i.current=U1({window:r,v5Compat:!0}));let o=i.current,[l,c]=y.useState({action:o.action,location:o.location}),{v7_startTransition:u}=s||{},d=y.useCallback(h=>{u&&ef?ef(()=>c(h)):c(h)},[c,u]);return y.useLayoutEffect(()=>o.listen(d),[o,d]),y.useEffect(()=>Cb(s),[s]),y.createElement(Pb,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:s})}const zb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Vb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ot=y.forwardRef(function(t,n){let{onClick:s,relative:r,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=t,f=P0(t,Lb),{basename:m}=y.useContext(Jt),p,x=!1;if(typeof u=="string"&&Vb.test(u)&&(p=u,zb))try{let w=new URL(window.location.href),S=u.startsWith("//")?new URL(w.protocol+u):new URL(u),j=Bs(S.pathname,m);S.origin===w.origin&&j!=null?u=j+S.search+S.hash:x=!0}catch{}let b=ub(u,{relative:r}),g=Hb(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:r,viewTransition:h});function v(w){s&&s(w),w.defaultPrevented||g(w)}return y.createElement("a",Jo({},f,{href:p||b,onClick:x||i?s:v,ref:n,target:c}))}),Sc=y.forwardRef(function(t,n){let{"aria-current":s="page",caseSensitive:r=!1,className:i="",end:o=!1,style:l,to:c,viewTransition:u,children:d}=t,h=P0(t,Db),f=wa(c,{relative:h.relative}),m=Yt(),p=y.useContext(k0),{navigator:x,basename:b}=y.useContext(Jt),g=p!=null&&qb(f)&&u===!0,v=x.encodeLocation?x.encodeLocation(f).pathname:f.pathname,w=m.pathname,S=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;r||(w=w.toLowerCase(),S=S?S.toLowerCase():null,v=v.toLowerCase()),S&&b&&(S=Bs(S,b)||S);const j=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let C=w===v||!o&&w.startsWith(v)&&w.charAt(j)==="/",k=S!=null&&(S===v||!o&&S.startsWith(v)&&S.charAt(v.length)==="/"),_={isActive:C,isPending:k,isTransitioning:g},R=C?s:void 0,O;typeof i=="function"?O=i(_):O=[i,C?"active":null,k?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let N=typeof l=="function"?l(_):l;return y.createElement(ot,Jo({},h,{"aria-current":R,className:O,ref:n,style:N,to:c,viewTransition:u}),typeof d=="function"?d(_):d)});var jc;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(jc||(jc={}));var tf;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(tf||(tf={}));function Bb(e){let t=y.useContext(ya);return t||oe(!1),t}function Hb(e,t){let{target:n,replace:s,state:r,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=ft(),u=Yt(),d=wa(e,{relative:o});return y.useCallback(h=>{if(Ob(h,n)){h.preventDefault();let f=s!==void 0?s:Ko(u)===Ko(d);c(e,{replace:f,state:r,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,s,r,n,e,i,o,l])}function A0(e){let t=y.useRef(bc(e)),n=y.useRef(!1),s=Yt(),r=y.useMemo(()=>Ib(s.search,n.current?null:t.current),[s.search]),i=ft(),o=y.useCallback((l,c)=>{const u=bc(typeof l=="function"?l(r):l);n.current=!0,i("?"+u,c)},[i,r]);return[r,o]}function qb(e,t){t===void 0&&(t={});let n=y.useContext($b);n==null&&oe(!1);let{basename:s}=Bb(jc.useViewTransitionState),r=wa(e,{relative:t.relative});if(!n.isTransitioning)return!1;let i=Bs(n.currentLocation.pathname,s)||n.currentLocation.pathname,o=Bs(n.nextLocation.pathname,s)||n.nextLocation.pathname;return xc(r.pathname,o)!=null||xc(r.pathname,i)!=null}const Wb="modulepreload",Gb=function(e){return"/accreda.github.io/"+e},nf={},Ot=function(t,n,s){let r=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));r=Promise.allSettled(n.map(c=>{if(c=Gb(c),c in nf)return;nf[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":Wb,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((f,m)=>{h.addEventListener("load",f),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return r.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},Kb=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Ot(async()=>{const{default:s}=await Promise.resolve().then(()=>Zs);return{default:s}},void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)};class Yu extends Error{constructor(t,n="FunctionsError",s){super(t),this.name=n,this.context=s}}class Jb extends Yu{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Yb extends Yu{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Qb extends Yu{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var kc;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(kc||(kc={}));var Xb=function(e,t,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(s.next(d))}catch(h){o(h)}}function c(d){try{u(s.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):r(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};class Zb{constructor(t,{headers:n={},customFetch:s,region:r=kc.Any}={}){this.url=t,this.headers=n,this.region=r,this.fetch=Kb(s)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var s;return Xb(this,void 0,void 0,function*(){try{const{headers:r,method:i,body:o}=n;let l={},{region:c}=n;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let u;o&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(l["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(l["Content-Type"]="application/json",u=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),r),body:u}).catch(p=>{throw new Jb(p)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new Yb(d);if(!d.ok)throw new Qb(d);let f=((s=d.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),m;return f==="application/json"?m=yield d.json():f==="application/octet-stream"?m=yield d.blob():f==="text/event-stream"?m=d:f==="multipart/form-data"?m=yield d.formData():m=yield d.text(),{data:m,error:null}}catch(r){return{data:null,error:r}}})}}var Ve={},Qu={},ba={},Ei={},Sa={},ja={},eS=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Hs=eS();const tS=Hs.fetch,R0=Hs.fetch.bind(Hs),O0=Hs.Headers,nS=Hs.Request,sS=Hs.Response,Zs=Object.freeze(Object.defineProperty({__proto__:null,Headers:O0,Request:nS,Response:sS,default:R0,fetch:tS},Symbol.toStringTag,{value:"Module"})),rS=dx(Zs);var ka={};Object.defineProperty(ka,"__esModule",{value:!0});let iS=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};ka.default=iS;var I0=Re&&Re.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ja,"__esModule",{value:!0});const oS=I0(rS),aS=I0(ka);let lS=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=oS.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const s=this.fetch;let r=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c;let u=null,d=null,h=null,f=i.status,m=i.statusText;if(i.ok){if(this.method!=="HEAD"){const g=await i.text();g===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=g:d=JSON.parse(g))}const x=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),b=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");x&&b&&b.length>1&&(h=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,m="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const x=await i.text();try{u=JSON.parse(x),Array.isArray(u)&&i.status===404&&(d=[],u=null,f=200,m="OK")}catch{i.status===404&&x===""?(f=204,m="No Content"):u={message:x}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,f=200,m="OK"),u&&this.shouldThrowOnError)throw new aS.default(u)}return{error:u,data:d,count:h,status:f,statusText:m}});return this.shouldThrowOnError||(r=r.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),r.then(t,n)}returns(){return this}overrideTypes(){return this}};ja.default=lS;var cS=Re&&Re.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Sa,"__esModule",{value:!0});const uS=cS(ja);let dS=class extends uS.default{select(t){let n=!1;const s=(t??"*").split("").map(r=>/\s/.test(r)&&!n?"":(r==='"'&&(n=!n),r)).join("");return this.url.searchParams.set("select",s),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:s,foreignTable:r,referencedTable:i=r}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${n?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:s=n}={}){const r=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(r,`${t}`),this}range(t,n,{foreignTable:s,referencedTable:r=s}={}){const i=typeof r>"u"?"offset":`${r}.offset`,o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:s=!1,buffers:r=!1,wal:i=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,n?"verbose":null,s?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Sa.default=dS;var hS=Re&&Re.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ei,"__esModule",{value:!0});const fS=hS(Sa);let mS=class extends fS.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const s=Array.from(new Set(n)).map(r=>typeof r=="string"&&new RegExp("[,()]").test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`in.(${s})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:s,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");const o=s===void 0?"":`(${s})`;return this.url.searchParams.append(t,`${i}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,s])=>{this.url.searchParams.append(n,`eq.${s}`)}),this}not(t,n,s){return this.url.searchParams.append(t,`not.${n}.${s}`),this}or(t,{foreignTable:n,referencedTable:s=n}={}){const r=s?`${s}.or`:"or";return this.url.searchParams.append(r,`(${t})`),this}filter(t,n,s){return this.url.searchParams.append(t,`${n}.${s}`),this}};Ei.default=mS;var pS=Re&&Re.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ba,"__esModule",{value:!0});const fr=pS(Ei);let gS=class{constructor(t,{headers:n={},schema:s,fetch:r}){this.url=t,this.headers=n,this.schema=s,this.fetch=r}select(t,{head:n=!1,count:s}={}){const r=n?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),s&&(this.headers.Prefer=`count=${s}`),new fr.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:s=!0}={}){const r="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),s||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new fr.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:s=!1,count:r,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${s?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&l.push(this.headers.Prefer),r&&l.push(`count=${r}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new fr.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const s="PATCH",r=[];return this.headers.Prefer&&r.push(this.headers.Prefer),n&&r.push(`count=${n}`),this.headers.Prefer=r.join(","),new fr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",s=[];return t&&s.push(`count=${t}`),this.headers.Prefer&&s.unshift(this.headers.Prefer),this.headers.Prefer=s.join(","),new fr.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};ba.default=gS;var _a={},Ea={};Object.defineProperty(Ea,"__esModule",{value:!0});Ea.version=void 0;Ea.version="0.0.0-automated";Object.defineProperty(_a,"__esModule",{value:!0});_a.DEFAULT_HEADERS=void 0;const vS=Ea;_a.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${vS.version}`};var L0=Re&&Re.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Qu,"__esModule",{value:!0});const yS=L0(ba),xS=L0(Ei),wS=_a;let bS=class D0{constructor(t,{headers:n={},schema:s,fetch:r}={}){this.url=t,this.headers=Object.assign(Object.assign({},wS.DEFAULT_HEADERS),n),this.schemaName=s,this.fetch=r}from(t){const n=new URL(`${this.url}/${t}`);return new yS.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new D0(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:s=!1,get:r=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let c;s||r?(o=s?"HEAD":"GET",Object.entries(n).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{l.searchParams.append(d,h)})):(o="POST",c=n);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new xS.default({method:o,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Qu.default=bS;var er=Re&&Re.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ve,"__esModule",{value:!0});Ve.PostgrestError=Ve.PostgrestBuilder=Ve.PostgrestTransformBuilder=Ve.PostgrestFilterBuilder=Ve.PostgrestQueryBuilder=Ve.PostgrestClient=void 0;const M0=er(Qu);Ve.PostgrestClient=M0.default;const $0=er(ba);Ve.PostgrestQueryBuilder=$0.default;const U0=er(Ei);Ve.PostgrestFilterBuilder=U0.default;const F0=er(Sa);Ve.PostgrestTransformBuilder=F0.default;const z0=er(ja);Ve.PostgrestBuilder=z0.default;const V0=er(ka);Ve.PostgrestError=V0.default;var SS=Ve.default={PostgrestClient:M0.default,PostgrestQueryBuilder:$0.default,PostgrestFilterBuilder:U0.default,PostgrestTransformBuilder:F0.default,PostgrestBuilder:z0.default,PostgrestError:V0.default};const{PostgrestClient:jS,PostgrestQueryBuilder:EA,PostgrestFilterBuilder:NA,PostgrestTransformBuilder:CA,PostgrestBuilder:TA,PostgrestError:PA}=SS,kS="2.11.2",_S={"X-Client-Info":`realtime-js/${kS}`},ES="1.0.0",B0=1e4,NS=1e3;var Ls;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ls||(Ls={}));var Je;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Je||(Je={}));var yt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(yt||(yt={}));var _c;(function(e){e.websocket="websocket"})(_c||(_c={}));var $n;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})($n||($n={}));class CS{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),s=new TextDecoder;return this._decodeBroadcast(t,n,s)}_decodeBroadcast(t,n,s){const r=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const l=s.decode(t.slice(o,o+r));o=o+r;const c=s.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(s.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class H0{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Q;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Q||(Q={}));const sf=(e,t,n={})=>{var s;const r=(s=n.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(t).reduce((i,o)=>(i[o]=TS(o,e,t,r),i),{})},TS=(e,t,n,s)=>{const r=t.find(l=>l.name===e),i=r==null?void 0:r.type,o=n[e];return i&&!s.includes(i)?q0(i,o):Ec(o)},q0=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return OS(t,n)}switch(e){case Q.bool:return PS(t);case Q.float4:case Q.float8:case Q.int2:case Q.int4:case Q.int8:case Q.numeric:case Q.oid:return AS(t);case Q.json:case Q.jsonb:return RS(t);case Q.timestamp:return IS(t);case Q.abstime:case Q.date:case Q.daterange:case Q.int4range:case Q.int8range:case Q.money:case Q.reltime:case Q.text:case Q.time:case Q.timestamptz:case Q.timetz:case Q.tsrange:case Q.tstzrange:return Ec(t);default:return Ec(t)}},Ec=e=>e,PS=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},AS=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},RS=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},OS=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,s=e[n];if(e[0]==="{"&&s==="}"){let i;const o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>q0(t,l))}return e},IS=e=>typeof e=="string"?e.replace(" ","T"):e,W0=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class ol{constructor(t,n,s={},r=B0){this.channel=t,this.event=n,this.payload=s,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var s;return this._hasReceived(t)&&n((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(s=>s.status===t).forEach(s=>s.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var rf;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(rf||(rf={}));class Ar{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},r=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ar.syncState(this.state,r,i,o),this.pendingDiffs.forEach(c=>{this.state=Ar.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(s.diff,{},r=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=Ar.syncDiff(this.state,r,i,o),l())}),this.onJoin((r,i,o)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:i,newPresences:o})}),this.onLeave((r,i,o)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,s,r){const i=this.cloneDeep(t),o=this.transformState(n),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const h=i[u];if(h){const f=d.map(b=>b.presence_ref),m=h.map(b=>b.presence_ref),p=d.filter(b=>m.indexOf(b.presence_ref)<0),x=h.filter(b=>f.indexOf(b.presence_ref)<0);p.length>0&&(l[u]=p),x.length>0&&(c[u]=x)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},s,r)}static syncDiff(t,n,s,r){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return s||(s=()=>{}),r||(r=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const h=t[l].map(m=>m.presence_ref),f=d.filter(m=>h.indexOf(m.presence_ref)<0);t[l].unshift(...f)}s(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[l]=u,r(l,u,c),u.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(s=>n(s,t[s]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,s)=>{const r=t[s];return"metas"in r?n[s]=r.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[s]=r,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var of;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(of||(of={}));var af;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(af||(af={}));var Dt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Dt||(Dt={}));class Xu{constructor(t,n={config:{}},s){this.topic=t,this.params=n,this.socket=s,this.bindings={},this.state=Je.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new ol(this,yt.join,this.params,this.timeout),this.rejoinTimer=new H0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Je.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(r=>r.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Je.closed,this.socket._remove(this)}),this._onError(r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=Je.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Je.errored,this.rejoinTimer.scheduleTimeout())}),this._on(yt.reply,{},(r,i)=>{this._trigger(this._replyEventName(i),r)}),this.presence=new Ar(this),this.broadcastEndpointURL=W0(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var s,r;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:l}}=this.params;this._onError(d=>t==null?void 0:t(Dt.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(Dt.CLOSED));const c={},u={broadcast:i,presence:o,postgres_changes:(r=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(d=>d.filter))!==null&&r!==void 0?r:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){t==null||t(Dt.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,m=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,p=[];for(let x=0;x<m;x++){const b=f[x],{filter:{event:g,schema:v,table:w,filter:S}}=b,j=d&&d[x];if(j&&j.event===g&&j.schema===v&&j.table===w&&j.filter===S)p.push(Object.assign(Object.assign({},b),{id:j.id}));else{this.unsubscribe(),t==null||t(Dt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,t&&t(Dt.SUBSCRIBED);return}}).receive("error",d=>{t==null||t(Dt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Dt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,s){return this._on(t,n,s)}async send(t,n={}){var s,r;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);return await((r=u.body)===null||r===void 0?void 0:r.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Je.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(yt.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(s=>{const r=new ol(this,yt.leave,{},t);r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})})}async _fetchWithTimeout(t,n,s){const r=new AbortController,i=setTimeout(()=>r.abort(),s),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:r.signal}));return clearTimeout(i),o}_push(t,n,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new ol(this,t,n,s);return this._canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}_onMessage(t,n,s){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,s){var r,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=yt;if(s&&[l,c,u,d].indexOf(o)>=0&&s!==this._joinRef())return;let f=this._onMessage(o,n,s);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(m=>{var p,x,b;return((p=m.filter)===null||p===void 0?void 0:p.event)==="*"||((b=(x=m.filter)===null||x===void 0?void 0:x.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(m=>m.callback(f,s)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var p,x,b,g,v,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const S=m.id,j=(p=m.filter)===null||p===void 0?void 0:p.event;return S&&((x=n.ids)===null||x===void 0?void 0:x.includes(S))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((b=n.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const S=(v=(g=m==null?void 0:m.filter)===null||g===void 0?void 0:g.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return S==="*"||S===((w=n==null?void 0:n.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof f=="object"&&"ids"in f){const p=f.data,{schema:x,table:b,commit_timestamp:g,type:v,errors:w}=p;f=Object.assign(Object.assign({},{schema:x,table:b,commit_timestamp:g,eventType:v,new:{},old:{},errors:w}),this._getPayloadRecords(p))}m.callback(f,s)})}_isClosed(){return this.state===Je.closed}_isJoined(){return this.state===Je.joined}_isJoining(){return this.state===Je.joining}_isLeaving(){return this.state===Je.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,s){const r=t.toLocaleLowerCase(),i={type:r,filter:n,callback:s};return this.bindings[r]?this.bindings[r].push(i):this.bindings[r]=[i],this}_off(t,n){const s=t.toLocaleLowerCase();return this.bindings[s]=this.bindings[s].filter(r=>{var i;return!(((i=r.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===s&&Xu.isEqual(r.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const s in t)if(t[s]!==n[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(yt.close,{},t)}_onError(t){this._on(yt.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Je.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=sf(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=sf(t.columns,t.old_record)),n}}const LS=()=>{},DS=typeof WebSocket<"u",MS=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class $S{constructor(t,n){var s;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=_S,this.params={},this.timeout=B0,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=LS,this.conn=null,this.sendBuffer=[],this.serializer=new CS,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>Ot(async()=>{const{default:c}=await Promise.resolve().then(()=>Zs);return{default:c}},void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${_c.websocket}`,this.httpEndpoint=W0(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const r=(s=n==null?void 0:n.params)===null||s===void 0?void 0:s.apikey;if(r&&(this.accessTokenValue=r,this.apiKey=r),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new H0(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(DS){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new US(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Ot(async()=>{const{default:t}=await import("./browser-CjAk4R4a.js").then(n=>n.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:ES}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),t}log(t,n,s){this.logger(t,n,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Ls.connecting:return $n.Connecting;case Ls.open:return $n.Open;case Ls.closing:return $n.Closing;default:return $n.Closed}}isConnected(){return this.connectionState()===$n.Open}channel(t,n={config:{}}){const s=new Xu(`realtime:${t}`,n,this);return this.channels.push(s),s}push(t){const{topic:n,event:s,payload:r,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${s} (${i})`,r),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let s=null;try{s=JSON.parse(atob(n.split(".")[1]))}catch{}if(s&&s.exp&&!(Math.floor(Date.now()/1e3)-s.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${s.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${s.exp}`);this.accessTokenValue=n,this.channels.forEach(r=>{n&&r.updateJoinPayload({access_token:n}),r.joinedOnce&&r._isJoined()&&r._push(yt.access_token,{access_token:n})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(NS,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(s=>s.topic===t&&(s._isJoined()||s._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:s,event:r,payload:i,ref:o}=n;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${s} ${r} ${o&&"("+o+")"||""}`,i),this.channels.filter(l=>l._isMember(s)).forEach(l=>l._trigger(r,i,o)),this.stateChangeCallbacks.message.forEach(l=>l(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(yt.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const s=t.match(/\?/)?"&":"?",r=new URLSearchParams(n);return`${t}${s}${r}`}_workerObjectUrl(t){let n;if(t)n=t;else{const s=new Blob([MS],{type:"application/javascript"});n=URL.createObjectURL(s)}return n}}class US{constructor(t,n,s){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Ls.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=s.close}}class Zu extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ve(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class FS extends Zu{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Nc extends Zu{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var zS=function(e,t,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(s.next(d))}catch(h){o(h)}}function c(d){try{u(s.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):r(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};const G0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Ot(async()=>{const{default:s}=await Promise.resolve().then(()=>Zs);return{default:s}},void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)},VS=()=>zS(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ot(()=>Promise.resolve().then(()=>Zs),void 0)).Response:Response}),Cc=e=>{if(Array.isArray(e))return e.map(n=>Cc(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,s])=>{const r=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[r]=Cc(s)}),t};var ss=function(e,t,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(s.next(d))}catch(h){o(h)}}function c(d){try{u(s.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):r(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};const al=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),BS=(e,t,n)=>ss(void 0,void 0,void 0,function*(){const s=yield VS();e instanceof s&&!(n!=null&&n.noResolveJson)?e.json().then(r=>{t(new FS(al(r),e.status||500))}).catch(r=>{t(new Nc(al(r),r))}):t(new Nc(al(e),e))}),HS=(e,t,n,s)=>{const r={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s&&(r.body=JSON.stringify(s)),Object.assign(Object.assign({},r),n))};function Ni(e,t,n,s,r,i){return ss(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(n,HS(t,s,r,i)).then(c=>{if(!c.ok)throw c;return s!=null&&s.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>BS(c,l,s))})})}function Yo(e,t,n,s){return ss(this,void 0,void 0,function*(){return Ni(e,"GET",t,n,s)})}function sn(e,t,n,s,r){return ss(this,void 0,void 0,function*(){return Ni(e,"POST",t,s,r,n)})}function qS(e,t,n,s,r){return ss(this,void 0,void 0,function*(){return Ni(e,"PUT",t,s,r,n)})}function WS(e,t,n,s){return ss(this,void 0,void 0,function*(){return Ni(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),s)})}function K0(e,t,n,s,r){return ss(this,void 0,void 0,function*(){return Ni(e,"DELETE",t,s,r,n)})}var Fe=function(e,t,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(s.next(d))}catch(h){o(h)}}function c(d){try{u(s.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):r(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};const GS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},lf={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class KS{constructor(t,n={},s,r){this.url=t,this.headers=n,this.bucketId=s,this.fetch=G0(r)}uploadOrUpdate(t,n,s,r){return Fe(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},lf),r);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&s instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",s)):typeof FormData<"u"&&s instanceof FormData?(i=s,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=s,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),r!=null&&r.headers&&(l=Object.assign(Object.assign({},l),r.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield h.json();return h.ok?{data:{path:u,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(ve(i))return{data:null,error:i};throw i}})}upload(t,n,s){return Fe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,s)})}uploadToSignedUrl(t,n,s,r){return Fe(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:lf.upsert},r),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&s instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",s)):typeof FormData<"u"&&s instanceof FormData?(c=s,c.append("cacheControl",u.cacheControl)):(c=s,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:d}),f=yield h.json();return h.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(c){if(ve(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return Fe(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t);const r=Object.assign({},this.headers);n!=null&&n.upsert&&(r["x-upsert"]="true");const i=yield sn(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:r}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new Zu("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(s){if(ve(s))return{data:null,error:s};throw s}})}update(t,n,s){return Fe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,s)})}move(t,n,s){return Fe(this,void 0,void 0,function*(){try{return{data:yield sn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(ve(r))return{data:null,error:r};throw r}})}copy(t,n,s){return Fe(this,void 0,void 0,function*(){try{return{data:{path:(yield sn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(ve(r))return{data:null,error:r};throw r}})}createSignedUrl(t,n,s){return Fe(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t),i=yield sn(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:n},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const o=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(r){if(ve(r))return{data:null,error:r};throw r}})}createSignedUrls(t,n,s){return Fe(this,void 0,void 0,function*(){try{const r=yield sn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:r.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(r){if(ve(r))return{data:null,error:r};throw r}})}download(t,n){return Fe(this,void 0,void 0,function*(){const r=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield Yo(this.fetch,`${this.url}/${r}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(ve(l))return{data:null,error:l};throw l}})}info(t){return Fe(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const s=yield Yo(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Cc(s),error:null}}catch(s){if(ve(s))return{data:null,error:s};throw s}})}exists(t){return Fe(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield WS(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(ve(s)&&s instanceof Nc){const r=s.originalError;if([400,404].includes(r==null?void 0:r.status))return{data:!1,error:s}}throw s}})}getPublicUrl(t,n){const s=this._getFinalPath(t),r=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&r.push(i);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&r.push(c);let u=r.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${s}${u}`)}}}remove(t){return Fe(this,void 0,void 0,function*(){try{return{data:yield K0(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(ve(n))return{data:null,error:n};throw n}})}list(t,n,s){return Fe(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},GS),n),{prefix:t||""});return{data:yield sn(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},s),error:null}}catch(r){if(ve(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const JS="2.7.1",YS={"X-Client-Info":`storage-js/${JS}`};var as=function(e,t,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(s.next(d))}catch(h){o(h)}}function c(d){try{u(s.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):r(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};class QS{constructor(t,n={},s){this.url=t,this.headers=Object.assign(Object.assign({},YS),n),this.fetch=G0(s)}listBuckets(){return as(this,void 0,void 0,function*(){try{return{data:yield Yo(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(ve(t))return{data:null,error:t};throw t}})}getBucket(t){return as(this,void 0,void 0,function*(){try{return{data:yield Yo(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(ve(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return as(this,void 0,void 0,function*(){try{return{data:yield sn(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(ve(s))return{data:null,error:s};throw s}})}updateBucket(t,n){return as(this,void 0,void 0,function*(){try{return{data:yield qS(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(ve(s))return{data:null,error:s};throw s}})}emptyBucket(t){return as(this,void 0,void 0,function*(){try{return{data:yield sn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(ve(n))return{data:null,error:n};throw n}})}deleteBucket(t){return as(this,void 0,void 0,function*(){try{return{data:yield K0(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(ve(n))return{data:null,error:n};throw n}})}}class XS extends QS{constructor(t,n={},s){super(t,n,s)}from(t){return new KS(this.url,this.headers,t,this.fetch)}}const ZS="2.49.4";let wr="";typeof Deno<"u"?wr="deno":typeof document<"u"?wr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?wr="react-native":wr="node";const ej={"X-Client-Info":`supabase-js-${wr}/${ZS}`},tj={headers:ej},nj={schema:"public"},sj={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},rj={};var ij=function(e,t,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(s.next(d))}catch(h){o(h)}}function c(d){try{u(s.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):r(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};const oj=e=>{let t;return e?t=e:typeof fetch>"u"?t=R0:t=fetch,(...n)=>t(...n)},aj=()=>typeof Headers>"u"?O0:Headers,lj=(e,t,n)=>{const s=oj(n),r=aj();return(i,o)=>ij(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new r(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),s(i,Object.assign(Object.assign({},o),{headers:u}))})};var cj=function(e,t,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(s.next(d))}catch(h){o(h)}}function c(d){try{u(s.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):r(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};function uj(e){return e.replace(/\/$/,"")}function dj(e,t){const{db:n,auth:s,realtime:r,global:i}=e,{db:o,auth:l,realtime:c,global:u}=t,d={db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},l),s),realtime:Object.assign(Object.assign({},c),r),global:Object.assign(Object.assign({},u),i),accessToken:()=>cj(this,void 0,void 0,function*(){return""})};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}const J0="2.69.1",ds=30*1e3,Tc=3,ll=Tc*ds,hj="http://localhost:9999",fj="supabase.auth.token",mj={"X-Client-Info":`gotrue-js/${J0}`},Pc="X-Supabase-Api-Version",Y0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},pj=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,gj=6e5;class ed extends Error{constructor(t,n,s){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=s}}function q(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class vj extends ed{constructor(t,n,s){super(t,n,s),this.name="AuthApiError",this.status=n,this.code=s}}function yj(e){return q(e)&&e.name==="AuthApiError"}class Q0 extends ed{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Tn extends ed{constructor(t,n,s,r){super(t,s,r),this.name=n,this.status=s}}class Xt extends Tn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function xj(e){return q(e)&&e.name==="AuthSessionMissingError"}class cl extends Tn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Xi extends Tn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Zi extends Tn{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function wj(e){return q(e)&&e.name==="AuthImplicitGrantRedirectError"}class cf extends Tn{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ac extends Tn{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function ul(e){return q(e)&&e.name==="AuthRetryableFetchError"}class uf extends Tn{constructor(t,n,s){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=s}}class Rr extends Tn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const df="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),hf=` 	
\r=`.split(""),bj=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<hf.length;t+=1)e[hf[t].charCodeAt(0)]=-2;for(let t=0;t<df.length;t+=1)e[df[t].charCodeAt(0)]=t;return e})();function X0(e,t,n){const s=bj[e];if(s>-1)for(t.queue=t.queue<<6|s,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function ff(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},s={utf8seq:0,codepoint:0},r={queue:0,queuedBits:0},i=o=>{kj(o,s,n)};for(let o=0;o<e.length;o+=1)X0(e.charCodeAt(o),r,i);return t.join("")}function Sj(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function jj(e,t){for(let n=0;n<e.length;n+=1){let s=e.charCodeAt(n);if(s>55295&&s<=56319){const r=(s-55296)*1024&65535;s=(e.charCodeAt(n+1)-56320&65535|r)+65536,n+=1}Sj(s,t)}}function kj(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let s=1;s<6;s+=1)if(!(e>>7-s&1)){t.utf8seq=s;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function _j(e){const t=[],n={queue:0,queuedBits:0},s=r=>{t.push(r)};for(let r=0;r<e.length;r+=1)X0(e.charCodeAt(r),n,s);return new Uint8Array(t)}function Ej(e){const t=[];return jj(e,n=>t.push(n)),new Uint8Array(t)}function Nj(e){return Math.round(Date.now()/1e3)+e}function Cj(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const _t=()=>typeof window<"u"&&typeof document<"u",Rn={tested:!1,writable:!1},Or=()=>{if(!_t())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Rn.tested)return Rn.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Rn.tested=!0,Rn.writable=!0}catch{Rn.tested=!0,Rn.writable=!1}return Rn.writable};function Tj(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((r,i)=>{t[i]=r})}catch{}return n.searchParams.forEach((s,r)=>{t[r]=s}),t}const Z0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Ot(async()=>{const{default:s}=await Promise.resolve().then(()=>Zs);return{default:s}},void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)},Pj=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ev=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},eo=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},to=async(e,t)=>{await e.removeItem(t)};class Na{constructor(){this.promise=new Na.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Na.promiseConstructor=Promise;function dl(e){const t=e.split(".");if(t.length!==3)throw new Rr("Invalid JWT structure");for(let s=0;s<t.length;s++)if(!pj.test(t[s]))throw new Rr("JWT not in base64url format");return{header:JSON.parse(ff(t[0])),payload:JSON.parse(ff(t[1])),signature:_j(t[2]),raw:{header:t[0],payload:t[1]}}}async function Aj(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Rj(e,t){return new Promise((s,r)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){s(o);return}}catch(o){if(!t(i,o)){r(o);return}}})()})}function Oj(e){return("0"+e.toString(16)).substr(-2)}function Ij(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=n.length;let r="";for(let i=0;i<56;i++)r+=n.charAt(Math.floor(Math.random()*s));return r}return crypto.getRandomValues(t),Array.from(t,Oj).join("")}async function Lj(e){const n=new TextEncoder().encode(e),s=await crypto.subtle.digest("SHA-256",n),r=new Uint8Array(s);return Array.from(r).map(i=>String.fromCharCode(i)).join("")}async function Dj(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await Lj(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ls(e,t,n=!1){const s=Ij();let r=s;n&&(r+="/PASSWORD_RECOVERY"),await ev(e,`${t}-code-verifier`,r);const i=await Dj(s);return[i,s===i?"plain":"s256"]}const Mj=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function $j(e){const t=e.headers.get(Pc);if(!t||!t.match(Mj))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Uj(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Fj(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var zj=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(e);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(e,s[r])&&(n[s[r]]=e[s[r]]);return n};const Dn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Vj=[502,503,504];async function mf(e){var t;if(!Pj(e))throw new Ac(Dn(e),0);if(Vj.includes(e.status))throw new Ac(Dn(e),e.status);let n;try{n=await e.json()}catch(i){throw new Q0(Dn(i),i)}let s;const r=$j(e);if(r&&r.getTime()>=Y0["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?s=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(s=n.error_code),s){if(s==="weak_password")throw new uf(Dn(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(s==="session_not_found")throw new Xt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new uf(Dn(n),e.status,n.weak_password.reasons);throw new vj(Dn(n),e.status||500,s)}const Bj=(e,t,n,s)=>{const r={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),r.body=JSON.stringify(s),Object.assign(Object.assign({},r),n))};async function G(e,t,n,s){var r;const i=Object.assign({},s==null?void 0:s.headers);i[Pc]||(i[Pc]=Y0["2024-01-01"].name),s!=null&&s.jwt&&(i.Authorization=`Bearer ${s.jwt}`);const o=(r=s==null?void 0:s.query)!==null&&r!==void 0?r:{};s!=null&&s.redirectTo&&(o.redirect_to=s.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await Hj(e,t,n+l,{headers:i,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(c):{data:Object.assign({},c),error:null}}async function Hj(e,t,n,s,r,i){const o=Bj(t,s,r,i);let l;try{l=await e(n,Object.assign({},o))}catch(c){throw console.error(c),new Ac(Dn(c),0)}if(l.ok||await mf(l),s!=null&&s.noResolveJson)return l;try{return await l.json()}catch(c){await mf(c)}}function Zt(e){var t;let n=null;Kj(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=Nj(e.expires_in)));const s=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:s},error:null}}function pf(e){const t=Zt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,s)=>n&&typeof s=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ln(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function qj(e){return{data:e,error:null}}function Wj(e){const{action_link:t,email_otp:n,hashed_token:s,redirect_to:r,verification_type:i}=e,o=zj(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:s,redirect_to:r,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function Gj(e){return e}function Kj(e){return e.access_token&&e.refresh_token&&e.expires_in}var Jj=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(e);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(e,s[r])&&(n[s[r]]=e[s[r]]);return n};class Yj{constructor({url:t="",headers:n={},fetch:s}){this.url=t,this.headers=n,this.fetch=Z0(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n="global"){try{return await G(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(s){if(q(s))return{data:null,error:s};throw s}}async inviteUserByEmail(t,n={}){try{return await G(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:ln})}catch(s){if(q(s))return{data:{user:null},error:s};throw s}}async generateLink(t){try{const{options:n}=t,s=Jj(t,["options"]),r=Object.assign(Object.assign({},s),n);return"newEmail"in s&&(r.new_email=s==null?void 0:s.newEmail,delete r.newEmail),await G(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:Wj,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(q(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await G(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ln})}catch(n){if(q(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,s,r,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await G(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(i=(r=t==null?void 0:t.perPage)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:""},xform:Gj});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(p=>{const x=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(p.split(";")[1].split("=")[1]);u[`${b}Page`]=x}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(q(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await G(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ln})}catch(n){if(q(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){try{return await G(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:ln})}catch(s){if(q(s))return{data:{user:null},error:s};throw s}}async deleteUser(t,n=!1){try{return await G(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:ln})}catch(s){if(q(s))return{data:{user:null},error:s};throw s}}async _listFactors(t){try{const{data:n,error:s}=await G(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:n,error:s}}catch(n){if(q(n))return{data:null,error:n};throw n}}async _deleteFactor(t){try{return{data:await G(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(q(n))return{data:null,error:n};throw n}}}const Qj={getItem:e=>Or()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Or()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Or()&&globalThis.localStorage.removeItem(e)}};function gf(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function Xj(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const cs={debug:!!(globalThis&&Or()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class tv extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Zj extends tv{}async function ek(e,t,n){cs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const s=new globalThis.AbortController;return t>0&&setTimeout(()=>{s.abort(),cs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async r=>{if(r){cs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,r.name);try{return await n()}finally{cs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,r.name)}}else{if(t===0)throw cs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Zj(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(cs.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}Xj();const tk={url:hj,storageKey:fj,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:mj,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function vf(e,t,n){return await n()}class ii{constructor(t){var n,s;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ii.nextInstanceID,ii.nextInstanceID+=1,this.instanceID>0&&_t()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},tk),t);if(this.logDebugMessages=!!r.debug,typeof r.debug=="function"&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new Yj({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=Z0(r.fetch),this.lock=r.lock||vf,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:_t()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=ek:this.lock=vf,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?r.storage?this.storage=r.storage:Or()?this.storage=Qj:(this.memoryStorage={},this.storage=gf(this.memoryStorage)):(this.memoryStorage={},this.storage=gf(this.memoryStorage)),_t()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${J0}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=Tj(window.location.href);let s="none";if(this._isImplicitGrantCallback(n)?s="implicit":await this._isPKCECallback(n)&&(s="pkce"),_t()&&this.detectSessionInUrl&&s!=="none"){const{data:r,error:i}=await this._getSessionFromURL(n,s);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),wj(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=r;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return q(n)?{error:n}:{error:new Q0("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,s,r;try{const i=await G(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.captchaToken}},xform:Zt}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(q(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var n,s,r;try{let i;if("email"in t){const{email:d,password:h,options:f}=t;let m=null,p=null;this.flowType==="pkce"&&([m,p]=await ls(this.storage,this.storageKey)),i=await G(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:m,code_challenge_method:p},xform:Zt})}else if("phone"in t){const{phone:d,password:h,options:f}=t;i=await G(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(s=f==null?void 0:f.data)!==null&&s!==void 0?s:{},channel:(r=f==null?void 0:f.channel)!==null&&r!==void 0?r:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Zt})}else throw new Xi("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(q(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:o,options:l}=t;n=await G(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:pf})}else if("phone"in t){const{phone:i,password:o,options:l}=t;n=await G(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:pf})}else throw new Xi("You must provide either an email or phone number and a password");const{data:s,error:r}=n;return r?{data:{user:null,session:null},error:r}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new cl}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:r})}catch(n){if(q(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,s,r,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(r=t.options)===null||r===void 0?void 0:r.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const n=await eo(this.storage,`${this.storageKey}-code-verifier`),[s,r]=(n??"").split("/");try{const{data:i,error:o}=await G(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:s},xform:Zt});if(await to(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new cl}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:r??null}),error:o})}catch(i){if(q(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:n,provider:s,token:r,access_token:i,nonce:o}=t,l=await G(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:r,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Zt}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new cl}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if(q(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,s,r,i,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await ls(this.storage,this.storageKey));const{error:h}=await G(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await G(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Xi("You must provide either an email or phone number.")}catch(l){if(q(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,s;try{let r,i;"options"in t&&(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(s=t.options)===null||s===void 0?void 0:s.captchaToken);const{data:o,error:l}=await G(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:r,xform:Zt});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(r){if(q(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(t){var n,s,r;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await ls(this.storage,this.storageKey)),await G(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&s!==void 0?s:void 0}),!((r=t==null?void 0:t.options)===null||r===void 0)&&r.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:qj})}catch(i){if(q(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:s}=t;if(s)throw s;if(!n)throw new Xt;const{error:r}=await G(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:r}})}catch(t){if(q(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:s,type:r,options:i}=t,{error:o}=await G(this.fetch,"POST",n,{headers:this.headers,body:{email:s,type:r,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:s,type:r,options:i}=t,{data:o,error:l}=await G(this.fetch,"POST",n,{headers:this.headers,body:{phone:s,type:r,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Xi("You must provide either an email or phone number and a type")}catch(n){if(q(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await s,await n()))();return this.pendingInLock.push((async()=>{try{await r}catch{}})()),r}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=n();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const r=[...this.pendingInLock];await Promise.all(r),this.pendingInLock.splice(0,r.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await eo(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const s=t.expires_at?t.expires_at*1e3-Date.now()<ll:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",t.expires_at),!s){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:r,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await G(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ln}):await this._useSession(async n=>{var s,r,i;const{data:o,error:l}=n;if(l)throw l;return!(!((s=o.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Xt}:await G(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0,xform:ln})})}catch(n){if(q(n))return xj(n)&&(await this._removeSession(),await to(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async s=>{const{data:r,error:i}=s;if(i)throw i;if(!r.session)throw new Xt;const o=r.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await ls(this.storage,this.storageKey));const{data:u,error:d}=await G(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:ln});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(s){if(q(s))return{data:{user:null},error:s};throw s}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Xt;const n=Date.now()/1e3;let s=n,r=!0,i=null;const{payload:o}=dl(t.access_token);if(o.exp&&(s=o.exp,r=s<=n),r){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:s-n,expires_at:s},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(q(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var s;if(!t){const{data:o,error:l}=n;if(l)throw l;t=(s=o.session)!==null&&s!==void 0?s:void 0}if(!(t!=null&&t.refresh_token))throw new Xt;const{session:r,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(q(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!_t())throw new Zi("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Zi(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new cf("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Zi("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new cf("No code detected.");const{data:v,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:r,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!o||!u)throw new Zi("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let f=d+h;c&&(f=parseInt(c));const m=f-d;m*1e3<=ds&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${h}s`);const p=f-h;d-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,f,d):d-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,f,d);const{data:x,error:b}=await this._getUser(i);if(b)throw b;const g={provider_token:s,provider_refresh_token:r,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:u,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:t.type},error:null}}catch(s){if(q(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await eo(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var s;const{data:r,error:i}=n;if(i)return{error:i};const o=(s=r.session)===null||s===void 0?void 0:s.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(yj(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await to(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=Cj(),s={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:s}}}async _emitInitialSession(t){return await this._useSession(async n=>{var s,r;try{const{data:{session:i},error:o}=n;if(o)throw o;await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let s=null,r=null;this.flowType==="pkce"&&([s,r]=await ls(this.storage,this.storageKey,!0));try{return await G(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:s,code_challenge_method:r,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(q(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:n,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(q(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:s,error:r}=await this._useSession(async i=>{var o,l,c,u,d;const{data:h,error:f}=i;if(f)throw f;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await G(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(r)throw r;return _t()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),{data:{provider:t.provider,url:s==null?void 0:s.url},error:null}}catch(s){if(q(s))return{data:{provider:t.provider,url:null},error:s};throw s}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var s,r;const{data:i,error:o}=n;if(o)throw o;return await G(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(r=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&r!==void 0?r:void 0})})}catch(n){if(q(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const s=Date.now();return await Rj(async r=>(r>0&&await Aj(200*Math.pow(2,r-1)),this._debug(n,"refreshing attempt",r),await G(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Zt})),(r,i)=>{const o=200*Math.pow(2,r);return i&&ul(i)&&Date.now()+o-s<ds})}catch(s){if(this._debug(n,"error",s),q(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const s=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",s),_t()&&!n.skipBrowserRedirect&&window.location.assign(s),{data:{provider:t,url:s},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await eo(this.storage,this.storageKey);if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const r=((t=s.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<ll;if(this._debug(n,`session has${r?"":" not"} expired with margin of ${ll}s`),r){if(this.autoRefreshToken&&s.refresh_token){const{error:i}=await this._callRefreshToken(s.refresh_token);i&&(console.error(i),ul(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,s;if(!t)throw new Xt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new Na;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Xt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(r,"error",i),q(i)){const o={session:null,error:i};return ul(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(i),i}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(t,n,s=!0){const r=`#_notifyAllSubscribers(${t})`;this._debug(r,"begin",n,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(r,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await ev(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await to(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&_t()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ds);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:s}}=n;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const r=Math.floor((s.expires_at*1e3-t)/ds);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts ${ds}ms, refresh threshold is ${Tc} ticks`),r<=Tc&&await this._callRefreshToken(s.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof tv)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!_t()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,s){const r=[`provider=${encodeURIComponent(n)}`];if(s!=null&&s.redirectTo&&r.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&r.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[i,o]=await ls(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});r.push(l.toString())}if(s!=null&&s.queryParams){const i=new URLSearchParams(s.queryParams);r.push(i.toString())}return s!=null&&s.skipBrowserRedirect&&r.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${t}?${r.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var s;const{data:r,error:i}=n;return i?{data:null,error:i}:await G(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(s=r==null?void 0:r.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(q(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var s,r;const{data:i,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await G(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((r=c==null?void 0:c.totp)===null||r===void 0)&&r.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(q(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:r,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:l}=await G(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(s=r==null?void 0:r.session)===null||s===void 0?void 0:s.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(n){if(q(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:r,error:i}=n;return i?{data:null,error:i}:await G(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(s=r==null?void 0:r.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(q(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:s}=await this._challenge({factorId:t.factorId});return s?{data:null,error:s}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const s=(t==null?void 0:t.factors)||[],r=s.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=s.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:s,totp:r,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,s;const{data:{session:r},error:i}=t;if(i)return{data:null,error:i};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=dl(r.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((s=(n=r.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,n={keys:[]}){let s=n.keys.find(o=>o.kid===t);if(s||(s=this.jwks.keys.find(o=>o.kid===t),s&&this.jwks_cached_at+gj>Date.now()))return s;const{data:r,error:i}=await G(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!r.keys||r.keys.length===0)throw new Rr("JWKS is empty");if(this.jwks=r,this.jwks_cached_at=Date.now(),s=r.keys.find(o=>o.kid===t),!s)throw new Rr("No matching signing key found in JWKS");return s}async getClaims(t,n={keys:[]}){try{let s=t;if(!s){const{data:m,error:p}=await this.getSession();if(p||!m.session)return{data:null,error:p};s=m.session.access_token}const{header:r,payload:i,signature:o,raw:{header:l,payload:c}}=dl(s);if(Uj(i.exp),!r.kid||r.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:m}=await this.getUser(s);if(m)throw m;return{data:{claims:i,header:r,signature:o},error:null}}const u=Fj(r.alg),d=await this.fetchJwk(r.kid,n),h=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,Ej(`${l}.${c}`)))throw new Rr("Invalid JWT signature");return{data:{claims:i,header:r,signature:o},error:null}}catch(s){if(q(s))return{data:null,error:s};throw s}}}ii.nextInstanceID=0;const nk=ii;class sk extends nk{constructor(t){super(t)}}var rk=function(e,t,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(s.next(d))}catch(h){o(h)}}function c(d){try{u(s.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):r(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};class ik{constructor(t,n,s){var r,i,o;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const l=uj(t);this.realtimeUrl=`${l}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${l}/auth/v1`,this.storageUrl=`${l}/storage/v1`,this.functionsUrl=`${l}/functions/v1`;const c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:nj,realtime:rj,auth:Object.assign(Object.assign({},sj),{storageKey:c}),global:tj},d=dj(s??{},u);this.storageKey=(r=d.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=lj(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new jS(`${l}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new Zb(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new XS(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},s={}){return this.rest.rpc(t,n,s)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return rk(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(n=(t=s.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:s,storage:r,storageKey:i,flowType:o,lock:l,debug:c},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new sk({url:this.authUrl,headers:Object.assign(Object.assign({},h),u),storageKey:i,autoRefreshToken:t,persistSession:n,detectSessionInUrl:s,storage:r,flowType:o,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new $S(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,s)=>{this._handleTokenChanged(n,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(t,n,s){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==s?this.changedAccessToken=s:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const ok=(e,t,n)=>new ik(e,t,n);console.log("Environment variables check:");console.log("NODE_ENV:","production");console.log("VITE_SUPABASE_URL exists:",!0);console.log("VITE_SUPABASE_ANON_KEY exists:",!0);console.log("VITE_SUPABASE_URL:","https://bbixvnkqroskholbxkgj.supabase.co");console.log("VITE_SUPABASE_ANON_KEY:","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJiaXh2bmtxcm9za2hvbGJ4a2dqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcwMTg3NjMsImV4cCI6MjA2MjU5NDc2M30.6oGRIhAuzrOq3UI9bOUlxyIoaslzK_UtjrgaxV9WIrU");const ak="https://bbixvnkqroskholbxkgj.supabase.co",lk="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJiaXh2bmtxcm9za2hvbGJ4a2dqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcwMTg3NjMsImV4cCI6MjA2MjU5NDc2M30.6oGRIhAuzrOq3UI9bOUlxyIoaslzK_UtjrgaxV9WIrU",A=ok(ak,lk),Ci="/accreda.github.io/assets/accreda-logo-rSXzK5SL.png";function ck(){var f;const[e,t]=y.useState(""),[n,s]=y.useState(""),[r,i]=y.useState(null),[o,l]=y.useState(!1),c=ft(),d=(f=Yt().state)==null?void 0:f.message,h=async m=>{m.preventDefault(),i(null),l(!0);try{console.log("Attempting login...");const{data:p,error:x}=await A.auth.signInWithPassword({email:e,password:n});if(x)throw console.error("Login error:",x),x;if(p!=null&&p.user)console.log("Login successful, navigating to dashboard..."),c("/dashboard");else throw new Error("No user data received after successful login")}catch(p){console.error("Login error details:",p),p instanceof Error?p.message.includes("Invalid login credentials")?i("Invalid email or password"):p.message.includes("Email not confirmed")?i("Please confirm your email address before logging in"):i(p.message):i("An unexpected error occurred during login")}finally{l(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-slate-50 to-slate-100 py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-8 rounded-xl shadow-lg",children:[a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("img",{src:Ci,alt:"Accreda Logo",className:"h-24 w-auto mb-6"}),a.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Welcome back"}),a.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Sign in to your EIT Track account"})]}),d&&a.jsx("div",{className:"rounded-lg bg-green-50 p-4 border border-green-100",children:a.jsx("div",{className:"text-sm text-green-700",children:d})}),a.jsxs("form",{className:"mt-8 space-y-6",onSubmit:h,children:[r&&a.jsx("div",{className:"rounded-lg bg-red-50 p-4 border border-red-100",children:a.jsx("div",{className:"text-sm text-red-700",children:r})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email-address",className:"block text-sm font-medium text-slate-700 mb-1",children:"Email address"}),a.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-slate-300 placeholder-slate-400 text-slate-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent sm:text-sm transition-colors",placeholder:"Enter your email",value:e,onChange:m=>t(m.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700 mb-1",children:"Password"}),a.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-slate-300 placeholder-slate-400 text-slate-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent sm:text-sm transition-colors",placeholder:"Enter your password",value:n,onChange:m=>s(m.target.value)})]})]}),a.jsx("div",{className:"flex items-center justify-end",children:a.jsx("div",{className:"text-sm",children:a.jsx(ot,{to:"/forgot-password",className:"font-medium text-teal-600 hover:text-teal-500 transition-colors",children:"Forgot your password?"})})}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:o,className:"group relative w-full flex justify-center py-2.5 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-teal-600 hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 transition-colors disabled:opacity-75 disabled:cursor-not-allowed",children:o?"Signing in...":"Sign in"})}),a.jsx("div",{className:"text-center",children:a.jsxs("p",{className:"text-sm text-slate-600",children:["Don't have an account?"," ",a.jsx(ot,{to:"/signup",className:"font-medium text-teal-600 hover:text-teal-500 transition-colors",children:"Create one now"})]})})]})]})})}function uk(){const[e,t]=y.useState({email:"",password:"",confirmPassword:"",fullName:"",organization:"",accountType:"eit"}),[n,s]=y.useState(null),[r,i]=y.useState(!1),[o,l]=y.useState(null),c=ft(),u=async d=>{d.preventDefault(),s(null),i(!0);try{if(e.password!==e.confirmPassword)throw new Error("Passwords do not match");if(e.password.length<6)throw new Error("Password must be at least 6 characters long");if(!e.fullName.trim())throw new Error("Full name is required");if(e.accountType==="supervisor"&&!e.organization.trim())throw new Error("Organization is required for supervisors");console.log("Creating auth user with:",{email:e.email,accountType:e.accountType});const{data:h,error:f}=await A.auth.signUp({email:e.email,password:e.password,options:{emailRedirectTo:`${window.location.origin}/login`}});if(f)throw console.error("Auth error:",f),new Error(`Authentication error: ${f.message}`);if(!h.user)throw console.error("No user data returned from auth signup"),new Error("Failed to create user account");console.log("Auth user created:",h.user.id);const m={id:h.user.id,email:e.email,full_name:e.fullName,account_type:e.accountType,...e.accountType==="supervisor"&&{organization:e.organization}};console.log("Creating profile with data:",m);const{error:p}=await A.from(e.accountType==="eit"?"eit_profiles":"supervisor_profiles").insert([m]);if(p)throw console.error("Profile creation error:",p),new Error(`Failed to create profile: ${p.message}`);console.log("Profile created successfully"),l("Account created successfully! Please check your email for verification."),t({email:"",password:"",confirmPassword:"",fullName:"",organization:"",accountType:"eit"}),c("/login",{state:{message:"Please check your email to confirm your account. You can now sign in."}})}catch(h){console.error("Signup error:",h);let f=h instanceof Error?h.message:"An error occurred during signup";(f.includes("duplicate key value")||f.includes("unique constraint")||f.toLowerCase().includes("already exists"))&&(f="An account with this email already exists. Please log in or use a different email address."),s(f)}finally{i(!1)}};return y.useEffect(()=>{A.auth.getSession().then(({data:{session:d}})=>{})},[]),a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-slate-50 to-slate-100 py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-8 rounded-xl shadow-lg",children:[a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("img",{src:Ci,alt:"Accreda Logo",className:"h-24 w-auto mb-6"}),a.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Create your account"}),a.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Join Accreda to start your journey"})]}),a.jsxs("form",{className:"mt-8 space-y-6",onSubmit:u,children:[n&&a.jsx("div",{className:"rounded-lg bg-red-50 p-4 border border-red-100",children:a.jsx("div",{className:"text-sm text-red-700",children:n})}),o&&a.jsx("div",{className:"rounded-lg bg-green-50 p-4 border border-green-100",children:a.jsx("div",{className:"text-sm text-green-700",children:o})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-center mb-4 gap-3",children:[a.jsx("button",{type:"button",className:`px-4 py-2 rounded-lg border font-semibold transition-all duration-200 transform focus:outline-none focus:ring-2 focus:ring-teal-400
                  ${e.accountType==="eit"?"bg-teal-600 text-white scale-105 shadow-lg":"bg-white text-teal-600 border-teal-600 hover:scale-105 hover:brightness-95"}
                `,onClick:()=>t({...e,accountType:"eit"}),children:"EIT"}),a.jsx("button",{type:"button",className:`px-4 py-2 rounded-lg border font-semibold transition-all duration-200 transform focus:outline-none focus:ring-2 focus:ring-teal-400
                  ${e.accountType==="supervisor"?"bg-teal-600 text-white scale-105 shadow-lg":"bg-white text-teal-600 border-teal-600 hover:scale-105 hover:brightness-95"}
                `,onClick:()=>t({...e,accountType:"supervisor"}),children:"Supervisor"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"full-name",className:"block text-sm font-medium text-slate-700 mb-1",children:"Full Name"}),a.jsx("input",{id:"full-name",name:"full-name",type:"text",autoComplete:"name",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-slate-300 placeholder-slate-400 text-slate-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent sm:text-sm transition-colors",placeholder:"Enter your full name",value:e.fullName,onChange:d=>t({...e,fullName:d.target.value})})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"organization",className:"block text-sm font-medium text-slate-700 mb-1",children:"Organization"}),a.jsx("input",{id:"organization",name:"organization",type:"text",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-slate-300 placeholder-slate-400 text-slate-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent sm:text-sm transition-colors",placeholder:"Enter your organization",value:e.organization,onChange:d=>t({...e,organization:d.target.value})})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email-address",className:"block text-sm font-medium text-slate-700 mb-1",children:"Email address"}),a.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-slate-300 placeholder-slate-400 text-slate-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent sm:text-sm transition-colors",placeholder:"Enter your email",value:e.email,onChange:d=>t({...e,email:d.target.value})})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700 mb-1",children:"Password"}),a.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-slate-300 placeholder-slate-400 text-slate-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent sm:text-sm transition-colors",placeholder:"Create a password",value:e.password,onChange:d=>t({...e,password:d.target.value})})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"confirm-password",className:"block text-sm font-medium text-slate-700 mb-1",children:"Confirm Password"}),a.jsx("input",{id:"confirm-password",name:"confirm-password",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-slate-300 placeholder-slate-400 text-slate-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent sm:text-sm transition-colors",placeholder:"Confirm your password",value:e.confirmPassword,onChange:d=>t({...e,confirmPassword:d.target.value})})]})]}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:r,className:"group relative w-full flex justify-center py-2.5 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-teal-600 hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 transition-colors disabled:opacity-75 disabled:cursor-not-allowed",children:r?"Creating account...":"Create account"})}),a.jsx("div",{className:"text-center",children:a.jsxs("p",{className:"text-sm text-slate-600",children:["Already have an account?"," ",a.jsx(ot,{to:"/login",className:"font-medium text-teal-600 hover:text-teal-500 transition-colors",children:"Sign in"})]})})]})]})})}function dk(){const[e,t]=y.useState(""),[n,s]=y.useState(null),[r,i]=y.useState(null),[o,l]=y.useState(!1),c=async u=>{u.preventDefault(),s(null),i(null),l(!0);try{const{error:d}=await A.auth.resetPasswordForEmail(e,{redirectTo:`${window.location.origin}/reset-password`});if(d)throw d;i("Password reset instructions have been sent to your email address."),t("")}catch(d){s(d instanceof Error?d.message:"An error occurred while sending reset instructions")}finally{l(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-slate-50 to-slate-100 py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-8 rounded-xl shadow-lg",children:[a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("img",{src:Ci,alt:"Accreda Logo",className:"h-24 w-auto mb-6"}),a.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Reset your password"}),a.jsx("p",{className:"mt-2 text-sm text-slate-600 text-center",children:"Enter your email address and we'll send you instructions to reset your password"})]}),r&&a.jsx("div",{className:"rounded-lg bg-green-50 p-4 border border-green-100",children:a.jsx("div",{className:"text-sm text-green-700",children:r})}),a.jsxs("form",{className:"mt-8 space-y-6",onSubmit:c,children:[n&&a.jsx("div",{className:"rounded-lg bg-red-50 p-4 border border-red-100",children:a.jsx("div",{className:"text-sm text-red-700",children:n})}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email-address",className:"block text-sm font-medium text-slate-700 mb-1",children:"Email address"}),a.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-slate-300 placeholder-slate-400 text-slate-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent sm:text-sm transition-colors",placeholder:"Enter your email",value:e,onChange:u=>t(u.target.value)})]}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:o,className:"group relative w-full flex justify-center py-2.5 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-teal-600 hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 transition-colors disabled:opacity-75 disabled:cursor-not-allowed",children:o?"Sending instructions...":"Send reset instructions"})}),a.jsx("div",{className:"text-center",children:a.jsxs("p",{className:"text-sm text-slate-600",children:["Remember your password?"," ",a.jsx(ot,{to:"/login",className:"font-medium text-teal-600 hover:text-teal-500 transition-colors",children:"Sign in"})]})})]})]})})}function hk(){const[e,t]=y.useState(""),[n,s]=y.useState(""),[r,i]=y.useState(null),[o,l]=y.useState(!1),c=ft();y.useEffect(()=>{A.auth.getSession().then(({data:{session:d}})=>{d||c("/login",{state:{message:"Password reset link is invalid or has expired. Please try again."}})})},[c]);const u=async d=>{if(d.preventDefault(),i(null),e!==n){i("Passwords do not match");return}if(e.length<6){i("Password must be at least 6 characters long");return}l(!0);try{const{error:h}=await A.auth.updateUser({password:e});if(h)throw h;await A.auth.signOut(),c("/login",{state:{message:"Your password has been reset successfully. Please sign in with your new password."}})}catch(h){i(h instanceof Error?h.message:"An error occurred while resetting your password")}finally{l(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-slate-50 to-slate-100 py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-8 rounded-xl shadow-lg",children:[a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("img",{src:Ci,alt:"Accreda Logo",className:"h-24 w-auto mb-6"}),a.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Set new password"}),a.jsx("p",{className:"mt-2 text-sm text-slate-600 text-center",children:"Please enter your new password below"})]}),a.jsxs("form",{className:"mt-8 space-y-6",onSubmit:u,children:[r&&a.jsx("div",{className:"rounded-lg bg-red-50 p-4 border border-red-100",children:a.jsx("div",{className:"text-sm text-red-700",children:r})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700 mb-1",children:"New Password"}),a.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-slate-300 placeholder-slate-400 text-slate-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent sm:text-sm transition-colors",placeholder:"Enter your new password",value:e,onChange:d=>t(d.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"confirm-password",className:"block text-sm font-medium text-slate-700 mb-1",children:"Confirm New Password"}),a.jsx("input",{id:"confirm-password",name:"confirm-password",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-slate-300 placeholder-slate-400 text-slate-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent sm:text-sm transition-colors",placeholder:"Confirm your new password",value:n,onChange:d=>s(d.target.value)})]})]}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:o,className:"group relative w-full flex justify-center py-2.5 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-teal-600 hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 transition-colors disabled:opacity-75 disabled:cursor-not-allowed",children:o?"Resetting password...":"Reset password"})})]})]})})}/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var fk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mk=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),V=(e,t)=>{const n=y.forwardRef(({color:s="currentColor",size:r=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,...u},d)=>y.createElement("svg",{ref:d,...fk,width:r,height:r,stroke:s,strokeWidth:o?Number(i)*24/Number(r):i,className:["lucide",`lucide-${mk(e)}`,l].join(" "),...u},[...t.map(([h,f])=>y.createElement(h,f)),...Array.isArray(c)?c:[c]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nv=V("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sv=V("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pk=V("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=V("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gk=V("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vk=V("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const td=V("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yk=V("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iv=V("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xk=V("Bold",[["path",{d:"M14 12a4 4 0 0 0 0-8H6v8",key:"v2sylx"}],["path",{d:"M15 20a4 4 0 0 0 0-8H6v8Z",key:"1ef5ya"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nd=V("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ov=V("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yf=V("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oi=V("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const av=V("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qs=V("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wk=V("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bk=V("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lv=V("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sk=V("CircleDot",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jk=V("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=V("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kk=V("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _k=V("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ek=V("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sd=V("FilePen",[["path",{d:"M12 22h6a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v10",key:"x7tsz2"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10.4 12.6a2 2 0 1 1 3 3L8 21l-4 1 1-4Z",key:"o3xyfb"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tr=V("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nk=V("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ck=V("GraduationCap",[["path",{d:"M22 10v6M2 10l10-5 10 5-10 5z",key:"1ef52a"}],["path",{d:"M6 12v5c3 3 9 3 12 0v-5",key:"1f75yj"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uv=V("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rd=V("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tk=V("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pk=V("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ak=V("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rk=V("ListOrdered",[["line",{x1:"10",x2:"21",y1:"6",y2:"6",key:"76qw6h"}],["line",{x1:"10",x2:"21",y1:"12",y2:"12",key:"16nom4"}],["line",{x1:"10",x2:"21",y1:"18",y2:"18",key:"u3jurt"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ok=V("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ik=V("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lk=V("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dv=V("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hv=V("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dk=V("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ai=V("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xf=V("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fv=V("PenTool",[["path",{d:"m12 19 7-7 3 3-7 7-3-3z",key:"rklqx2"}],["path",{d:"m18 13-1.5-7.5L2 2l3.5 14.5L13 18l5-5z",key:"1et58u"}],["path",{d:"m2 2 7.586 7.586",key:"etlp93"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const li=V("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ci=V("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const id=V("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mv=V("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mk=V("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pv=V("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $k=V("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uk=V("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fk=V("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ti=V("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zk=V("Underline",[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vk=V("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bk=V("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ca=V("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=V("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Hk={},wf=e=>{let t;const n=new Set,s=(d,h)=>{const f=typeof d=="function"?d(t):d;if(!Object.is(f,t)){const m=t;t=h??(typeof f!="object"||f===null)?f:Object.assign({},t,f),n.forEach(p=>p(t,m))}},r=()=>t,c={setState:s,getState:r,getInitialState:()=>u,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(Hk?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(s,r,c);return c},qk=e=>e?wf(e):wf;var gv={exports:{}},vv={},yv={exports:{}},xv={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ws=y;function Wk(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Gk=typeof Object.is=="function"?Object.is:Wk,Kk=Ws.useState,Jk=Ws.useEffect,Yk=Ws.useLayoutEffect,Qk=Ws.useDebugValue;function Xk(e,t){var n=t(),s=Kk({inst:{value:n,getSnapshot:t}}),r=s[0].inst,i=s[1];return Yk(function(){r.value=n,r.getSnapshot=t,hl(r)&&i({inst:r})},[e,n,t]),Jk(function(){return hl(r)&&i({inst:r}),e(function(){hl(r)&&i({inst:r})})},[e]),Qk(n),n}function hl(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Gk(e,n)}catch{return!0}}function Zk(e,t){return t()}var e_=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Zk:Xk;xv.useSyncExternalStore=Ws.useSyncExternalStore!==void 0?Ws.useSyncExternalStore:e_;yv.exports=xv;var t_=yv.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ta=y,n_=t_;function s_(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var r_=typeof Object.is=="function"?Object.is:s_,i_=n_.useSyncExternalStore,o_=Ta.useRef,a_=Ta.useEffect,l_=Ta.useMemo,c_=Ta.useDebugValue;vv.useSyncExternalStoreWithSelector=function(e,t,n,s,r){var i=o_(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=l_(function(){function c(m){if(!u){if(u=!0,d=m,m=s(m),r!==void 0&&o.hasValue){var p=o.value;if(r(p,m))return h=p}return h=m}if(p=h,r_(d,m))return p;var x=s(m);return r!==void 0&&r(p,x)?(d=m,p):(d=m,h=x)}var u=!1,d,h,f=n===void 0?null:n;return[function(){return c(t())},f===null?void 0:function(){return c(f())}]},[t,n,s,r]);var l=i_(e,i[0],i[1]);return a_(function(){o.hasValue=!0,o.value=l},[l]),c_(l),l};gv.exports=vv;var u_=gv.exports;const d_=Xc(u_),wv={},{useDebugValue:h_}=Te,{useSyncExternalStoreWithSelector:f_}=d_;let bf=!1;const m_=e=>e;function p_(e,t=m_,n){(wv?"production":void 0)!=="production"&&n&&!bf&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),bf=!0);const s=f_(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return h_(s),s}const Sf=e=>{(wv?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?qk(e):e,n=(s,r)=>p_(t,s,r);return Object.assign(n,t),n},rs=e=>e?Sf(e):Sf,no=[{name:"Category 1  Technical Competence",skills:[{id:"temp-1",name:"1.1 Regulations, Codes & Standards",status:"not-started",rank:void 0},{id:"temp-2",name:"1.2 Technical & Design Constraints",status:"not-started",rank:void 0},{id:"temp-3",name:"1.3 Risk Management for Technical Work",status:"not-started",rank:void 0},{id:"temp-4",name:"1.4 Application of Theory",status:"not-started",rank:void 0},{id:"temp-5",name:"1.5 Solution Techniques  Results Verification",status:"not-started",rank:void 0},{id:"temp-6",name:"1.6 Safety in Design & Technical Work",status:"not-started",rank:void 0},{id:"temp-7",name:"1.7 Systems & Their Components",status:"not-started",rank:void 0},{id:"temp-8",name:"1.8 Project or Asset Life-Cycle Awareness",status:"not-started",rank:void 0},{id:"temp-9",name:"1.9 Quality Assurance",status:"not-started",rank:void 0},{id:"temp-10",name:"1.10 Engineering Documentation",status:"not-started",rank:void 0}]},{name:"Category 2  Communication",skills:[{id:"temp-11",name:"2.1 Oral Communication (English)",status:"not-started",rank:void 0},{id:"temp-12",name:"2.2 Written Communication (English)",status:"not-started",rank:void 0},{id:"temp-13",name:"2.3 Reading & Comprehension (English)",status:"not-started",rank:void 0}]},{name:"Category 3  Project & Financial Management",skills:[{id:"temp-14",name:"3.1 Project Management Principles",status:"not-started",rank:void 0},{id:"temp-15",name:"3.2 Finances & Budget",status:"not-started",rank:void 0}]},{name:"Category 4  Team Effectiveness",skills:[{id:"temp-16",name:"4.1 Promote Team Effectiveness & Resolve Conflict",status:"not-started",rank:void 0}]},{name:"Category 5  Professional Accountability",skills:[{id:"temp-17",name:"5.1 Professional Accountability (Ethics, Liability, Limits)",status:"not-started",rank:void 0}]},{name:"Category 6  Social, Economic, Environmental & Sustainability",skills:[{id:"temp-18",name:"6.1 Protection of the Public Interest",status:"not-started",rank:void 0},{id:"temp-19",name:"6.2 Benefits of Engineering to the Public",status:"not-started",rank:void 0},{id:"temp-20",name:"6.3 Role of Regulatory Bodies",status:"not-started",rank:void 0},{id:"temp-21",name:"6.4 Application of Sustainability Principles",status:"not-started",rank:void 0},{id:"temp-22",name:"6.5 Promotion of Sustainability",status:"not-started",rank:void 0}]}],qt=rs((e,t)=>({skillCategories:no,loading:!1,error:null,clearState:()=>e({skillCategories:no,loading:!1,error:null}),setSkillCategories:n=>e({skillCategories:n}),loadUserSkills:async()=>{var n;e({loading:!0,error:null});try{console.log("Starting loadUserSkills...");const{data:{user:s}}=await A.auth.getUser();if(!s)throw console.error("No authenticated user found"),new Error("No authenticated user found");console.log("User authenticated:",s.id),await A.from("eit_profiles").upsert({id:s.id,full_name:((n=s.user_metadata)==null?void 0:n.full_name)||"",email:s.email||""});const[r,i]=await Promise.all([A.from("skills").select("id, name, category"),A.from("eit_skills").select("id, eit_id, skill_id, category_name, skill_name, rank, status").eq("eit_id",s.id)]),o=r.data||[];let l=i.data||[];if(console.log("Skills fetched from DB:",o.length),console.log("Existing user skills:",l.length),!l||l.length===0){console.log("No existing skills found, initializing for new user...");const u=no.flatMap(m=>m.skills.map(p=>{const x=o.find(b=>b.name===p.name&&b.category===m.name);return x?{eit_id:s.id,skill_id:x.id,category_name:m.name,skill_name:p.name,rank:null,status:"not-started"}:(console.warn(`No matching DB skill found for: ${p.name} in ${m.name}`),null)}).filter(Boolean));console.log("Initializing skills:",u.length);const{error:d}=await A.from("eit_skills").insert(u);if(d)throw console.error("Error initializing user skills:",d),d;console.log("Fetching newly initialized skills...");const{data:h,error:f}=await A.from("eit_skills").select("id, eit_id, skill_id, category_name, skill_name, rank, status").eq("eit_id",s.id);if(f)throw console.error("Error fetching newly initialized skills:",f),f;l=h,console.log("New skills fetched:",l==null?void 0:l.length)}console.log("Updating store with user skills...");const c=no.map(u=>({...u,skills:u.skills.map(d=>{const h=o.find(m=>m.name===d.name&&m.category===u.name);if(!h)throw new Error(`No matching DB skill found for: ${d.name} in ${u.name}`);const f=l==null?void 0:l.find(m=>m.skill_id===h.id);return{...d,id:h.id,category_name:h.category,rank:(f==null?void 0:f.rank)||void 0,status:(f==null?void 0:f.status)||"not-started"}})}));console.log("Setting updated categories in store:",c.length),e({skillCategories:c})}catch(s){throw console.error("Error in loadUserSkills:",{error:s,message:s.message,details:s.details,hint:s.hint}),e({error:`Failed to load skills: ${s.message||"Unknown error"}`}),s}finally{e({loading:!1})}},updateSkillRank:async(n,s,r)=>{try{const{data:{user:i},error:o}=await A.auth.getUser();if(o)throw console.error("Auth error:",o),new Error("Authentication error: "+o.message);if(!i)throw console.error("No authenticated user found"),new Error("No authenticated user found");console.log("Updating skill rank:",{categoryIndex:n,skillId:s,rank:r,userId:i.id});const l=t().skillCategories[n],c=l.skills.find(h=>h.id===s);if(!c)throw console.error("Skill not found:",{categoryIndex:n,skillId:s}),new Error("Skill not found");e(h=>({skillCategories:h.skillCategories.map((f,m)=>m===n?{...f,skills:f.skills.map(p=>p.id===s?{...p,rank:r||void 0,status:r?"completed":"not-started"}:p)}:f)}));const u={eit_id:i.id,skill_id:s,category_name:c.category_name||l.name,skill_name:c.name,rank:r||null,status:r?"completed":"not-started"};console.log("Sending update to Supabase:",u);const{error:d}=await A.from("eit_skills").upsert(u,{onConflict:"eit_id,skill_id"});if(d)throw console.error("Supabase error:",{error:d,message:d.message,details:d.details,hint:d.hint,code:d.code}),await t().loadUserSkills(),d;console.log("Successfully updated skill rank")}catch(i){console.error("Error updating skill rank:",{error:i,message:i.message,details:i.details,hint:i.hint,code:i.code}),e({error:`Failed to update skill rank: ${i.message||"Unknown error"}`})}},consoleLogSkillCategories:()=>{console.log("Skill categories in store:",t().skillCategories)}})),ui=rs((e,t)=>({overallProgress:0,completedSkills:0,totalSkills:22,documentedExperiences:0,totalExperiences:24,supervisorApprovals:0,totalApprovals:24,lastUpdated:new Date().toISOString(),loading:!1,initialized:!1,clearState:()=>e({overallProgress:0,completedSkills:0,documentedExperiences:0,supervisorApprovals:0,lastUpdated:new Date().toISOString(),loading:!1,initialized:!1}),setupRealtimeSubscriptions:async()=>{const{data:{user:n}}=await A.auth.getUser();if(!n)return;const s=A.channel("experiences-changes").on("postgres_changes",{event:"*",schema:"public",table:"experiences",filter:`eit_id=eq.${n.id}`},()=>{console.log(" Experience change detected, updating progress..."),t().updateProgress()}).subscribe(),r=A.channel("skills-changes").on("postgres_changes",{event:"*",schema:"public",table:"skills",filter:`eit_id=eq.${n.id}`},()=>{console.log(" Skill change detected, updating progress..."),t().updateProgress()}).subscribe(),i=()=>{s.unsubscribe(),r.unsubscribe()};window.addEventListener("unload",i)},initialize:async()=>{if(!t().loading){e({loading:!0});try{const{data:{user:n}}=await A.auth.getUser();if(!n)throw new Error("No user found");const s=qt.getState();s.skillCategories.length===0&&await s.loadUserSkills(),await new Promise(m=>setTimeout(m,100));const r=s.skillCategories.reduce((m,p)=>m+p.skills.filter(x=>x.rank!==void 0).length,0),{data:i,error:o}=await A.from("experiences").select("*").eq("eit_id",n.id);if(o)throw o;const{data:l,error:c}=await A.from("experiences").select("*").eq("eit_id",n.id).eq("supervisor_approved",!0);if(c)throw c;const u=r/22,d=((i==null?void 0:i.length)||0)/24,h=((l==null?void 0:l.length)||0)/24,f=Math.round((u+d+h)/3*100);console.log("Progress calculation:",{completedSkills:r,skillsProgress:u,experiencesProgress:d,approvalsProgress:h,overallProgress:f}),e({overallProgress:f,completedSkills:r,documentedExperiences:(i==null?void 0:i.length)||0,supervisorApprovals:(l==null?void 0:l.length)||0,lastUpdated:new Date().toISOString(),loading:!1,initialized:!0}),await t().setupRealtimeSubscriptions()}catch(n){console.error("Error initializing progress:",n),e({loading:!1,initialized:!1})}}},updateProgress:async()=>{if(!t().loading){e({loading:!0});try{const{data:{user:n}}=await A.auth.getUser();if(!n)throw new Error("No user found");const s=qt.getState();s.skillCategories.length===0&&await s.loadUserSkills(),await new Promise(m=>setTimeout(m,100));const r=s.skillCategories.reduce((m,p)=>m+p.skills.filter(x=>x.rank!==void 0).length,0),{data:i,error:o}=await A.from("experiences").select("*").eq("eit_id",n.id);if(o)throw o;const{data:l,error:c}=await A.from("experiences").select("*").eq("eit_id",n.id).eq("supervisor_approved",!0);if(c)throw c;const u=r/22,d=((i==null?void 0:i.length)||0)/24,h=((l==null?void 0:l.length)||0)/24,f=Math.round((u+d+h)/3*100);console.log("Progress update calculation:",{completedSkills:r,skillsProgress:u,experiencesProgress:d,approvalsProgress:h,overallProgress:f}),e({overallProgress:f,completedSkills:r,documentedExperiences:(i==null?void 0:i.length)||0,supervisorApprovals:(l==null?void 0:l.length)||0,lastUpdated:new Date().toISOString(),loading:!1})}catch(n){console.error("Error updating progress:",n),e({loading:!1})}}}})),g_=[{name:"Dashboard",path:"/dashboard",icon:a.jsx(rd,{size:20})},{name:"Skills",path:"/dashboard/skills",icon:a.jsx(nd,{size:20})},{name:"SAOs",path:"/dashboard/saos",icon:a.jsx(sd,{size:20})},{name:"Documents",path:"/dashboard/documents",icon:a.jsx(tr,{size:20})},{name:"Jobs",path:"/dashboard/references",icon:a.jsx(ov,{size:20})},{name:"Settings",path:"/dashboard/settings",icon:a.jsx(pv,{size:20})}],v_=[{name:"Help & Support",path:"/dashboard/help",icon:a.jsx(uv,{size:20})}],jf=({onClose:e})=>{const{overallProgress:t,loading:n}=ui(),s=Yt(),r=async()=>{await A.auth.signOut()},i=o=>o==="/dashboard"?s.pathname==="/dashboard":s.pathname.startsWith(o);return a.jsxs("aside",{className:"fixed inset-y-0 left-0 z-50 w-64 bg-slate-900 text-white flex flex-col",children:[a.jsx("div",{className:"p-4 border-b border-slate-800 flex items-center justify-center",children:a.jsx("img",{src:Ci,alt:"Accreda Logo",className:"h-28 w-auto"})}),a.jsxs("nav",{className:"flex-1 py-6",children:[a.jsx("ul",{className:"space-y-1 px-3",children:g_.map(o=>a.jsx("li",{children:a.jsxs(Sc,{to:o.path,className:({isActive:l})=>`flex items-center px-3 py-2.5 rounded-lg transition-colors ${i(o.path)?"bg-teal-600 text-white":"text-slate-300 hover:text-white hover:bg-slate-800"}`,onClick:()=>{window.scrollTo({top:0,behavior:"smooth"}),e==null||e()},children:[a.jsx("span",{className:"mr-3",children:o.icon}),a.jsx("span",{children:o.name})]})},o.name))}),a.jsxs("div",{className:"mt-10 px-4",children:[a.jsx("h3",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500 mb-2 px-3",children:"Support"}),a.jsxs("ul",{className:"space-y-1 px-3",children:[v_.map(o=>a.jsx("li",{children:a.jsxs(Sc,{to:o.path,className:({isActive:l})=>`flex items-center px-3 py-2.5 rounded-lg transition-colors ${i(o.path)?"bg-slate-800 text-white":"text-slate-400 hover:text-white hover:bg-slate-800"}`,onClick:()=>{window.scrollTo({top:0,behavior:"smooth"}),e==null||e()},children:[a.jsx("span",{className:"mr-3",children:o.icon}),a.jsx("span",{children:o.name})]})},o.name)),a.jsx("li",{children:a.jsxs("button",{onClick:r,className:"flex items-center px-3 py-2.5 rounded-lg transition-colors w-full text-slate-400 hover:text-white hover:bg-slate-800",children:[a.jsx(dv,{size:20,className:"mr-3"}),a.jsx("span",{children:"Sign Out"})]})})]})]})]}),a.jsxs("div",{className:"p-4 border-t border-slate-800 sticky bottom-0 bg-slate-900",children:[a.jsxs("div",{className:"mb-2 flex justify-between items-center",children:[a.jsx("h3",{className:"text-sm font-medium text-slate-300",children:"Program Progress"}),a.jsx("span",{className:"text-sm font-semibold text-teal-400",children:n?a.jsx("span",{className:"animate-pulse",children:"..."}):`${t}%`})]}),a.jsx("div",{className:"h-2 bg-slate-800 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-teal-500 rounded-full transition-all duration-300",style:{width:n?"0%":`${t}%`}})})]})]})},y_=()=>{const[e,t]=y.useState(!1),[n,s]=y.useState(""),[r,i]=y.useState(""),[o,l]=y.useState(""),c=y.useRef(null),u=ft();y.useEffect(()=>{(async()=>{var p,x,b;const{data:{user:m}}=await A.auth.getUser();m&&(i(m.email||""),s(((p=m.user_metadata)==null?void 0:p.full_name)||((x=m.email)==null?void 0:x.split("@")[0])||"User"),l(((b=m.user_metadata)==null?void 0:b.avatar_url)||""))})()},[]),y.useEffect(()=>{const f=m=>{c.current&&!c.current.contains(m.target)&&t(!1)};return document.addEventListener("mousedown",f),()=>{document.removeEventListener("mousedown",f)}},[]);const d=async()=>{try{await A.auth.signOut(),u("/login")}catch(f){console.error("Error signing out:",f)}},h=f=>f.split(" ").map(m=>m[0]).join("").toUpperCase().slice(0,2);return a.jsxs("div",{className:"relative",ref:c,children:[a.jsxs("button",{className:"flex items-center space-x-2 focus:outline-none",onClick:()=>t(!e),children:[o?a.jsx("img",{src:o,alt:"Avatar",className:"w-8 h-8 rounded-full object-cover bg-teal-500 text-white"}):a.jsx("div",{className:"w-8 h-8 rounded-full bg-teal-500 flex items-center justify-center text-white",children:a.jsx("span",{className:"text-sm font-semibold",children:h(n)})}),a.jsx("span",{className:"hidden md:block text-sm font-medium",children:n}),a.jsx(lv,{size:16,className:`text-slate-500 transition-transform ${e?"rotate-180":""}`})]}),e&&a.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg py-1 z-50 border border-slate-200 animate-in fade-in slide-in-from-top-3 duration-200",children:[a.jsxs("div",{className:"px-4 py-2 border-b border-slate-200",children:[a.jsx("p",{className:"text-sm font-semibold",children:n}),a.jsx("p",{className:"text-xs text-slate-500",children:r})]}),a.jsxs("ul",{children:[a.jsx("li",{children:a.jsxs("button",{onClick:()=>{u("/dashboard/settings"),t(!1)},className:"w-full flex items-center px-4 py-2 text-sm text-slate-700 hover:bg-slate-50",children:[a.jsx(pv,{size:16,className:"mr-2"}),"Settings"]})}),a.jsx("li",{className:"border-t border-slate-200 mt-1",children:a.jsxs("button",{onClick:d,className:"w-full flex items-center px-4 py-2 text-sm text-red-600 hover:bg-red-50",children:[a.jsx(dv,{size:16,className:"mr-2"}),"Sign out"]})})]})]})]})};function x_(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var bv=x_,w_=typeof Re=="object"&&Re&&Re.Object===Object&&Re,b_=w_,S_=b_,j_=typeof self=="object"&&self&&self.Object===Object&&self,k_=S_||j_||Function("return this")(),Sv=k_,__=Sv,E_=function(){return __.Date.now()},N_=E_,C_=/\s/;function T_(e){for(var t=e.length;t--&&C_.test(e.charAt(t)););return t}var P_=T_,A_=P_,R_=/^\s+/;function O_(e){return e&&e.slice(0,A_(e)+1).replace(R_,"")}var I_=O_,L_=Sv,D_=L_.Symbol,jv=D_,kf=jv,kv=Object.prototype,M_=kv.hasOwnProperty,$_=kv.toString,mr=kf?kf.toStringTag:void 0;function U_(e){var t=M_.call(e,mr),n=e[mr];try{e[mr]=void 0;var s=!0}catch{}var r=$_.call(e);return s&&(t?e[mr]=n:delete e[mr]),r}var F_=U_,z_=Object.prototype,V_=z_.toString;function B_(e){return V_.call(e)}var H_=B_,_f=jv,q_=F_,W_=H_,G_="[object Null]",K_="[object Undefined]",Ef=_f?_f.toStringTag:void 0;function J_(e){return e==null?e===void 0?K_:G_:Ef&&Ef in Object(e)?q_(e):W_(e)}var Y_=J_;function Q_(e){return e!=null&&typeof e=="object"}var X_=Q_,Z_=Y_,e2=X_,t2="[object Symbol]";function n2(e){return typeof e=="symbol"||e2(e)&&Z_(e)==t2}var s2=n2,r2=I_,Nf=bv,i2=s2,Cf=NaN,o2=/^[-+]0x[0-9a-f]+$/i,a2=/^0b[01]+$/i,l2=/^0o[0-7]+$/i,c2=parseInt;function u2(e){if(typeof e=="number")return e;if(i2(e))return Cf;if(Nf(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Nf(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=r2(e);var n=a2.test(e);return n||l2.test(e)?c2(e.slice(2),n?2:8):o2.test(e)?Cf:+e}var d2=u2,h2=bv,fl=N_,Tf=d2,f2="Expected a function",m2=Math.max,p2=Math.min;function g2(e,t,n){var s,r,i,o,l,c,u=0,d=!1,h=!1,f=!0;if(typeof e!="function")throw new TypeError(f2);t=Tf(t)||0,h2(n)&&(d=!!n.leading,h="maxWait"in n,i=h?m2(Tf(n.maxWait)||0,t):i,f="trailing"in n?!!n.trailing:f);function m(C){var k=s,_=r;return s=r=void 0,u=C,o=e.apply(_,k),o}function p(C){return u=C,l=setTimeout(g,t),d?m(C):o}function x(C){var k=C-c,_=C-u,R=t-k;return h?p2(R,i-_):R}function b(C){var k=C-c,_=C-u;return c===void 0||k>=t||k<0||h&&_>=i}function g(){var C=fl();if(b(C))return v(C);l=setTimeout(g,x(C))}function v(C){return l=void 0,f&&s?m(C):(s=r=void 0,o)}function w(){l!==void 0&&clearTimeout(l),u=0,s=c=r=l=void 0}function S(){return l===void 0?o:v(fl())}function j(){var C=fl(),k=b(C);if(s=arguments,r=this,c=C,k){if(l===void 0)return p(c);if(h)return clearTimeout(l),l=setTimeout(g,t),m(c)}return l===void 0&&(l=setTimeout(g,t)),o}return j.cancel=w,j.flush=S,j}var v2=g2;const y2=Xc(v2),x2=rs(e=>({results:[],loading:!1,error:null,search:y2(async t=>{if(!t.trim()){e({results:[],loading:!1,error:null});return}e({loading:!0,error:null});try{const{data:{user:n}}=await A.auth.getUser();if(!n)throw new Error("No user found");const{data:s,error:r}=await A.rpc("search_all",{search_query:t,eit_id:n.id});if(r)throw r;const i=(s||[]).map(o=>{const l={id:o.id,type:o.type,title:o.title,description:o.description,category:o.category};switch(o.type){case"job":return{...l,metadata:{company:o.company,location:o.location}};case"reference":return{...l,metadata:{email:o.email,referenceNumber:o.reference_number}};case"validator":return{...l,metadata:{email:o.email,skillName:o.skill_name}};default:return l}});e({results:i,loading:!1})}catch(n){console.error("Search error:",n),e({error:"Failed to search",loading:!1})}},300),clearResults:()=>e({results:[],error:null})})),w2=()=>{const[e,t]=y.useState(""),[n,s]=y.useState(!1),{results:r,loading:i,search:o,clearResults:l}=x2(),c=ft(),u=y.useRef(null);y.useEffect(()=>{const p=x=>{u.current&&!u.current.contains(x.target)&&s(!1)};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[]);const d=async p=>{t(p),p.trim()?(s(!0),await o(p)):(s(!1),l())},h=p=>{switch(s(!1),t(""),l(),p.type){case"document":c("/dashboard/documents"),setTimeout(()=>{window.dispatchEvent(new CustomEvent("highlight-document",{detail:{documentId:p.id}}))},500);break;case"sao":c("/dashboard/saos"),setTimeout(()=>{window.dispatchEvent(new CustomEvent("highlight-sao",{detail:{saoId:p.id}}))},500);break;case"skill":c("/dashboard/skills"),setTimeout(()=>{window.dispatchEvent(new CustomEvent("scroll-to-skill",{detail:{skillId:p.id,timestamp:Date.now()}}))},500);break;case"job":c("/dashboard/references"),setTimeout(()=>{window.dispatchEvent(new CustomEvent("scroll-to-item",{detail:{itemId:p.id,itemType:"job"}}))},500);break;case"reference":c("/dashboard/references"),setTimeout(()=>{window.dispatchEvent(new CustomEvent("scroll-to-item",{detail:{itemId:p.id,itemType:"reference"}}))},500);break;case"validator":c("/dashboard/references"),setTimeout(()=>{window.dispatchEvent(new CustomEvent("scroll-to-item",{detail:{itemId:p.id,itemType:"validator"}}))},500);break}},f=p=>{switch(p){case"document":return a.jsx(tr,{size:16,className:"text-blue-500"});case"sao":return a.jsx(sd,{size:16,className:"text-amber-500"});case"skill":return a.jsx(nd,{size:16,className:"text-green-500"});case"job":return a.jsx(oi,{size:16,className:"text-purple-500"});case"reference":return a.jsx(Ca,{size:16,className:"text-indigo-500"});case"validator":return a.jsx(qs,{size:16,className:"text-teal-500"})}},m=p=>{if(!p.metadata)return null;switch(p.type){case"job":return`${p.metadata.company}  ${p.metadata.location}`;case"reference":return`Reference ${p.metadata.referenceNumber}  ${p.metadata.email}`;case"validator":return`${p.metadata.skillName}  ${p.metadata.email}`;default:return null}};return a.jsxs("div",{className:"relative",ref:u,children:[a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",placeholder:"Search documents, SAOs, skills, jobs, references...",value:e,onChange:p=>d(p.target.value),className:"pl-9 pr-4 py-2 bg-slate-100 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500 w-64"}),a.jsx(mv,{className:"absolute left-3 top-2.5 text-slate-400",size:18}),i&&a.jsx(Ik,{className:"absolute right-3 top-2.5 text-slate-400 animate-spin",size:18})]}),n&&(e.trim()||r.length>0)&&a.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white rounded-lg shadow-lg border border-slate-200 max-h-96 overflow-y-auto z-50",children:r.length>0?a.jsx("div",{className:"py-2",children:r.map(p=>a.jsxs("button",{onClick:()=>h(p),className:"w-full px-4 py-2 text-left hover:bg-slate-50 flex items-center space-x-3",children:[f(p.type),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-slate-900 truncate",children:p.title}),p.description&&a.jsx("p",{className:"text-xs text-slate-500 truncate",children:p.description}),p.category&&a.jsx("p",{className:"text-xs text-slate-500",children:p.category}),m(p)&&a.jsx("p",{className:"text-xs text-slate-500",children:m(p)})]})]},`${p.type}-${p.id}`))}):a.jsx("div",{className:"px-4 py-3 text-sm text-slate-500",children:"No results found"})})]})},b2=({onMenuClick:e})=>a.jsxs("header",{className:"fixed top-0 right-0 left-0 md:left-64 bg-white/80 backdrop-blur-md z-10 border-b border-slate-200 px-4 py-3 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("button",{onClick:e,className:"p-2 rounded-lg text-slate-500 hover:bg-slate-100 md:hidden","aria-label":"Menu",children:a.jsx(Dk,{size:24})}),a.jsx("div",{className:"ml-2 md:ml-0",children:a.jsx("h1",{className:"text-xl font-semibold text-slate-800",children:"EIT Progress"})})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"hidden md:block",children:a.jsx(w2,{})}),a.jsxs("button",{className:"p-2 rounded-lg text-slate-500 hover:bg-slate-100 relative","aria-label":"Notifications",children:[a.jsx(iv,{size:20}),a.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"})]}),a.jsx(y_,{})]})]}),S2=()=>{const e=[{name:"Home",path:"/dashboard",icon:a.jsx(rd,{size:20})},{name:"Skills",path:"/dashboard/skills",icon:a.jsx(Ck,{size:20})},{name:"Documents",path:"/dashboard/documents",icon:a.jsx(tr,{size:20})},{name:"Essays",path:"/dashboard/essays",icon:a.jsx(fv,{size:20})},{name:"Help",path:"/dashboard/help",icon:a.jsx(uv,{size:20})}];return a.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-slate-200 p-2 z-10",children:a.jsx("ul",{className:"flex justify-around",children:e.map(t=>a.jsx("li",{children:a.jsxs(Sc,{to:t.path,className:({isActive:n})=>`flex flex-col items-center p-2 rounded-lg transition-colors ${n?"text-teal-600":"text-slate-500 hover:text-teal-600"}`,children:[a.jsx("span",{children:t.icon}),a.jsx("span",{className:"text-xs mt-1",children:t.name})]})},t.name))})})},j2=()=>{const[e,t]=y.useState(!1),[n,s]=y.useState(!0),r=y.useRef(0);y.useEffect(()=>{const l=()=>{const c=window.pageYOffset;c>r.current&&(r.current=c),c>300?(t(!0),s(!1)):c===0?(t(!0),s(!0)):(t(!1),s(!1))};return window.addEventListener("scroll",l),()=>{window.removeEventListener("scroll",l)}},[]);const i=()=>{window.scrollTo({top:0,behavior:"smooth"})},o=()=>{window.scrollTo({top:r.current,behavior:"smooth"})};return a.jsx("div",{className:`fixed bottom-20 md:bottom-6 right-6 transition-all duration-300 z-50 ${e?"opacity-100 translate-y-0":"opacity-0 translate-y-4 pointer-events-none"}`,children:a.jsx("button",{onClick:n?o:i,className:`p-3 text-white rounded-full shadow-lg transition-all duration-300 transform hover:scale-110 active:scale-95 ${n?"bg-slate-600 hover:bg-slate-700":"bg-teal-600 hover:bg-teal-700"}`,"aria-label":n?"Scroll to last position":"Scroll to top",children:n?a.jsx(pk,{size:20}):a.jsx(vk,{size:20})})})},k2=()=>{const[e,t]=y.useState(!1);return a.jsxs("div",{className:"min-h-screen bg-slate-50",children:[a.jsx("div",{className:"hidden md:block",children:a.jsx(jf,{})}),e&&a.jsxs("div",{className:"fixed inset-0 z-50 md:hidden",children:[a.jsx("div",{className:"fixed inset-0 bg-slate-900/50 backdrop-blur-sm",onClick:()=>t(!1)}),a.jsx("div",{className:"fixed inset-y-0 left-0 w-full max-w-xs bg-white shadow-xl",children:a.jsx(jf,{onClose:()=>t(!1)})})]}),a.jsxs("div",{className:"md:pl-64 flex flex-col min-h-screen",children:[a.jsx(b2,{onMenuClick:()=>t(!0)}),a.jsx("main",{className:"flex-1 p-4 md:p-6 pt-20 md:pt-24 pb-20 md:pb-6",children:a.jsx(Tb,{})}),a.jsx("div",{className:"md:hidden",children:a.jsx(S2,{})}),a.jsx(j2,{})]})]})};function _2(e={}){const{nonce:t,onScriptLoadSuccess:n,onScriptLoadError:s}=e,[r,i]=y.useState(!1),o=y.useRef(n);o.current=n;const l=y.useRef(s);return l.current=s,y.useEffect(()=>{const c=document.createElement("script");return c.src="https://accounts.google.com/gsi/client",c.async=!0,c.defer=!0,c.nonce=t,c.onload=()=>{var u;i(!0),(u=o.current)===null||u===void 0||u.call(o)},c.onerror=()=>{var u;i(!1),(u=l.current)===null||u===void 0||u.call(l)},document.body.appendChild(c),()=>{document.body.removeChild(c)}},[t]),r}const _v=y.createContext(null);function Ev({clientId:e,nonce:t,onScriptLoadSuccess:n,onScriptLoadError:s,children:r}){const i=_2({nonce:t,onScriptLoadSuccess:n,onScriptLoadError:s}),o=y.useMemo(()=>({clientId:e,scriptLoadedSuccessfully:i}),[e,i]);return Te.createElement(_v.Provider,{value:o},r)}function E2(){const e=y.useContext(_v);if(!e)throw new Error("Google OAuth components must be used within GoogleOAuthProvider");return e}function N2({flow:e="implicit",scope:t="",onSuccess:n,onError:s,onNonOAuthError:r,overrideScope:i,state:o,...l}){const{clientId:c,scriptLoadedSuccessfully:u}=E2(),d=y.useRef(),h=y.useRef(n);h.current=n;const f=y.useRef(s);f.current=s;const m=y.useRef(r);m.current=r,y.useEffect(()=>{var b,g;if(!u)return;const v=e==="implicit"?"initTokenClient":"initCodeClient",w=(g=(b=window==null?void 0:window.google)===null||b===void 0?void 0:b.accounts)===null||g===void 0?void 0:g.oauth2[v]({client_id:c,scope:i?t:`openid profile email ${t}`,callback:S=>{var j,C;if(S.error)return(j=f.current)===null||j===void 0?void 0:j.call(f,S);(C=h.current)===null||C===void 0||C.call(h,S)},error_callback:S=>{var j;(j=m.current)===null||j===void 0||j.call(m,S)},state:o,...l});d.current=w},[c,u,e,t,o]);const p=y.useCallback(b=>{var g;return(g=d.current)===null||g===void 0?void 0:g.requestAccessToken(b)},[]),x=y.useCallback(()=>{var b;return(b=d.current)===null||b===void 0?void 0:b.requestCode()},[]);return e==="implicit"?p:x}const Pf=rs(e=>({loading:!1,startWriting:async()=>{e({loading:!0});try{const{data:t}=await A.from("eit_skills").select("*").eq("status","completed"),n=await fetch("https://bbixvnkqroskholbxkgj.supabase.co/functions/v1/generate-essay",{method:"POST",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJiaXh2bmtxcm9za2hvbGJ4a2dqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcwMTg3NjMsImV4cCI6MjA2MjU5NDc2M30.6oGRIhAuzrOq3UI9bOUlxyIoaslzK_UtjrgaxV9WIrU","Content-Type":"application/json"},body:JSON.stringify({skills:t,experiences:[]})});if(!n.ok)throw new Error("Failed to generate essay");const{essay:s}=await n.json();await A.from("essays").insert({title:"AI Generated Essay",content:s,ai_generated:!0})}finally{e({loading:!1})}}}));class C2 extends Te.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){}render(){return this.state.hasError?a.jsxs("div",{className:"p-8 text-center",children:[a.jsx("h2",{className:"text-2xl font-bold text-red-600",children:"Something went wrong."}),a.jsx("pre",{className:"mt-4 text-sm text-slate-700",children:String(this.state.error)})]}):this.props.children}}const od=rs((e,t)=>({saos:[],loading:!1,error:null,clearState:()=>e({saos:[],loading:!1,error:null}),createSAO:async(n,s,r)=>{var i;e({loading:!0,error:null});try{console.log("Creating new SAO...");const{data:{user:o},error:l}=await A.auth.getUser();if(l)throw console.error("Auth error:",l),new Error("Authentication error: "+l.message);if(!o)throw new Error("No authenticated user found");await A.from("eit_profiles").upsert({id:o.id,full_name:((i=o.user_metadata)==null?void 0:i.full_name)||"",email:o.email||""}),console.log("Creating SAO:",{title:n,content:s,skills:r,eit_id:o.id});const{data:c,error:u}=await A.from("saos").insert([{eit_id:o.id,title:n,content:s}]).select().single();if(u)throw console.error("Error creating SAO:",{error:u,message:u.message,details:u.details,hint:u.hint,code:u.code}),u;console.log("SAO created successfully:",c);const d=r.map(f=>({sao_id:c.id,skill_id:f.id,category_name:f.category_name||""}));console.log("Creating SAO skills relationships:",d);const{error:h}=await A.from("sao_skills").insert(d);if(h)throw console.error("Error creating SAO skills:",{error:h,message:h.message,details:h.details,hint:h.hint,code:h.code}),h;console.log("SAO skills created successfully"),await t().loadUserSAOs()}catch(o){throw console.error("Error in createSAO:",{error:o,message:o.message,details:o.details,hint:o.hint}),e({error:`Failed to create SAO: ${o.message||"Unknown error"}`}),o}finally{e({loading:!1})}},updateSAO:async(n,s,r,i)=>{e({loading:!0,error:null});try{console.log("Updating SAO:",{id:n,title:s,content:r,skills:i});const{data:{user:o},error:l}=await A.auth.getUser();if(l)throw console.error("Auth error:",l),new Error("Authentication error: "+l.message);if(!o)throw new Error("No authenticated user found");const{error:c}=await A.from("saos").update({title:s,content:r}).eq("id",n).eq("eit_id",o.id);if(c)throw console.error("Error updating SAO:",c),c;const{error:u}=await A.from("sao_skills").delete().eq("sao_id",n);if(u)throw console.error("Error deleting existing SAO skills:",u),u;const d=i.map(f=>({sao_id:n,skill_id:f.id,category_name:f.category_name||""})),{error:h}=await A.from("sao_skills").insert(d);if(h)throw console.error("Error updating SAO skills:",h),h;await t().loadUserSAOs()}catch(o){throw console.error("Error in updateSAO:",{error:o,message:o.message,details:o.details,hint:o.hint}),e({error:`Failed to update SAO: ${o.message||"Unknown error"}`}),o}finally{e({loading:!1})}},deleteSAO:async n=>{e({loading:!0,error:null});try{console.log("Deleting SAO:",n);const{data:{user:s},error:r}=await A.auth.getUser();if(r)throw console.error("Auth error:",r),new Error("Authentication error: "+r.message);if(!s)throw new Error("No authenticated user found");const{error:i}=await A.from("sao_skills").delete().eq("sao_id",n);if(i)throw console.error("Error deleting SAO skills:",i),i;const{error:o}=await A.from("saos").delete().eq("id",n).eq("eit_id",s.id);if(o)throw console.error("Error deleting SAO:",o),o;e(l=>({saos:l.saos.filter(c=>c.id!==n)}))}catch(s){throw console.error("Error in deleteSAO:",{error:s,message:s.message,details:s.details,hint:s.hint}),e({error:`Failed to delete SAO: ${s.message||"Unknown error"}`}),s}finally{e({loading:!1})}},loadUserSAOs:async()=>{e({loading:!0,error:null});try{console.log("Loading user SAOs...");const{data:{user:n},error:s}=await A.auth.getUser();if(s)throw console.error("Auth error:",s),new Error("Authentication error: "+s.message);if(!n)throw new Error("No authenticated user found");console.log("Fetching SAOs for user:",n.id);const{data:r,error:i}=await A.from("saos").select(`
          *,
          sao_skills (
            skill_id,
            category_name
          )
        `).eq("eit_id",n.id).order("created_at",{ascending:!1});if(i)throw console.error("Error fetching SAOs:",i),i;console.log("SAOs fetched:",r==null?void 0:r.length);const o=(r==null?void 0:r.map(l=>({...l,skills:l.sao_skills.map(c=>({id:c.skill_id,name:"",category_name:c.category_name,status:"not-started"}))})))||[];console.log("Transformed SAOs:",o.length),e({saos:o})}catch(n){throw console.error("Error in loadUserSAOs:",{error:n,message:n.message,details:n.details,hint:n.hint}),e({error:`Failed to load SAOs: ${n.message||"Unknown error"}`}),n}finally{e({loading:!1})}}})),Nv=()=>a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-teal-500"})}),T2=()=>{const[e,t]=y.useState(!0),[n,s]=y.useState([]),[r,i]=y.useState(0),[o,l]=y.useState(0),[c,u]=y.useState(0),[d,h]=y.useState([]);return y.useEffect(()=>{(async()=>{try{const{data:{user:m}}=await A.auth.getUser();if(!m)return;const{data:p,error:x}=await A.from("supervisor_eit_relationships").select(`
            eit_id,
            eit_profiles (
              id,
              full_name,
              email
            )
          `).eq("supervisor_id",m.id).eq("status","active");if(x)throw x;const b=await Promise.all((p||[]).map(async k=>{const _=k.eit_profiles,{data:R}=await A.from("saos").select("status").eq("eit_id",_.id),{data:O}=await A.from("documents").select("status").eq("eit_id",_.id),{data:N}=await A.from("eit_skills").select("status").eq("eit_id",_.id),$=(R==null?void 0:R.filter(z=>z.status==="completed").length)||0,P=(R==null?void 0:R.length)||0,L=(O==null?void 0:O.filter(z=>z.status==="completed").length)||0,T=(O==null?void 0:O.length)||0,D=(N==null?void 0:N.filter(z=>z.status==="completed").length)||0,U=(N==null?void 0:N.length)||0,E=Math.round(($+L+D)/(P+T+U||1)*100),{data:M}=await A.from("experiences").select("created_at").eq("eit_id",_.id).order("created_at",{ascending:!1}).limit(1).single();return{id:_.id,full_name:_.full_name,email:_.email,progress:E,last_activity:(M==null?void 0:M.created_at)||"No activity",completed_saos:$,total_saos:P,completed_documents:L,total_documents:T,completed_skills:D,total_skills:U}}));s(b);const g=b.reduce((k,_)=>k+_.progress,0)/(b.length||1);i(Math.round(g));const v=b.reduce((k,_)=>k+_.completed_saos,0);l(v);const{data:w,error:S}=await A.from("experiences").select("id").eq("supervisor_id",m.id).eq("status","pending_review");if(S)throw S;u((w==null?void 0:w.length)||0);const{data:j,error:C}=await A.from("experiences").select("*").in("eit_id",b.map(k=>k.id)).order("created_at",{ascending:!1}).limit(5);if(C)throw C;h(j||[])}catch(m){console.error("Error fetching supervisor dashboard data:",m)}finally{t(!1)}})()},[]),e?a.jsx(Nv,{}):a.jsxs("div",{className:"p-6",children:[a.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Supervisor Dashboard"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Average Progress"}),a.jsxs("p",{className:"text-3xl font-bold text-teal-600",children:[r,"%"]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Active Employees"}),a.jsx("p",{className:"text-3xl font-bold text-teal-600",children:n.length})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Total SAOs Submitted by Team"}),a.jsx("p",{className:"text-3xl font-bold text-teal-600",children:o})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Pending Applications"}),a.jsx("p",{className:"text-3xl font-bold text-teal-600",children:c})]})]}),a.jsx("div",{className:"bg-white rounded-lg shadow mb-8",children:a.jsxs("div",{className:"p-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Employees Overview"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50",children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Overall Progress"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"SAOs"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Documents"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Skills"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Activity"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(f=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.full_name}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.email}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:a.jsx("div",{className:"bg-teal-600 h-2.5 rounded-full",style:{width:`${f.progress}%`}})}),a.jsxs("span",{className:"text-sm text-gray-500",children:[f.progress,"%"]})]}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[f.completed_saos,"/",f.total_saos]}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[f.completed_documents,"/",f.total_documents]}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[f.completed_skills,"/",f.total_skills]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:new Date(f.last_activity).toLocaleDateString()}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("button",{className:"text-teal-600 hover:text-teal-900",onClick:()=>{},children:"View Details"})})]},f.id))})]})})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow",children:a.jsxs("div",{className:"p-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Recent Activities"}),a.jsx("div",{className:"space-y-4",children:d.map(f=>{var m,p;return a.jsxs("div",{className:"border-b border-gray-200 pb-4 last:border-0",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium",children:f.title}),a.jsx("p",{className:"text-sm text-gray-500",children:f.description})]}),a.jsx("span",{className:"text-sm text-gray-500",children:new Date(f.created_at).toLocaleDateString()})]}),a.jsx("div",{className:"mt-2",children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${f.status==="approved"?"bg-green-100 text-green-800":f.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:((m=f.status)==null?void 0:m.charAt(0).toUpperCase())+((p=f.status)==null?void 0:p.slice(1))})})]},f.id)})})]})})]})},Cv=()=>{const{skillCategories:e}=qt(),t=y.useRef({});y.useEffect(()=>{const l=c=>{const u=c.detail.skillId,d=t.current[u];d&&(d.scrollIntoView({behavior:"smooth",block:"center"}),d.classList.add("ring","ring-teal-400"),setTimeout(()=>d.classList.remove("ring","ring-teal-400"),1500))};return window.addEventListener("scroll-to-skill",l),()=>window.removeEventListener("scroll-to-skill",l)},[]);const n=e.map((l,c)=>{const u=l.skills.filter(f=>f.rank!==void 0).length,d=l.skills.length,h=["bg-blue-500","bg-teal-500","bg-indigo-500","bg-purple-500","bg-pink-500","bg-orange-500"];return{name:l.name,completed:u,total:d,color:h[c%h.length]}}),s=e.flatMap(l=>l.skills).filter(l=>l.rank!==void 0).sort((l,c)=>(c.rank||0)-(l.rank||0)).slice(0,3),r=n.reduce((l,c)=>l+c.completed,0),i=n.reduce((l,c)=>l+c.total,0),o=Math.round(r/i*100);return a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h2",{className:"text-lg font-semibold flex items-center",children:[a.jsx(td,{size:18,className:"mr-2 text-teal-600"}),"Skills Overview"]}),a.jsx("div",{className:"flex items-center",children:a.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center bg-teal-100 text-teal-700 mr-2",children:a.jsxs("span",{className:"text-sm font-bold",children:[o,"%"]})})})]}),a.jsxs("div",{className:"space-y-4",children:[n.map(l=>{const c=Math.round(l.completed/l.total*100);return a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm font-medium text-slate-700",children:l.name}),a.jsxs("span",{className:"text-sm text-slate-500",children:[l.completed,"/",l.total]})]}),a.jsx("div",{className:"h-2 bg-slate-100 rounded-full overflow-hidden",children:a.jsx("div",{className:`h-full ${l.color} rounded-full transition-all duration-300`,style:{width:`${c}%`}})})]},l.name)}),a.jsx("hr",{className:"my-4 border-slate-200"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-sm mb-3",children:"Recently Completed Skills"}),a.jsx("div",{className:"space-y-2",children:s.length>0?s.map(l=>a.jsxs("div",{id:`skill-${l.id}`,ref:c=>t.current[l.id]=c,className:"text-sm flex items-center justify-between py-1.5 px-2.5 rounded-lg hover:bg-slate-50 transition-colors",children:[a.jsx("span",{className:"truncate mr-2",children:l.name}),a.jsxs("span",{className:"bg-green-100 text-green-700 text-xs py-0.5 px-2 rounded-full whitespace-nowrap",children:["Score ",l.rank]})]},l.id)):a.jsx("p",{className:"text-sm text-slate-500 italic",children:"No skills completed yet"})})]})]})]})},P2=Object.freeze(Object.defineProperty({__proto__:null,default:Cv},Symbol.toStringTag,{value:"Module"})),A2=()=>{const[e,t]=y.useState(!0),[n,s]=y.useState(null),[r,i]=y.useState([]),{overallProgress:o,completedSkills:l,documentedExperiences:c,supervisorApprovals:u}=ui();return y.useEffect(()=>{(async()=>{try{const{data:{user:h}}=await A.auth.getUser();if(!h)return;const{data:f,error:m}=await A.from("supervisor_eit_relationships").select(`
            supervisor_id,
            supervisor_profiles (
              id,
              full_name,
              email,
              organization
            )
          `).eq("eit_id",h.id).eq("status","active").single();if(m)throw m;if(f!=null&&f.supervisor_profiles){const b=f.supervisor_profiles;s(b)}const{data:p,error:x}=await A.from("experiences").select("*").eq("eit_id",h.id).order("created_at",{ascending:!1}).limit(5);if(x)throw x;i(p||[])}catch(h){console.error("Error fetching dashboard data:",h)}finally{t(!1)}})()},[]),e?a.jsx(Nv,{}):a.jsxs("div",{className:"p-6",children:[a.jsx("h1",{className:"text-2xl font-bold mb-6",children:"EIT Dashboard"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Overall Progress"}),a.jsxs("p",{className:"text-3xl font-bold text-teal-600",children:[o,"%"]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Skills Completed"}),a.jsxs("p",{className:"text-3xl font-bold text-teal-600",children:[l,"/22"]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Experiences Documented"}),a.jsxs("p",{className:"text-3xl font-bold text-teal-600",children:[c,"/24"]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Supervisor Approvals"}),a.jsxs("p",{className:"text-3xl font-bold text-teal-600",children:[u,"/24"]})]})]}),a.jsx(Cv,{}),n&&a.jsx("div",{className:"bg-white rounded-lg shadow mb-8",children:a.jsxs("div",{className:"p-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Supervisor Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Name"}),a.jsx("p",{className:"font-medium",children:n.full_name})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Email"}),a.jsx("p",{className:"font-medium",children:n.email})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Organization"}),a.jsx("p",{className:"font-medium",children:n.organization})]})]})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow",children:a.jsxs("div",{className:"p-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Recent Activities"}),a.jsx("div",{className:"space-y-4",children:r.map(d=>a.jsxs("div",{className:"border-b border-gray-200 pb-4 last:border-0",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium",children:d.title}),a.jsx("p",{className:"text-sm text-gray-500",children:d.description})]}),a.jsx("span",{className:"text-sm text-gray-500",children:new Date(d.created_at).toLocaleDateString()})]}),a.jsx("div",{className:"mt-2",children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${d.status==="approved"?"bg-green-100 text-green-800":d.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:d.status.charAt(0).toUpperCase()+d.status.slice(1)})})]},d.id))})]})})]})};Te.lazy(()=>Ot(()=>import("./ProgressCard-jU6EZWJ9.js"),[]));Te.lazy(()=>Ot(()=>import("./RecentActivities-OAaAiby3.js"),[]));Te.lazy(()=>Ot(()=>import("./UpcomingDeadlines-CJUhULDN.js"),[]));Te.lazy(()=>Ot(()=>Promise.resolve().then(()=>P2),void 0));const R2=()=>{ft();const[e,t]=y.useState(""),[n,s]=y.useState(null),{overallProgress:r,completedSkills:i,totalSkills:o,documentedExperiences:l,totalExperiences:c,supervisorApprovals:u,totalApprovals:d,lastUpdated:h,loading:f,updateProgress:m,initialize:p}=ui();Pf($=>$.startWriting),Pf($=>$.loading);const x=qt($=>$.loadUserSkills),{saos:b,loading:g,loadUserSAOs:v}=od(),[w,S]=y.useState(null),[j,C]=y.useState([]),[k,_]=y.useState(!1);console.log("Google Client ID (from import.meta.env):","75421336207-tftquv2i1mvom7ve3abijonie2r70kb6.apps.googleusercontent.com");const[O,N]=y.useState(!0);return y.useEffect(()=>{const $=async()=>{var U;const{data:{user:L}}=await A.auth.getUser();if(!L)return;(U=L.user_metadata)!=null&&U.full_name&&t(L.user_metadata.full_name);const{data:T}=await A.from("eit_profiles").select("id").eq("id",L.id).single(),{data:D}=await A.from("supervisor_profiles").select("id").eq("id",L.id).single();D?s("supervisor"):T&&s("eit"),N(!1)};(async()=>{try{await x(),await p(),await $(),b.length===0&&!g&&v()}catch(L){console.error("Error initializing dashboard data:",L)}})()},[x,p,b.length,g,v]),y.useEffect(()=>{w&&(_(!0),fetch("https://www.googleapis.com/calendar/v3/calendars/primary/events?maxResults=5&orderBy=startTime&singleEvents=true&timeMin="+new Date().toISOString(),{headers:{Authorization:`Bearer ${w}`}}).then($=>$.json()).then($=>{C($.items||[])}).catch(()=>C([])).finally(()=>_(!1)))},[w]),r>=75||r>=50||r>=25,o-i,b.length,24-b.length,d-u,N2({onSuccess:$=>{S($.access_token)},onError:()=>{alert("Google Login Failed")},scope:"https://www.googleapis.com/auth/calendar.readonly",flow:"implicit"}),O?a.jsx("div",{className:"flex justify-center items-center h-64",children:"Loading..."}):n==="supervisor"?a.jsx(T2,{}):a.jsx(A2,{})};function O2(){return a.jsx(C2,{children:a.jsx(Ev,{clientId:"75421336207-tftquv2i1mvom7ve3abijonie2r70kb6.apps.googleusercontent.com",children:a.jsx(R2,{})})})}const I2=({isOpen:e,onClose:t,skillName:n,saos:s,jobs:r})=>{const i=ft();if(!e)return null;const o=c=>{i(`/saos?saoId=${c}`),t()},l=c=>{i(`/references?jobId=${c}`),t()};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-[60]",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("h3",{className:"text-lg font-semibold",children:["Linked Items for ",n]}),a.jsx("button",{onClick:t,className:"text-slate-400 hover:text-slate-600",children:a.jsx(ct,{size:24})})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-slate-900 mb-3",children:"Linked SAOs"}),a.jsx("div",{className:"space-y-4",children:s.length>0?s.map(c=>a.jsxs("div",{className:"border rounded-lg p-4 hover:bg-slate-50",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsx("h4",{className:"font-medium text-slate-900",children:c.title}),a.jsx("button",{onClick:()=>o(c.id),className:"p-1.5 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded-lg transition-colors",title:"Open SAO",children:a.jsx(_k,{size:18})})]}),a.jsx("p",{className:"text-sm text-slate-600",children:c.content}),a.jsxs("div",{className:"mt-2 text-xs text-slate-500",children:["Created: ",new Date(c.created_at).toLocaleDateString()]})]},c.id)):a.jsx("p",{className:"text-slate-500 italic",children:"No SAOs linked to this skill yet."})})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-slate-900 mb-3",children:"Linked Jobs"}),a.jsx("div",{className:"space-y-4",children:r.length>0?r.map(c=>a.jsxs("div",{className:"border rounded-lg p-4 hover:bg-slate-50",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-slate-900",children:c.title}),a.jsx("p",{className:"text-sm text-slate-600",children:c.company})]}),a.jsx("button",{onClick:()=>l(c.id),className:"p-1.5 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded-lg transition-colors",title:"Open Job",children:a.jsx(oi,{size:18})})]}),a.jsxs("div",{className:"mt-2 text-xs text-slate-500",children:[new Date(c.start_date).toLocaleDateString()," - ",c.end_date?new Date(c.end_date).toLocaleDateString():"Present"]})]},c.id)):a.jsx("p",{className:"text-slate-500 italic",children:"No jobs linked to this skill yet."})})]})]}),a.jsx("div",{className:"flex justify-end mt-6",children:a.jsx("button",{onClick:t,className:"btn btn-primary",children:"Close"})})]})})},L2=y.memo(({skill:e,categoryIndex:t,onRankChange:n,getStatusIcon:s,getStatusLabel:r,getStatusClass:i,getRankColor:o,getRankLabel:l,skillRef:c,linkedSkillIds:u,fetchLinkedItems:d})=>{const[h,f]=y.useState(!1),[m,p]=y.useState([]),[x,b]=y.useState([]),[g,v]=y.useState(!1),w=u.has(e.id),S=async()=>{v(!0);try{const{saos:j,jobs:C}=await d(e.id);p(j),b(C),f(!0)}catch(j){console.error("Error fetching linked items:",j)}finally{v(!1)}};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{ref:c,className:"flex items-center justify-between p-3 rounded-lg border hover:border-slate-300 hover:bg-slate-50 transition-colors",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"mr-3",children:s(e)}),a.jsx("span",{className:"font-medium",children:e.name})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{onClick:S,className:`p-2 rounded-full transition-colors ${w?"text-amber-500 hover:text-amber-600 hover:bg-amber-50 shadow-[0_0_8px_rgba(245,158,11,0.5)]":"text-slate-400 hover:text-slate-600 hover:bg-slate-100"}`,title:w?"View linked items":"No linked items",disabled:g,children:a.jsx(tr,{size:18,className:g?"animate-pulse":""})}),a.jsxs("div",{className:"relative",children:[a.jsxs("select",{value:e.rank||"",onChange:j=>{n(t,e.id,Number(j.target.value))},className:`appearance-none px-3 py-1.5 rounded-full text-sm font-medium ${o(e.rank)} border-0 focus:ring-2 focus:ring-teal-500 focus:outline-none cursor-pointer`,children:[a.jsx("option",{value:"",children:"Not Ranked"}),[1,2,3,4,5].map(j=>a.jsxs("option",{value:j,children:[j," - ",l(j)]},j))]}),a.jsx(lv,{size:16,className:"absolute right-2 top-1/2 -translate-y-1/2 pointer-events-none text-current"})]}),a.jsx("span",{className:`text-xs px-2.5 py-1 rounded-full ${i(e)}`,children:r(e)})]})]}),a.jsx(I2,{isOpen:h,onClose:()=>f(!1),skillName:e.name,saos:m,jobs:x})]})}),D2=y.memo(({category:e,categoryIndex:t,onRankChange:n,getStatusIcon:s,getStatusLabel:r,getStatusClass:i,getRankColor:o,getRankLabel:l,getCategoryProgress:c,calculateCategoryMean:u,getMeanColor:d,showRequirementWarning:h,getRequirementMessage:f,skillRefs:m,linkedSkillIds:p,fetchLinkedItems:x})=>{const b=c(e.skills),{mean:g,isComplete:v}=u(e.skills);return a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("h2",{className:"text-lg font-semibold",children:e.name}),v&&a.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full ${d(g)}`,children:[a.jsx(td,{size:16}),a.jsxs("span",{className:"text-sm font-medium",children:["Mean Score: ",g]})]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center bg-green-100 text-green-700 mr-2",children:a.jsx("span",{className:"text-sm font-bold",children:b.completed})}),a.jsx("div",{children:a.jsx("p",{className:"text-xs font-medium",children:"Completed"})})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center bg-slate-100 text-slate-700 mr-2",children:a.jsx("span",{className:"text-sm font-bold",children:b.notStarted})}),a.jsx("div",{children:a.jsx("p",{className:"text-xs font-medium",children:"Not Started"})})]})]})]}),v&&h(e.name,g)&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(sv,{size:18,className:"text-red-600 mt-0.5 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-red-800",children:"Warning: This category does not meet the minimum requirements"}),a.jsx("p",{className:"text-sm text-red-600 mt-1",children:f(e.name,g)})]})]})}),a.jsx("div",{className:"space-y-3",children:e.skills.map(w=>a.jsx(L2,{skill:w,categoryIndex:t,onRankChange:n,getStatusIcon:s,getStatusLabel:r,getStatusClass:i,getRankColor:o,getRankLabel:l,skillRef:S=>m.current[w.id]=S,linkedSkillIds:p,fetchLinkedItems:x},w.id))})]})}),M2=()=>{const{skillCategories:e,updateSkillRank:t,loadUserSkills:n,loading:s,error:r}=qt(),i=y.useRef({}),[o,l]=y.useState(new Set),c=y.useRef({});y.useEffect(()=>{n()},[n]),y.useEffect(()=>{(async()=>{try{const{data:{user:_}}=await A.auth.getUser();if(!_)return;const[{data:R},{data:O}]=await Promise.all([A.from("saos").select("*, sao_skills(skill_id)").eq("eit_id",_.id),A.from("jobs").select("id, skills").eq("eit_id",_.id)]),N=R||[],$=O||[],P=new Set;N.forEach(L=>{L.sao_skills&&L.sao_skills.forEach(T=>P.add(T.skill_id))}),$.forEach(L=>{Array.isArray(L.skills)&&L.skills.forEach(T=>P.add(T))}),l(P)}catch(_){console.error("Error fetching all linked items:",_)}})()},[n]);const u=async k=>{if(c.current[k])return c.current[k];const{data:{user:_}}=await A.auth.getUser();if(!_)return{saos:[],jobs:[]};const{data:R}=await A.from("saos").select("*, sao_skills!inner(skill_id)").eq("eit_id",_.id).eq("sao_skills.skill_id",k),O=R||[],{data:N}=await A.from("jobs").select("*").eq("eit_id",_.id).contains("skills",[k]),$=N||[];return c.current[k]={saos:O,jobs:$},{saos:O,jobs:$}};y.useEffect(()=>{const k=_=>{const{skillId:R,timestamp:O}=_.detail;console.log("Scroll event received:",{skillId:R,timestamp:O}),setTimeout(()=>{const N=i.current[R];console.log("Looking for element:",{skillId:R,element:N}),N?(console.log("Scrolling to element"),N.scrollIntoView({behavior:"smooth",block:"center"}),N.classList.add("ring","ring-teal-400"),setTimeout(()=>N.classList.remove("ring","ring-teal-400"),1500)):(console.log("Element not found, retrying in 100ms"),setTimeout(()=>{const $=i.current[R];$&&($.scrollIntoView({behavior:"smooth",block:"center"}),$.classList.add("ring","ring-teal-400"),setTimeout(()=>$.classList.remove("ring","ring-teal-400"),1500))},100))},100)};return window.addEventListener("scroll-to-skill",k),()=>window.removeEventListener("scroll-to-skill",k)},[]);const d=y.useCallback(async(k,_,R)=>{try{console.log("Updating skill rank for skillId:",_,typeof _),await t(k,_,R)}catch(O){console.error("Error in handleRankChange:",O)}},[t]),h=y.useCallback(k=>k.reduce((_,R)=>(R.rank!==void 0?_.completed++:_.notStarted++,_),{completed:0,notStarted:0}),[]),f=y.useCallback(k=>{const _=k.filter(O=>O.rank!==void 0);if(_.length!==k.length)return{mean:0,isComplete:!1};const R=_.reduce((O,N)=>O+(N.rank||0),0);return{mean:Number((R/k.length).toFixed(1)),isComplete:!0}},[]),m=y.useCallback(k=>k>=4.5?"bg-green-100 text-green-700":k>=3.5?"bg-blue-100 text-blue-700":k>=2.5?"bg-yellow-100 text-yellow-700":k>=1.5?"bg-orange-100 text-orange-700":"bg-red-100 text-red-700",[]),p=y.useCallback(k=>k.status==="completed"?a.jsx(qs,{size:18,className:"text-green-500"}):k.status==="in-progress"?a.jsx(Uk,{size:18,className:"text-amber-500"}):k.rank!==void 0?a.jsx(Sk,{size:18,className:"text-green-500"}):a.jsx(jk,{size:18,className:"text-slate-300"}),[]),x=y.useCallback(k=>k.rank!==void 0||k.status==="completed"?"Completed":k.status==="in-progress"?"In Progress":"Not Started",[]),b=y.useCallback(k=>k.rank!==void 0||k.status==="completed"?"bg-green-100 text-green-800":k.status==="in-progress"?"bg-amber-100 text-amber-800":"bg-slate-100 text-slate-800",[]),g=y.useCallback(k=>{if(!k)return"bg-slate-100 text-slate-600";switch(k){case 1:return"bg-red-100 text-red-600";case 2:return"bg-orange-100 text-orange-600";case 3:return"bg-yellow-100 text-yellow-600";case 4:return"bg-blue-100 text-blue-600";case 5:return"bg-green-100 text-green-600";default:return"bg-slate-100 text-slate-600"}},[]),v=y.useCallback(k=>{if(!k)return"Not Ranked";switch(k){case 1:return"Beginner";case 2:return"Basic";case 3:return"Intermediate";case 4:return"Advanced";case 5:return"Expert";default:return"Not Ranked"}},[]),w={"Category 1  Technical Competence":3,"Category 2  Communication":3,"Category 3  Project & Financial Management":2,"Category 4  Team Effectiveness":3,"Category 5  Professional Accountability":3,"Category 6  Social, Economic, Environmental & Sustainability":2},S=y.useCallback((k,_)=>{const R=w[k];return _<R},[]),j=y.useCallback((k,_)=>`A minimum average score of ${w[k]} is required for ${k}. Current average: ${_}`,[]),C=y.useMemo(()=>e.reduce((k,_)=>(_.skills.forEach(R=>{R.rank!==void 0?k.completed++:k.notStarted++}),k),{completed:0,notStarted:0}),[e]);return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-slate-800",children:"Skills & Competencies"}),a.jsx("p",{className:"text-slate-500 mt-1",children:"Track and document your EIT program competencies"})]}),r&&a.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(sv,{size:18,className:"text-red-600 mt-0.5 flex-shrink-0"}),a.jsx("p",{className:"text-sm text-red-800",children:r})]})}),s?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"card p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Overall Progress"}),a.jsxs("div",{className:"flex flex-wrap gap-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center bg-green-100 text-green-700 mr-3",children:a.jsx("span",{className:"text-lg font-bold",children:C.completed})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Completed"}),a.jsx("p",{className:"text-sm text-slate-500",children:"Skills"})]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center bg-slate-100 text-slate-700 mr-3",children:a.jsx("span",{className:"text-lg font-bold",children:C.notStarted})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Not Started"}),a.jsx("p",{className:"text-sm text-slate-500",children:"Skills"})]})]})]})]}),a.jsx("div",{className:"space-y-6",children:e.map((k,_)=>a.jsx(D2,{category:k,categoryIndex:_,onRankChange:d,getStatusIcon:p,getStatusLabel:x,getStatusClass:b,getRankColor:g,getRankLabel:v,getCategoryProgress:h,calculateCategoryMean:f,getMeanColor:m,showRequirementWarning:S,getRequirementMessage:j,skillRefs:i,linkedSkillIds:o,fetchLinkedItems:u},k.name))})]})]})},$2=y.memo(M2),U2=rs((e,t)=>({documents:[],loading:!1,error:null,clearState:()=>e({documents:[],loading:!1,error:null}),createDocument:async(n,s,r,i,o)=>{var l;e({loading:!0,error:null});try{const{data:{user:c},error:u}=await A.auth.getUser();if(u)throw console.error("Auth error:",u),new Error("Authentication error: "+u.message);if(!c)throw new Error("No authenticated user found");await A.from("eit_profiles").upsert({id:c.id,full_name:((l=c.user_metadata)==null?void 0:l.full_name)||"",email:c.email||""});const d=(i==null?void 0:i.type)||"text/plain",h=(i==null?void 0:i.size)||s.length,f=o||"Uncategorized";console.log("Creating document:",{title:n,type:r,eit_id:c.id,file_type:d,file_size:h,category:f});const{data:m,error:p}=await A.from("documents").insert([{eit_id:c.id,title:n,content:s,type:r,status:"draft",word_count:s.split(/\s+/).length,file_type:d,file_size:h,category:f}]).select().single();if(p)throw console.error("Error creating document:",{error:p,message:p.message,details:p.details,hint:p.hint}),p;console.log("Document created successfully:",m),e(x=>({documents:[m,...x.documents]}))}catch(c){throw console.error("Error in createDocument:",{error:c,message:c.message,details:c.details,hint:c.hint}),e({error:`Failed to create document: ${c.message||"Unknown error"}`}),c}finally{e({loading:!1})}},updateDocument:async(n,s,r)=>{e({loading:!0,error:null});try{console.log("Updating document:",{id:n,title:s});const{data:{user:i},error:o}=await A.auth.getUser();if(o)throw console.error("Auth error:",o),new Error("Authentication error: "+o.message);if(!i)throw new Error("No authenticated user found");const{error:l}=await A.from("documents").update({title:s,content:r,word_count:r.split(/\s+/).length,updated_at:new Date().toISOString()}).eq("id",n).eq("eit_id",i.id);if(l)throw console.error("Error updating document:",{error:l,message:l.message,details:l.details,hint:l.hint}),l;e(c=>({documents:c.documents.map(u=>u.id===n?{...u,title:s,content:r,word_count:r.split(/\s+/).length,updated_at:new Date().toISOString()}:u)}))}catch(i){throw console.error("Error in updateDocument:",{error:i,message:i.message,details:i.details,hint:i.hint}),e({error:`Failed to update document: ${i.message||"Unknown error"}`}),i}finally{e({loading:!1})}},deleteDocument:async n=>{e({loading:!0,error:null});try{console.log("Deleting document:",n);const{data:{user:s},error:r}=await A.auth.getUser();if(r)throw console.error("Auth error:",r),new Error("Authentication error: "+r.message);if(!s)throw new Error("No authenticated user found");const{error:i}=await A.from("documents").delete().eq("id",n).eq("eit_id",s.id);if(i)throw console.error("Error deleting document:",{error:i,message:i.message,details:i.details,hint:i.hint}),i;e(o=>({documents:o.documents.filter(l=>l.id!==n)}))}catch(s){throw console.error("Error in deleteDocument:",{error:s,message:s.message,details:s.details,hint:s.hint}),e({error:`Failed to delete document: ${s.message||"Unknown error"}`}),s}finally{e({loading:!1})}},loadUserDocuments:async()=>{e({loading:!0,error:null});try{console.log("Loading user documents...");const{data:{user:n},error:s}=await A.auth.getUser();if(s)throw console.error("Auth error:",s),new Error("Authentication error: "+s.message);if(!n)throw new Error("No authenticated user found");console.log("Fetching documents for user:",n.id);const{data:r,error:i}=await A.from("documents").select("*").eq("eit_id",n.id).order("created_at",{ascending:!1});if(i)throw console.error("Error fetching documents:",{error:i,message:i.message,details:i.details,hint:i.hint}),i;console.log("Documents fetched:",r==null?void 0:r.length),e({documents:r||[]})}catch(n){throw console.error("Error in loadUserDocuments:",{error:n,message:n.message,details:n.details,hint:n.hint}),e({error:`Failed to load documents: ${n.message||"Unknown error"}`}),n}finally{e({loading:!1})}}})),F2=()=>{const{documents:e,loading:t,error:n,createDocument:s,updateDocument:r,deleteDocument:i,loadUserDocuments:o}=U2(),[l,c]=y.useState(""),[u,d]=y.useState("all"),[h,f]=y.useState(!1),[m,p]=y.useState("all"),[x,b]=y.useState("date"),[g,v]=y.useState("desc"),[w,S]=y.useState(null),[j,C]=y.useState(""),k=Te.useRef({});y.useEffect(()=>{console.log("Documents component mounted"),o()},[o]),y.useEffect(()=>{console.log("Documents array updated:",{documentCount:e.length,documents:e})},[e]),y.useEffect(()=>{const T=D=>{const U=D.detail.documentId,E=k.current[U];E&&(E.scrollIntoView({behavior:"smooth",block:"center"}),E.classList.add("ring","ring-teal-400","transition-all","duration-300"),setTimeout(()=>{E.classList.remove("ring","ring-teal-400")},2e3))};return window.addEventListener("scroll-to-document",T),()=>window.removeEventListener("scroll-to-document",T)},[]);const _=async T=>{var U;const D=(U=T.target.files)==null?void 0:U[0];if(D)try{console.log("Starting document creation process...");let E="";const M=D.type;M.startsWith("text/")?E=await D.text():E=`File type (${M}) not directly viewable. Will be stored.`,await s(D.name,E,"other",D),console.log("Document creation completed successfully"),T.target.value=""}catch(E){console.error("Document creation failed:",E),alert("Failed to create document. Please try again.")}},R=async T=>{try{const D=new Blob([T.content],{type:"text/plain"}),U=URL.createObjectURL(D),E=document.createElement("a");E.href=U,E.download=`${T.title}.txt`,document.body.appendChild(E),E.click(),document.body.removeChild(E),URL.revokeObjectURL(U)}catch(D){console.error("Download failed:",D),alert("Failed to download document")}},O=async T=>{if(window.confirm("Are you sure you want to delete this document?"))try{await i(T.id)}catch(D){console.error("Delete failed:",D),alert("Failed to delete document")}},N=async T=>{S({id:T.id,title:T.title}),C(T.title)},$=async()=>{if(w)try{const T=e.find(D=>D.id===w.id);if(!T)throw new Error("Document not found");await r(w.id,j,T.content),S(null)}catch(T){console.error("Update failed:",T),alert("Failed to update document title")}},P=e.filter(T=>{const D=T.title.toLowerCase().includes(l.toLowerCase())||T.content.toLowerCase().includes(l.toLowerCase()),U=u==="all"||T.type===u,E=m==="all"||T.status===m;return D&&U&&E}).sort((T,D)=>x==="date"?g==="asc"?new Date(T.created_at).getTime()-new Date(D.created_at).getTime():new Date(D.created_at).getTime()-new Date(T.created_at).getTime():g==="asc"?T.title.localeCompare(D.title):D.title.localeCompare(T.title)),L=["all",...new Set(e.map(T=>T.type))];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-slate-800",children:"Documents"}),a.jsxs("label",{className:"btn btn-primary cursor-pointer",children:[a.jsx(Vk,{size:16,className:"mr-1.5"}),"Upload Document",a.jsx("input",{type:"file",className:"hidden",onChange:_})]})]}),a.jsxs("div",{className:"card p-4",children:[a.jsxs("div",{className:"flex flex-wrap gap-4",children:[a.jsx("div",{className:"flex-1 min-w-[200px]",children:a.jsxs("div",{className:"relative",children:[a.jsx(mv,{size:16,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400"}),a.jsx("input",{type:"text",value:l,onChange:T=>c(T.target.value),placeholder:"Search documents...",className:"w-full pl-10 pr-4 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500"}),l&&a.jsx("button",{onClick:()=>c(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-400 hover:text-slate-600",children:a.jsx(ct,{size:16})})]})}),a.jsxs("button",{onClick:()=>f(!h),className:"btn btn-secondary flex items-center",children:[a.jsx(Nk,{size:16,className:"mr-1.5"}),"Filters"]})]}),h&&a.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Type"}),a.jsx("select",{value:u,onChange:T=>d(T.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",children:L.map(T=>a.jsx("option",{value:T,children:T.charAt(0).toUpperCase()+T.slice(1)},T))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Status"}),a.jsxs("select",{value:m,onChange:T=>p(T.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",children:[a.jsx("option",{value:"all",children:"All Statuses"}),a.jsx("option",{value:"draft",children:"Draft"}),a.jsx("option",{value:"submitted",children:"Submitted"}),a.jsx("option",{value:"approved",children:"Approved"}),a.jsx("option",{value:"rejected",children:"Rejected"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Sort By"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("select",{value:x,onChange:T=>b(T.target.value),className:"flex-1 px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",children:[a.jsx("option",{value:"date",children:"Date"}),a.jsx("option",{value:"name",children:"Name"})]}),a.jsx("button",{onClick:()=>v(g==="asc"?"desc":"asc"),className:"px-3 py-2 border border-slate-200 rounded-lg hover:bg-slate-50",children:g==="asc"?"":""})]})]})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:P.map(T=>a.jsxs("div",{ref:D=>k.current[T.id]=D,"data-document-id":T.id,className:"document-card bg-white p-4 rounded-lg shadow-md hover:shadow-lg transition-shadow duration-200 ease-in-out",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[(w==null?void 0:w.id)===T.id?a.jsx("div",{className:"flex-1 mr-2",children:a.jsx("input",{type:"text",value:j,onChange:D=>C(D.target.value),className:"w-full px-2 py-1 border border-slate-200 rounded",onKeyDown:D=>{D.key==="Enter"&&$(),D.key==="Escape"&&S(null)},autoFocus:!0})}):a.jsx("h3",{className:"font-semibold text-lg text-slate-800",children:T.title}),a.jsxs("div",{className:"flex space-x-1",children:[a.jsx("button",{className:"p-1.5 rounded-lg text-slate-500 hover:bg-slate-100 hover:text-slate-700",onClick:()=>N(T),children:a.jsx(li,{size:16})}),a.jsx("button",{className:"p-1.5 rounded-lg text-slate-500 hover:bg-slate-100 hover:text-slate-700",onClick:()=>R(T),children:a.jsx(kk,{size:16})}),a.jsx("button",{className:"p-1.5 rounded-lg text-slate-500 hover:bg-slate-100 hover:text-red-600",onClick:()=>O(T),children:a.jsx(Ti,{size:16})})]})]}),T.file_type&&T.file_type.startsWith("text/")?a.jsx("p",{className:"text-sm text-slate-600 mt-2 line-clamp-2",children:T.content}):a.jsx("p",{className:"text-sm text-slate-400 mt-2 italic",children:"Content not viewable here. Download to see full content."}),a.jsxs("div",{className:"flex justify-between items-center mt-4 pt-3 border-t border-slate-100",children:[a.jsxs("div",{className:"text-xs text-slate-500",children:[a.jsx("span",{children:new Date(T.created_at).toLocaleDateString()}),a.jsx("span",{className:"mx-2",children:""}),a.jsx("span",{className:"capitalize",children:T.status})]}),a.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-slate-100 text-slate-600",children:T.type})]})]},T.id))}),P.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(tr,{size:48,className:"mx-auto text-slate-400"}),a.jsx("h3",{className:"mt-4 text-lg font-medium text-slate-900",children:"No documents found"}),a.jsx("p",{className:"mt-2 text-slate-500",children:l||u!=="all"||m!=="all"?"Try adjusting your search or filters":"Get started by uploading your first document"})]}),t&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-teal-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-slate-500",children:"Loading documents..."})]}),n&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(nv,{size:48,className:"mx-auto text-red-400"}),a.jsx("h3",{className:"mt-4 text-lg font-medium text-slate-900",children:"Error loading documents"}),a.jsx("p",{className:"mt-2 text-slate-500",children:n})]})]})},z2=()=>{const e=[{id:1,title:"Technical Problem Analysis",description:"Self-Assessment Outcome (SAO) for problem analysis competency",status:"complete",updatedAt:"2025-04-12",wordCount:850},{id:2,title:"Team Leadership Experience",description:"SAO documenting leadership skills in team environments",status:"draft",updatedAt:"2025-04-08",wordCount:620},{id:3,title:"Project Management Methodology",description:"SAO for project planning and execution competency",status:"ai-assisted",updatedAt:"2025-04-02",wordCount:740},{id:4,title:"Professional Ethics Application",description:"SAO for ethical decision making in engineering",status:"in-review",updatedAt:"2025-03-25",wordCount:910}],t={complete:"bg-green-100 text-green-800 border-green-200",draft:"bg-slate-100 text-slate-800 border-slate-200","ai-assisted":"bg-purple-100 text-purple-800 border-purple-200","in-review":"bg-amber-100 text-amber-800 border-amber-200"},n={complete:a.jsx(wk,{size:16,className:"mr-1"}),draft:a.jsx(xf,{size:16,className:"mr-1"}),"ai-assisted":a.jsx(yf,{size:16,className:"mr-1"}),"in-review":a.jsx(cv,{size:16,className:"mr-1"})};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-slate-800",children:"Essays"}),a.jsx("p",{className:"text-slate-500 mt-1",children:"Manage your Self-Assessment Outcome (SAO) essays"})]}),a.jsx("div",{className:"card bg-gradient-to-br from-teal-500 to-teal-700 text-white p-6",children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between",children:[a.jsxs("div",{className:"mb-4 md:mb-0",children:[a.jsx("h2",{className:"text-xl font-bold",children:"AI Essay Assistant"}),a.jsx("p",{className:"mt-1 text-teal-100",children:"Let our AI analyze your documented experiences and draft SAO essays that highlight your key competencies."})]}),a.jsxs("button",{className:"btn bg-white text-teal-700 hover:bg-teal-50 flex items-center self-start",children:[a.jsx(yf,{size:16,className:"mr-2"}),"Start New AI-Assisted Essay"]})]})}),a.jsxs("div",{className:"flex flex-col md:flex-row justify-between space-y-4 md:space-y-0",children:[a.jsxs("button",{className:"btn btn-primary flex items-center",children:[a.jsx(fv,{size:16,className:"mr-1.5"}),"Create New Essay"]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("select",{className:"px-3 py-2 rounded-lg border border-slate-200 bg-white text-sm focus:outline-none focus:ring-2 focus:ring-teal-500",children:[a.jsx("option",{value:"all",children:"All Essays"}),a.jsx("option",{value:"complete",children:"Completed"}),a.jsx("option",{value:"draft",children:"Drafts"}),a.jsx("option",{value:"ai-assisted",children:"AI-Assisted"}),a.jsx("option",{value:"in-review",children:"In Review"})]}),a.jsxs("select",{className:"px-3 py-2 rounded-lg border border-slate-200 bg-white text-sm focus:outline-none focus:ring-2 focus:ring-teal-500",children:[a.jsx("option",{value:"recent",children:"Recently Updated"}),a.jsx("option",{value:"oldest",children:"Oldest First"}),a.jsx("option",{value:"alphabetical",children:"Alphabetical"})]})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.map(s=>a.jsxs("div",{className:"card hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("h3",{className:"font-semibold text-lg text-slate-800",children:s.title}),a.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${t[s.status]}`,children:[n[s.status],s.status==="ai-assisted"?"AI Assisted":s.status.charAt(0).toUpperCase()+s.status.slice(1)]})]}),a.jsx("p",{className:"text-sm text-slate-600 mt-2",children:s.description}),a.jsxs("div",{className:"flex justify-between items-center mt-4 pt-3 border-t border-slate-100",children:[a.jsxs("div",{className:"text-xs text-slate-500",children:[a.jsxs("span",{children:["Updated ",new Date(s.updatedAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]}),a.jsx("span",{className:"mx-2",children:""}),a.jsxs("span",{children:[s.wordCount," words"]})]}),a.jsxs("div",{className:"flex space-x-1",children:[a.jsx("button",{className:"p-1.5 rounded-lg text-slate-500 hover:bg-slate-100 hover:text-slate-700",children:a.jsx(Ek,{size:16})}),a.jsx("button",{className:"p-1.5 rounded-lg text-slate-500 hover:bg-slate-100 hover:text-slate-700",children:a.jsx(xf,{size:16})}),a.jsx("button",{className:"p-1.5 rounded-lg text-slate-500 hover:bg-slate-100 hover:text-red-600",children:a.jsx(Ti,{size:16})})]})]})]},s.id))})]})},V2={};function B2(e,t){let n;try{n=e()}catch{return}return{getItem:r=>{var i;const o=c=>c===null?null:JSON.parse(c,void 0),l=(i=n.getItem(r))!=null?i:null;return l instanceof Promise?l.then(o):o(l)},setItem:(r,i)=>n.setItem(r,JSON.stringify(i,void 0)),removeItem:r=>n.removeItem(r)}}const di=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(s){return di(s)(n)},catch(s){return this}}}catch(n){return{then(s){return this},catch(s){return di(s)(n)}}}},H2=(e,t)=>(n,s,r)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:b=>b,version:0,merge:(b,g)=>({...g,...b}),...t},o=!1;const l=new Set,c=new Set;let u;try{u=i.getStorage()}catch{}if(!u)return e((...b)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...b)},s,r);const d=di(i.serialize),h=()=>{const b=i.partialize({...s()});let g;const v=d({state:b,version:i.version}).then(w=>u.setItem(i.name,w)).catch(w=>{g=w});if(g)throw g;return v},f=r.setState;r.setState=(b,g)=>{f(b,g),h()};const m=e((...b)=>{n(...b),h()},s,r);let p;const x=()=>{var b;if(!u)return;o=!1,l.forEach(v=>v(s()));const g=((b=i.onRehydrateStorage)==null?void 0:b.call(i,s()))||void 0;return di(u.getItem.bind(u))(i.name).then(v=>{if(v)return i.deserialize(v)}).then(v=>{if(v)if(typeof v.version=="number"&&v.version!==i.version){if(i.migrate)return i.migrate(v.state,v.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return v.state}).then(v=>{var w;return p=i.merge(v,(w=s())!=null?w:m),n(p,!0),h()}).then(()=>{g==null||g(p,void 0),o=!0,c.forEach(v=>v(p))}).catch(v=>{g==null||g(void 0,v)})};return r.persist={setOptions:b=>{i={...i,...b},b.getStorage&&(u=b.getStorage())},clearStorage:()=>{u==null||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>x(),hasHydrated:()=>o,onHydrate:b=>(l.add(b),()=>{l.delete(b)}),onFinishHydration:b=>(c.add(b),()=>{c.delete(b)})},x(),p||m},q2=(e,t)=>(n,s,r)=>{let i={storage:B2(()=>localStorage),partialize:x=>x,version:0,merge:(x,b)=>({...b,...x}),...t},o=!1;const l=new Set,c=new Set;let u=i.storage;if(!u)return e((...x)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...x)},s,r);const d=()=>{const x=i.partialize({...s()});return u.setItem(i.name,{state:x,version:i.version})},h=r.setState;r.setState=(x,b)=>{h(x,b),d()};const f=e((...x)=>{n(...x),d()},s,r);r.getInitialState=()=>f;let m;const p=()=>{var x,b;if(!u)return;o=!1,l.forEach(v=>{var w;return v((w=s())!=null?w:f)});const g=((b=i.onRehydrateStorage)==null?void 0:b.call(i,(x=s())!=null?x:f))||void 0;return di(u.getItem.bind(u))(i.name).then(v=>{if(v)if(typeof v.version=="number"&&v.version!==i.version){if(i.migrate)return[!0,i.migrate(v.state,v.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,v.state];return[!1,void 0]}).then(v=>{var w;const[S,j]=v;if(m=i.merge(j,(w=s())!=null?w:f),n(m,!0),S)return d()}).then(()=>{g==null||g(m,void 0),m=s(),o=!0,c.forEach(v=>v(m))}).catch(v=>{g==null||g(void 0,v)})};return r.persist={setOptions:x=>{i={...i,...x},x.storage&&(u=x.storage)},clearStorage:()=>{u==null||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>p(),hasHydrated:()=>o,onHydrate:x=>(l.add(x),()=>{l.delete(x)}),onFinishHydration:x=>(c.add(x),()=>{c.delete(x)})},i.skipHydration||p(),m||f},W2=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((V2?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),H2(e,t)):q2(e,t),G2=W2,Tv=rs()(G2((e,t)=>({documents:[],loading:!1,error:null,addDocument:(n,s,r)=>{const i={id:Date.now().toString(),name:n,content:s,category:r,size:`${(s.length/1024).toFixed(1)} KB`,created_at:new Date().toISOString(),attachments:[]};e(o=>({documents:[i,...o.documents]}))},getDocuments:()=>t().documents,getDocument:n=>t().documents.find(s=>s.id===n),updateDocument:(n,s)=>{e(r=>({documents:r.documents.map(i=>{if(i.id===n){const o={...i,...s};return s.content&&(o.size=`${(s.content.length/1024).toFixed(1)} KB`),o}return i})}))},deleteDocument:n=>{e(s=>({documents:s.documents.filter(r=>r.id!==n)}))}}),{name:"local-documents-storage"})),Pv=({content:e,onChange:t,onSave:n,onCancel:s})=>{const[r,i]=y.useState(!1),[o,l]=y.useState(""),[c,u]=y.useState(!1),[d,h]=y.useState(""),f=b=>{document.execCommand(b,!1)},m=()=>{o&&(document.execCommand("createLink",!1,o),i(!1),l(""))},p=()=>{d&&(document.execCommand("insertImage",!1,d),u(!1),h(""))},x=b=>{var v;const g=(v=b.target.files)==null?void 0:v[0];g&&console.log("File selected:",g)};return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-wrap gap-2 p-2 bg-slate-50 rounded-lg border border-slate-200",children:[a.jsx("button",{onClick:()=>f("bold"),className:"p-2 rounded hover:bg-slate-200",title:"Bold",children:a.jsx(xk,{size:16})}),a.jsx("button",{onClick:()=>f("italic"),className:"p-2 rounded hover:bg-slate-200",title:"Italic",children:a.jsx(Pk,{size:16})}),a.jsx("button",{onClick:()=>f("underline"),className:"p-2 rounded hover:bg-slate-200",title:"Underline",children:a.jsx(zk,{size:16})}),a.jsx("div",{className:"w-px h-6 bg-slate-300 mx-1"}),a.jsx("button",{onClick:()=>f("insertUnorderedList"),className:"p-2 rounded hover:bg-slate-200",title:"Bullet List",children:a.jsx(Ok,{size:16})}),a.jsx("button",{onClick:()=>f("insertOrderedList"),className:"p-2 rounded hover:bg-slate-200",title:"Numbered List",children:a.jsx(Rk,{size:16})}),a.jsx("div",{className:"w-px h-6 bg-slate-300 mx-1"}),a.jsx("button",{onClick:()=>i(!0),className:"p-2 rounded hover:bg-slate-200",title:"Insert Link",children:a.jsx(Ak,{size:16})}),a.jsx("button",{onClick:()=>u(!0),className:"p-2 rounded hover:bg-slate-200",title:"Insert Image",children:a.jsx(Tk,{size:16})}),a.jsx("div",{className:"w-px h-6 bg-slate-300 mx-1"}),a.jsxs("label",{className:"p-2 rounded hover:bg-slate-200 cursor-pointer",title:"Attach File",children:[a.jsx(ai,{size:16}),a.jsx("input",{type:"file",className:"hidden",onChange:x})]})]}),r&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:a.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-lg",children:[a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Insert Link"}),a.jsx("input",{type:"url",value:o,onChange:b=>l(b.target.value),placeholder:"Enter URL",className:"w-full px-3 py-2 border rounded-lg mb-2"}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx("button",{onClick:()=>i(!1),className:"px-4 py-2 text-slate-600 hover:bg-slate-100 rounded-lg",children:"Cancel"}),a.jsx("button",{onClick:m,className:"px-4 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700",children:"Insert"})]})]})}),c&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:a.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-lg",children:[a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Insert Image"}),a.jsx("input",{type:"url",value:d,onChange:b=>h(b.target.value),placeholder:"Enter image URL",className:"w-full px-3 py-2 border rounded-lg mb-2"}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx("button",{onClick:()=>u(!1),className:"px-4 py-2 text-slate-600 hover:bg-slate-100 rounded-lg",children:"Cancel"}),a.jsx("button",{onClick:p,className:"px-4 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700",children:"Insert"})]})]})}),a.jsx("div",{contentEditable:!0,className:"min-h-[400px] p-4 border rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",onInput:b=>t(b.currentTarget.innerHTML),dangerouslySetInnerHTML:{__html:e}}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsxs("button",{onClick:s,className:"px-4 py-2 text-slate-600 hover:bg-slate-100 rounded-lg flex items-center",children:[a.jsx(ct,{size:16,className:"mr-1"}),"Cancel"]}),a.jsxs("button",{onClick:n,className:"px-4 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700 flex items-center",children:[a.jsx(id,{size:16,className:"mr-1"}),"Save"]})]})]})},K2=()=>{const[e,t]=y.useState(""),[n,s]=y.useState(""),[r,i]=y.useState("Experience Reports"),[o,l]=y.useState([]),[c,u]=y.useState(!1),d=ft(),{addDocument:h}=Tv(),f=async()=>{try{if(!n.trim()){alert("Please enter a document name");return}u(!0),h(n,e,r),d("/documents")}catch(x){console.error("Error saving document:",x),alert("Error saving document. Please try again.")}finally{u(!1)}},m=async x=>{var g;const b=(g=x.target.files)==null?void 0:g[0];if(b)try{const v={id:Date.now().toString(),name:b.name,type:b.type,size:b.size,url:URL.createObjectURL(b)};l(w=>[...w,v])}catch(v){console.error("Error uploading file:",v),alert("Error uploading file. Please try again.")}},p=x=>{l(b=>b.filter(g=>g.id!==x))};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{onClick:()=>d("/documents"),className:"p-2 rounded-lg text-slate-500 hover:bg-slate-100",children:a.jsx(rv,{size:20})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-slate-800",children:"New Text Document"}),a.jsx("p",{className:"text-slate-500 mt-1",children:"Write and save your text"})]})]}),a.jsxs("div",{className:"card space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"documentName",className:"block text-sm font-medium text-slate-700 mb-1",children:"Document Name"}),a.jsx("input",{id:"documentName",type:"text",value:n,onChange:x=>s(x.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Enter document name..."})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-slate-700 mb-1",children:"Category"}),a.jsxs("select",{id:"category",value:r,onChange:x=>i(x.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",children:[a.jsx("option",{value:"Experience Reports",children:"Experience Reports"}),a.jsx("option",{value:"Technical Reports",children:"Technical Reports"}),a.jsx("option",{value:"Certificates",children:"Certificates"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Content"}),a.jsx(Pv,{content:e,onChange:t,onSave:f,onCancel:()=>d("/documents")})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Attachments"}),a.jsxs("div",{className:"space-y-2",children:[o.map(x=>a.jsxs("div",{className:"flex items-center justify-between p-2 bg-slate-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ai,{size:16,className:"text-slate-500"}),a.jsx("span",{className:"text-sm text-slate-700",children:x.name}),a.jsxs("span",{className:"text-xs text-slate-500",children:["(",(x.size/1024).toFixed(1)," KB)"]})]}),a.jsx("button",{onClick:()=>p(x.id),className:"p-1 text-slate-500 hover:text-red-600",children:a.jsx(ct,{size:16})})]},x.id)),a.jsxs("label",{className:"flex items-center space-x-2 p-2 border-2 border-dashed border-slate-200 rounded-lg cursor-pointer hover:border-teal-500",children:[a.jsx(ai,{size:16,className:"text-slate-500"}),a.jsx("span",{className:"text-sm text-slate-700",children:"Add attachment"}),a.jsx("input",{type:"file",className:"hidden",onChange:m})]})]})]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsxs("button",{onClick:f,disabled:c,className:"btn btn-primary flex items-center",children:[a.jsx(id,{size:16,className:"mr-1.5"}),c?"Saving...":"Save Document"]})})]})},J2=()=>a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 p-4",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-9xl font-bold text-teal-600",children:"404"}),a.jsx("h2",{className:"text-3xl font-semibold text-slate-800 mt-4",children:"Page Not Found"}),a.jsx("p",{className:"text-slate-500 max-w-md mx-auto mt-2",children:"The page you're looking for doesn't exist or has been moved."}),a.jsxs(ot,{to:"/",className:"inline-flex items-center px-4 py-2 mt-6 rounded-lg bg-teal-600 text-white hover:bg-teal-700 transition-colors",children:[a.jsx(rd,{size:18,className:"mr-2"}),"Back to Dashboard"]})]})}),Y2=()=>{const{id:e}=mb(),t=ft(),{getDocument:n,updateDocument:s}=Tv(),[r,i]=y.useState(""),[o,l]=y.useState(""),[c,u]=y.useState("Experience Reports"),[d,h]=y.useState([]),[f,m]=y.useState(!1);y.useEffect(()=>{if(e){const g=n(e);g?(i(g.content),l(g.name),u(g.category),g.attachments&&h(g.attachments)):t("/documents")}},[e,n,t]);const p=async()=>{try{if(!o.trim()){alert("Please enter a document name");return}m(!0),e&&(await s(e,{name:o,content:r,category:c,attachments:d}),t("/documents"))}catch(g){console.error("Error updating document:",g),alert("Error updating document. Please try again.")}finally{m(!1)}},x=async g=>{var w;const v=(w=g.target.files)==null?void 0:w[0];if(v)try{const S={id:Date.now().toString(),name:v.name,type:v.type,size:v.size,url:URL.createObjectURL(v)};h(j=>[...j,S])}catch(S){console.error("Error uploading file:",S),alert("Error uploading file. Please try again.")}},b=g=>{h(v=>v.filter(w=>w.id!==g))};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{onClick:()=>t("/documents"),className:"p-2 rounded-lg text-slate-500 hover:bg-slate-100",children:a.jsx(rv,{size:20})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-slate-800",children:"Edit Document"}),a.jsx("p",{className:"text-slate-500 mt-1",children:"Modify your document"})]})]}),a.jsxs("div",{className:"card space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"documentName",className:"block text-sm font-medium text-slate-700 mb-1",children:"Document Name"}),a.jsx("input",{id:"documentName",type:"text",value:o,onChange:g=>l(g.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Enter document name..."})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-slate-700 mb-1",children:"Category"}),a.jsxs("select",{id:"category",value:c,onChange:g=>u(g.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",children:[a.jsx("option",{value:"Experience Reports",children:"Experience Reports"}),a.jsx("option",{value:"Technical Reports",children:"Technical Reports"}),a.jsx("option",{value:"Certificates",children:"Certificates"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Content"}),a.jsx(Pv,{content:r,onChange:i,onSave:p,onCancel:()=>t("/documents")})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Attachments"}),a.jsxs("div",{className:"space-y-2",children:[d.map(g=>a.jsxs("div",{className:"flex items-center justify-between p-2 bg-slate-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ai,{size:16,className:"text-slate-500"}),a.jsx("span",{className:"text-sm text-slate-700",children:g.name}),a.jsxs("span",{className:"text-xs text-slate-500",children:["(",(g.size/1024).toFixed(1)," KB)"]})]}),a.jsx("button",{onClick:()=>b(g.id),className:"p-1 text-slate-500 hover:text-red-600",children:a.jsx(ct,{size:16})})]},g.id)),a.jsxs("label",{className:"flex items-center space-x-2 p-2 border-2 border-dashed border-slate-200 rounded-lg cursor-pointer hover:border-teal-500",children:[a.jsx(ai,{size:16,className:"text-slate-500"}),a.jsx("span",{className:"text-sm text-slate-700",children:"Add attachment"}),a.jsx("input",{type:"file",className:"hidden",onChange:x})]})]})]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsxs("button",{onClick:p,disabled:f,className:"btn btn-primary flex items-center",children:[a.jsx(id,{size:16,className:"mr-1.5"}),f?"Saving...":"Save Changes"]})})]})},Q2=[{name:"Free",price:"$0",description:"Perfect for getting started",features:["Basic progress tracking","Up to 5 documents","Standard support","Basic analytics"],buttonText:"Current Plan",isPopular:!1}],X2=()=>{const[e,t]=y.useState(null),[n,s]=y.useState(""),[r,i]=y.useState(""),[o,l]=y.useState(""),[c,u]=y.useState(""),[d,h]=y.useState(!1),[f,m]=y.useState({type:"",text:""}),[p,x]=y.useState(!1),[b,g]=y.useState(!1),[v,w]=y.useState(!1),[S,j]=y.useState(""),[C,k]=y.useState(""),[_,R]=y.useState(""),[O,N]=y.useState(""),[$,P]=y.useState("Free"),[L,T]=y.useState(null),[D,U]=y.useState("");y.useEffect(()=>{(async()=>{var ke,Ke;const{data:{user:Z}}=await A.auth.getUser();Z&&(t(Z),s(((ke=Z.user_metadata)==null?void 0:ke.full_name)||""),i(Z.email||""),l(Z.email||""),u(((Ke=Z.user_metadata)==null?void 0:Ke.avatar_url)||""))})()},[]);const E=B=>B.split(" ").map(Z=>Z[0]).join("").toUpperCase(),M=async()=>{if(!(!L||!e)){h(!0);try{const B=L.name.split(".").pop(),Z=`${e.id}.${B}`,{error:ke}=await A.storage.from("avatars").upload(Z,L,{upsert:!0});if(ke)throw ke;const{data:Ke}=A.storage.from("avatars").getPublicUrl(Z),jt=Ke.publicUrl,{error:An}=await A.auth.updateUser({data:{...e.user_metadata,avatar_url:jt}});if(An)throw An;u(jt),m({type:"success",text:"Profile picture updated!"}),T(null),U("")}catch{m({type:"error",text:"Failed to update avatar."})}finally{h(!1)}}},z=async()=>{if(e){h(!0);try{const{error:B}=await A.auth.updateUser({data:{...e.user_metadata,avatar_url:""}});if(B)throw B;u(""),m({type:"success",text:"Profile picture removed."})}catch{m({type:"error",text:"Failed to remove avatar."})}finally{h(!1)}}},K=async B=>{B.preventDefault(),h(!0),m({type:"",text:""});try{const Z={};p&&(Z.data={full_name:n}),b&&o!==r&&(Z.email=o);const{error:ke}=await A.auth.updateUser(Z);if(ke)throw ke;m({type:"success",text:"Profile updated successfully!"}),x(!1),g(!1);const{data:{user:Ke}}=await A.auth.getUser();Ke&&(t(Ke),i(Ke.email||""),l(Ke.email||""))}catch(Z){m({type:"error",text:"Failed to update profile. Please try again."}),console.error("Error updating profile:",Z)}finally{h(!1)}};return a.jsxs("div",{className:"max-w-3xl mx-auto p-6 space-y-8",children:[a.jsxs("section",{className:"card p-6 flex flex-col md:flex-row gap-6 items-center",children:[a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsxs("div",{className:"relative",children:[D||c?a.jsx("img",{src:D||c,className:"w-24 h-24 rounded-full object-cover bg-slate-100",alt:"Profile"}):a.jsx("div",{className:"w-24 h-24 rounded-full bg-teal-500 flex items-center justify-center text-white text-3xl font-bold",children:E(n||r)}),(D||c)&&a.jsx("button",{className:"absolute -top-2 -right-2 bg-slate-100 rounded-full p-1 shadow hover:bg-slate-200",onClick:z,disabled:d,title:"Remove profile picture",style:{zIndex:10},children:a.jsx("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",className:"text-red-600",children:a.jsx("path",{d:"M6 6l8 8M6 14L14 6",strokeWidth:"2"})})})]}),L&&a.jsx("button",{className:"btn btn-primary mt-2",onClick:M,disabled:d,children:d?"Uploading...":"Save Photo"})]}),a.jsxs("form",{className:"flex-1 space-y-4",onSubmit:K,children:[a.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2 mb-2",children:[a.jsx(Bk,{})," Profile Information"]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"fullName",className:"label",children:"Full Name"}),p?a.jsxs("div",{className:"space-y-2",children:[a.jsx("input",{type:"text",id:"fullName",value:n,onChange:B=>s(B.target.value),className:"input",placeholder:"Enter your full name"}),a.jsx("div",{className:"flex space-x-2",children:a.jsx("button",{type:"button",onClick:()=>x(!1),className:"btn btn-secondary",children:"Cancel"})})]}):a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{children:n||"Not set"}),a.jsx("button",{type:"button",onClick:()=>x(!0),className:"text-sm text-teal-600 hover:text-teal-700",children:"Edit"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"label",children:"Email Address"}),b?a.jsxs("div",{className:"space-y-2",children:[a.jsx("input",{type:"email",id:"newEmail",value:o,onChange:B=>l(B.target.value),className:"input",placeholder:"Enter your new email"}),a.jsx("p",{className:"text-sm text-slate-500",children:"After changing your email, you'll need to use the new email address to log in."}),a.jsx("div",{className:"flex space-x-2",children:a.jsx("button",{type:"button",onClick:()=>g(!1),className:"btn btn-secondary",children:"Cancel"})})]}):a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{children:r}),a.jsx("button",{type:"button",onClick:()=>g(!0),className:"text-sm text-teal-600 hover:text-teal-700",children:"Edit"})]})]}),(p||b)&&a.jsx("button",{type:"submit",disabled:d,className:"btn btn-primary",children:d?"Saving...":"Save Changes"})]})]}),a.jsxs("section",{className:"card p-6",children:[a.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2 mb-2",children:[a.jsx(Lk,{})," Security"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"label",children:"Password"}),v?a.jsxs("div",{className:"space-y-4",children:[a.jsx("input",{type:"password",id:"currentPassword",value:S,onChange:B=>j(B.target.value),className:"input",placeholder:"Current password"}),a.jsx("input",{type:"password",id:"newPassword",value:C,onChange:B=>k(B.target.value),className:"input",placeholder:"New password"}),a.jsx("input",{type:"password",id:"confirmPassword",value:_,onChange:B=>R(B.target.value),className:"input",placeholder:"Confirm new password"}),O&&a.jsx("p",{className:"text-sm text-red-600",children:O}),a.jsx("div",{className:"flex space-x-2",children:a.jsx("button",{type:"button",onClick:()=>w(!1),className:"btn btn-secondary",children:"Cancel"})})]}):a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{children:""}),a.jsx("button",{type:"button",onClick:()=>w(!0),className:"text-sm text-teal-600 hover:text-teal-700",children:"Change"})]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsx("label",{className:"label",children:"Two-Factor Authentication"}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Coming soon: Add an extra layer of security to your account."})]})]})]}),a.jsxs("section",{className:"card p-6",children:[a.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2 mb-2",children:[a.jsx(iv,{})," Notifications"]}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Coming soon: Manage your email and in-app notification preferences."})]}),a.jsxs("section",{className:"card p-6",children:[a.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2 mb-2",children:[a.jsx(Fk,{})," Appearance"]}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Coming soon: Switch between light and dark mode."})]}),a.jsxs("section",{className:"card p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Subscription Plan"}),a.jsx("div",{className:"grid gap-6 md:grid-cols-1",children:Q2.map(B=>a.jsxs("div",{className:`relative rounded-lg border ${B.isPopular?"border-teal-500":"border-slate-200"} p-6`,children:[B.isPopular&&a.jsx("span",{className:"absolute -top-3 left-1/2 -translate-x-1/2 bg-teal-500 text-white px-3 py-1 rounded-full text-sm",children:"Most Popular"}),a.jsx("h3",{className:"text-lg font-semibold",children:B.name}),a.jsx("div",{className:"mt-2 flex items-baseline",children:a.jsx("span",{className:"text-2xl font-bold",children:B.price})}),a.jsx("p",{className:"mt-2 text-sm text-slate-500",children:B.description}),a.jsx("ul",{className:"mt-4 space-y-2",children:B.features.map(Z=>a.jsxs("li",{className:"flex items-center",children:[a.jsx(bk,{className:"h-4 w-4 text-teal-500 mr-2"}),a.jsx("span",{className:"text-sm text-slate-600",children:Z})]},Z))}),a.jsx("button",{className:`mt-6 w-full rounded-md px-4 py-2 text-sm font-medium ${B.isPopular?"bg-teal-600 text-white hover:bg-teal-700":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,disabled:!0,children:B.buttonText})]},B.name))})]}),a.jsxs("section",{className:"card p-6 border-red-200",children:[a.jsxs("h2",{className:"text-lg font-semibold text-red-600 flex items-center gap-2 mb-2",children:[a.jsx(Ti,{})," Danger Zone"]}),a.jsx("button",{className:"btn btn-danger",children:"Delete Account"}),a.jsx("p",{className:"text-slate-500 text-sm mt-2",children:"This action is irreversible. Your data will be permanently deleted."})]}),f.text&&a.jsx("div",{className:`fixed bottom-4 right-4 p-4 rounded-md z-50 ${f.type==="success"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:f.text})]})};var Af;(function(e){e.STRING="string",e.NUMBER="number",e.INTEGER="integer",e.BOOLEAN="boolean",e.ARRAY="array",e.OBJECT="object"})(Af||(Af={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rf;(function(e){e.LANGUAGE_UNSPECIFIED="language_unspecified",e.PYTHON="python"})(Rf||(Rf={}));var Of;(function(e){e.OUTCOME_UNSPECIFIED="outcome_unspecified",e.OUTCOME_OK="outcome_ok",e.OUTCOME_FAILED="outcome_failed",e.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(Of||(Of={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const If=["user","model","function","system"];var Lf;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(Lf||(Lf={}));var Df;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(Df||(Df={}));var Mf;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(Mf||(Mf={}));var $f;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER"})($f||($f={}));var Ir;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.OTHER="OTHER"})(Ir||(Ir={}));var Uf;(function(e){e.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",e.RETRIEVAL_QUERY="RETRIEVAL_QUERY",e.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",e.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",e.CLASSIFICATION="CLASSIFICATION",e.CLUSTERING="CLUSTERING"})(Uf||(Uf={}));var Ff;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE"})(Ff||(Ff={}));var zf;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(zf||(zf={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae extends Error{constructor(t){super(`[GoogleGenerativeAI Error]: ${t}`)}}class us extends Ae{constructor(t,n){super(t),this.response=n}}class Av extends Ae{constructor(t,n,s,r){super(t),this.status=n,this.statusText=s,this.errorDetails=r}}class bn extends Ae{}class Rv extends Ae{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2="https://generativelanguage.googleapis.com",eE="v1beta",tE="0.24.1",nE="genai-js";var Zn;(function(e){e.GENERATE_CONTENT="generateContent",e.STREAM_GENERATE_CONTENT="streamGenerateContent",e.COUNT_TOKENS="countTokens",e.EMBED_CONTENT="embedContent",e.BATCH_EMBED_CONTENTS="batchEmbedContents"})(Zn||(Zn={}));class sE{constructor(t,n,s,r,i){this.model=t,this.task=n,this.apiKey=s,this.stream=r,this.requestOptions=i}toString(){var t,n;const s=((t=this.requestOptions)===null||t===void 0?void 0:t.apiVersion)||eE;let i=`${((n=this.requestOptions)===null||n===void 0?void 0:n.baseUrl)||Z2}/${s}/${this.model}:${this.task}`;return this.stream&&(i+="?alt=sse"),i}}function rE(e){const t=[];return e!=null&&e.apiClient&&t.push(e.apiClient),t.push(`${nE}/${tE}`),t.join(" ")}async function iE(e){var t;const n=new Headers;n.append("Content-Type","application/json"),n.append("x-goog-api-client",rE(e.requestOptions)),n.append("x-goog-api-key",e.apiKey);let s=(t=e.requestOptions)===null||t===void 0?void 0:t.customHeaders;if(s){if(!(s instanceof Headers))try{s=new Headers(s)}catch(r){throw new bn(`unable to convert customHeaders value ${JSON.stringify(s)} to Headers: ${r.message}`)}for(const[r,i]of s.entries()){if(r==="x-goog-api-key")throw new bn(`Cannot set reserved header name ${r}`);if(r==="x-goog-api-client")throw new bn(`Header name ${r} can only be set using the apiClient field`);n.append(r,i)}}return n}async function oE(e,t,n,s,r,i){const o=new sE(e,t,n,s,i);return{url:o.toString(),fetchOptions:Object.assign(Object.assign({},uE(i)),{method:"POST",headers:await iE(o),body:r})}}async function Pi(e,t,n,s,r,i={},o=fetch){const{url:l,fetchOptions:c}=await oE(e,t,n,s,r,i);return aE(l,c,o)}async function aE(e,t,n=fetch){let s;try{s=await n(e,t)}catch(r){lE(r,e)}return s.ok||await cE(s,e),s}function lE(e,t){let n=e;throw n.name==="AbortError"?(n=new Rv(`Request aborted when fetching ${t.toString()}: ${e.message}`),n.stack=e.stack):e instanceof Av||e instanceof bn||(n=new Ae(`Error fetching from ${t.toString()}: ${e.message}`),n.stack=e.stack),n}async function cE(e,t){let n="",s;try{const r=await e.json();n=r.error.message,r.error.details&&(n+=` ${JSON.stringify(r.error.details)}`,s=r.error.details)}catch{}throw new Av(`Error fetching from ${t.toString()}: [${e.status} ${e.statusText}] ${n}`,e.status,e.statusText,s)}function uE(e){const t={};if((e==null?void 0:e.signal)!==void 0||(e==null?void 0:e.timeout)>=0){const n=new AbortController;(e==null?void 0:e.timeout)>=0&&setTimeout(()=>n.abort(),e.timeout),e!=null&&e.signal&&e.signal.addEventListener("abort",()=>{n.abort()}),t.signal=n.signal}return t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ad(e){return e.text=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),xo(e.candidates[0]))throw new us(`${rn(e)}`,e);return dE(e)}else if(e.promptFeedback)throw new us(`Text not available. ${rn(e)}`,e);return""},e.functionCall=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),xo(e.candidates[0]))throw new us(`${rn(e)}`,e);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),Vf(e)[0]}else if(e.promptFeedback)throw new us(`Function call not available. ${rn(e)}`,e)},e.functionCalls=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),xo(e.candidates[0]))throw new us(`${rn(e)}`,e);return Vf(e)}else if(e.promptFeedback)throw new us(`Function call not available. ${rn(e)}`,e)},e}function dE(e){var t,n,s,r;const i=[];if(!((n=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||n===void 0)&&n.parts)for(const o of(r=(s=e.candidates)===null||s===void 0?void 0:s[0].content)===null||r===void 0?void 0:r.parts)o.text&&i.push(o.text),o.executableCode&&i.push("\n```"+o.executableCode.language+`
`+o.executableCode.code+"\n```\n"),o.codeExecutionResult&&i.push("\n```\n"+o.codeExecutionResult.output+"\n```\n");return i.length>0?i.join(""):""}function Vf(e){var t,n,s,r;const i=[];if(!((n=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||n===void 0)&&n.parts)for(const o of(r=(s=e.candidates)===null||s===void 0?void 0:s[0].content)===null||r===void 0?void 0:r.parts)o.functionCall&&i.push(o.functionCall);if(i.length>0)return i}const hE=[Ir.RECITATION,Ir.SAFETY,Ir.LANGUAGE];function xo(e){return!!e.finishReason&&hE.includes(e.finishReason)}function rn(e){var t,n,s;let r="";if((!e.candidates||e.candidates.length===0)&&e.promptFeedback)r+="Response was blocked",!((t=e.promptFeedback)===null||t===void 0)&&t.blockReason&&(r+=` due to ${e.promptFeedback.blockReason}`),!((n=e.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(r+=`: ${e.promptFeedback.blockReasonMessage}`);else if(!((s=e.candidates)===null||s===void 0)&&s[0]){const i=e.candidates[0];xo(i)&&(r+=`Candidate was blocked due to ${i.finishReason}`,i.finishMessage&&(r+=`: ${i.finishMessage}`))}return r}function hi(e){return this instanceof hi?(this.v=e,this):new hi(e)}function fE(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=n.apply(e,t||[]),r,i=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(f){s[f]&&(r[f]=function(m){return new Promise(function(p,x){i.push([f,m,p,x])>1||l(f,m)})})}function l(f,m){try{c(s[f](m))}catch(p){h(i[0][3],p)}}function c(f){f.value instanceof hi?Promise.resolve(f.value.v).then(u,d):h(i[0][2],f)}function u(f){l("next",f)}function d(f){l("throw",f)}function h(f,m){f(m),i.shift(),i.length&&l(i[0][0],i[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bf=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function mE(e){const t=e.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=vE(t),[s,r]=n.tee();return{stream:gE(s),response:pE(r)}}async function pE(e){const t=[],n=e.getReader();for(;;){const{done:s,value:r}=await n.read();if(s)return ad(yE(t));t.push(r)}}function gE(e){return fE(this,arguments,function*(){const n=e.getReader();for(;;){const{value:s,done:r}=yield hi(n.read());if(r)break;yield yield hi(ad(s))}})}function vE(e){const t=e.getReader();return new ReadableStream({start(s){let r="";return i();function i(){return t.read().then(({value:o,done:l})=>{if(l){if(r.trim()){s.error(new Ae("Failed to parse stream"));return}s.close();return}r+=o;let c=r.match(Bf),u;for(;c;){try{u=JSON.parse(c[1])}catch{s.error(new Ae(`Error parsing JSON response: "${c[1]}"`));return}s.enqueue(u),r=r.substring(c[0].length),c=r.match(Bf)}return i()}).catch(o=>{let l=o;throw l.stack=o.stack,l.name==="AbortError"?l=new Rv("Request aborted when reading from the stream"):l=new Ae("Error reading from the stream"),l})}}})}function yE(e){const t=e[e.length-1],n={promptFeedback:t==null?void 0:t.promptFeedback};for(const s of e){if(s.candidates){let r=0;for(const i of s.candidates)if(n.candidates||(n.candidates=[]),n.candidates[r]||(n.candidates[r]={index:r}),n.candidates[r].citationMetadata=i.citationMetadata,n.candidates[r].groundingMetadata=i.groundingMetadata,n.candidates[r].finishReason=i.finishReason,n.candidates[r].finishMessage=i.finishMessage,n.candidates[r].safetyRatings=i.safetyRatings,i.content&&i.content.parts){n.candidates[r].content||(n.candidates[r].content={role:i.content.role||"user",parts:[]});const o={};for(const l of i.content.parts)l.text&&(o.text=l.text),l.functionCall&&(o.functionCall=l.functionCall),l.executableCode&&(o.executableCode=l.executableCode),l.codeExecutionResult&&(o.codeExecutionResult=l.codeExecutionResult),Object.keys(o).length===0&&(o.text=""),n.candidates[r].content.parts.push(o)}r++}s.usageMetadata&&(n.usageMetadata=s.usageMetadata)}return n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ov(e,t,n,s){const r=await Pi(t,Zn.STREAM_GENERATE_CONTENT,e,!0,JSON.stringify(n),s);return mE(r)}async function Iv(e,t,n,s){const i=await(await Pi(t,Zn.GENERATE_CONTENT,e,!1,JSON.stringify(n),s)).json();return{response:ad(i)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lv(e){if(e!=null){if(typeof e=="string")return{role:"system",parts:[{text:e}]};if(e.text)return{role:"system",parts:[e]};if(e.parts)return e.role?e:{role:"system",parts:e.parts}}}function fi(e){let t=[];if(typeof e=="string")t=[{text:e}];else for(const n of e)typeof n=="string"?t.push({text:n}):t.push(n);return xE(t)}function xE(e){const t={role:"user",parts:[]},n={role:"function",parts:[]};let s=!1,r=!1;for(const i of e)"functionResponse"in i?(n.parts.push(i),r=!0):(t.parts.push(i),s=!0);if(s&&r)throw new Ae("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!s&&!r)throw new Ae("No content is provided for sending chat message.");return s?t:n}function wE(e,t){var n;let s={model:t==null?void 0:t.model,generationConfig:t==null?void 0:t.generationConfig,safetySettings:t==null?void 0:t.safetySettings,tools:t==null?void 0:t.tools,toolConfig:t==null?void 0:t.toolConfig,systemInstruction:t==null?void 0:t.systemInstruction,cachedContent:(n=t==null?void 0:t.cachedContent)===null||n===void 0?void 0:n.name,contents:[]};const r=e.generateContentRequest!=null;if(e.contents){if(r)throw new bn("CountTokensRequest must have one of contents or generateContentRequest, not both.");s.contents=e.contents}else if(r)s=Object.assign(Object.assign({},s),e.generateContentRequest);else{const i=fi(e);s.contents=[i]}return{generateContentRequest:s}}function Hf(e){let t;return e.contents?t=e:t={contents:[fi(e)]},e.systemInstruction&&(t.systemInstruction=Lv(e.systemInstruction)),t}function bE(e){return typeof e=="string"||Array.isArray(e)?{content:fi(e)}:e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qf=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],SE={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function jE(e){let t=!1;for(const n of e){const{role:s,parts:r}=n;if(!t&&s!=="user")throw new Ae(`First content should be with role 'user', got ${s}`);if(!If.includes(s))throw new Ae(`Each item should include role field. Got ${s} but valid roles are: ${JSON.stringify(If)}`);if(!Array.isArray(r))throw new Ae("Content should have 'parts' property with an array of Parts");if(r.length===0)throw new Ae("Each Content should have at least one part");const i={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const l of r)for(const c of qf)c in l&&(i[c]+=1);const o=SE[s];for(const l of qf)if(!o.includes(l)&&i[l]>0)throw new Ae(`Content with role '${s}' can't contain '${l}' part`);t=!0}}function Wf(e){var t;if(e.candidates===void 0||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;if(n===void 0||n.parts===void 0||n.parts.length===0)return!1;for(const s of n.parts)if(s===void 0||Object.keys(s).length===0||s.text!==void 0&&s.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gf="SILENT_ERROR";class kE{constructor(t,n,s,r={}){this.model=n,this.params=s,this._requestOptions=r,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=t,s!=null&&s.history&&(jE(s.history),this._history=s.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(t,n={}){var s,r,i,o,l,c;await this._sendPromise;const u=fi(t),d={safetySettings:(s=this.params)===null||s===void 0?void 0:s.safetySettings,generationConfig:(r=this.params)===null||r===void 0?void 0:r.generationConfig,tools:(i=this.params)===null||i===void 0?void 0:i.tools,toolConfig:(o=this.params)===null||o===void 0?void 0:o.toolConfig,systemInstruction:(l=this.params)===null||l===void 0?void 0:l.systemInstruction,cachedContent:(c=this.params)===null||c===void 0?void 0:c.cachedContent,contents:[...this._history,u]},h=Object.assign(Object.assign({},this._requestOptions),n);let f;return this._sendPromise=this._sendPromise.then(()=>Iv(this._apiKey,this.model,d,h)).then(m=>{var p;if(Wf(m.response)){this._history.push(u);const x=Object.assign({parts:[],role:"model"},(p=m.response.candidates)===null||p===void 0?void 0:p[0].content);this._history.push(x)}else{const x=rn(m.response);x&&console.warn(`sendMessage() was unsuccessful. ${x}. Inspect response object for details.`)}f=m}).catch(m=>{throw this._sendPromise=Promise.resolve(),m}),await this._sendPromise,f}async sendMessageStream(t,n={}){var s,r,i,o,l,c;await this._sendPromise;const u=fi(t),d={safetySettings:(s=this.params)===null||s===void 0?void 0:s.safetySettings,generationConfig:(r=this.params)===null||r===void 0?void 0:r.generationConfig,tools:(i=this.params)===null||i===void 0?void 0:i.tools,toolConfig:(o=this.params)===null||o===void 0?void 0:o.toolConfig,systemInstruction:(l=this.params)===null||l===void 0?void 0:l.systemInstruction,cachedContent:(c=this.params)===null||c===void 0?void 0:c.cachedContent,contents:[...this._history,u]},h=Object.assign(Object.assign({},this._requestOptions),n),f=Ov(this._apiKey,this.model,d,h);return this._sendPromise=this._sendPromise.then(()=>f).catch(m=>{throw new Error(Gf)}).then(m=>m.response).then(m=>{if(Wf(m)){this._history.push(u);const p=Object.assign({},m.candidates[0].content);p.role||(p.role="model"),this._history.push(p)}else{const p=rn(m);p&&console.warn(`sendMessageStream() was unsuccessful. ${p}. Inspect response object for details.`)}}).catch(m=>{m.message!==Gf&&console.error(m)}),f}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _E(e,t,n,s){return(await Pi(t,Zn.COUNT_TOKENS,e,!1,JSON.stringify(n),s)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EE(e,t,n,s){return(await Pi(t,Zn.EMBED_CONTENT,e,!1,JSON.stringify(n),s)).json()}async function NE(e,t,n,s){const r=n.requests.map(o=>Object.assign(Object.assign({},o),{model:t}));return(await Pi(t,Zn.BATCH_EMBED_CONTENTS,e,!1,JSON.stringify({requests:r}),s)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(t,n,s={}){this.apiKey=t,this._requestOptions=s,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=Lv(n.systemInstruction),this.cachedContent=n.cachedContent}async generateContent(t,n={}){var s;const r=Hf(t),i=Object.assign(Object.assign({},this._requestOptions),n);return Iv(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(s=this.cachedContent)===null||s===void 0?void 0:s.name},r),i)}async generateContentStream(t,n={}){var s;const r=Hf(t),i=Object.assign(Object.assign({},this._requestOptions),n);return Ov(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(s=this.cachedContent)===null||s===void 0?void 0:s.name},r),i)}startChat(t){var n;return new kE(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},t),this._requestOptions)}async countTokens(t,n={}){const s=wE(t,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),r=Object.assign(Object.assign({},this._requestOptions),n);return _E(this.apiKey,this.model,s,r)}async embedContent(t,n={}){const s=bE(t),r=Object.assign(Object.assign({},this._requestOptions),n);return EE(this.apiKey,this.model,s,r)}async batchEmbedContents(t,n={}){const s=Object.assign(Object.assign({},this._requestOptions),n);return NE(this.apiKey,this.model,t,s)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(t){this.apiKey=t}getGenerativeModel(t,n){if(!t.model)throw new Ae("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new Kf(this.apiKey,t,n)}getGenerativeModelFromCachedContent(t,n,s){if(!t.name)throw new bn("Cached content must contain a `name` field.");if(!t.model)throw new bn("Cached content must contain a `model` field.");const r=["model","systemInstruction"];for(const o of r)if(n!=null&&n[o]&&t[o]&&(n==null?void 0:n[o])!==t[o]){if(o==="model"){const l=n.model.startsWith("models/")?n.model.replace("models/",""):n.model,c=t.model.startsWith("models/")?t.model.replace("models/",""):t.model;if(l===c)continue}throw new bn(`Different value for "${o}" specified in modelParams (${n[o]}) and cachedContent (${t[o]})`)}const i=Object.assign(Object.assign({},n),{model:t.model,tools:t.tools,toolConfig:t.toolConfig,systemInstruction:t.systemInstruction,cachedContent:t});return new Kf(this.apiKey,i,s)}}const TE=({isOpen:e,onClose:t,editSAO:n})=>{const[s,r]=y.useState(""),[i,o]=y.useState(""),[l,c]=y.useState([]),[u,d]=y.useState(!1),[h,f]=y.useState(!1),[m,p]=y.useState(null),{skillCategories:x}=qt(),{createSAO:b,updateSAO:g,loading:v,error:w}=od();y.useEffect(()=>{e&&n?(r(n.title),o(n.content),c(n.skills)):e&&(r(""),o(""),c([]))},[e,n]);const S=async R=>{R.preventDefault();try{n?await g(n.id,s,i,l):await b(s,i,l),r(""),o(""),c([]),t()}catch(O){console.error("Error saving SAO:",O)}},j=async R=>{console.log("Making API call to Gemini...");const N=`You are an expert in writing professional Situation-Action-Outcome (SAO) statements. Please enhance the following SAO statement following these specific guidelines:

1. Structure:
   - Situation: Clearly describe the context, challenge, or problem faced
   - Action: Detail the specific steps taken, emphasizing your personal involvement
   - Outcome: Quantify results and highlight the impact of your actions

2. Best Practices:
   - Use active voice and strong action verbs
   - Include specific metrics and numbers where possible
   - Focus on your personal contributions and leadership
   - Highlight problem-solving and decision-making skills
   - Maintain a professional and confident tone
   - Keep the statement concise but impactful

3. Key Elements to Include:
   - Clear problem statement
   - Specific actions taken
   - Measurable results
   - Skills demonstrated
   - Impact on the organization/team

Please enhance the following SAO statement while maintaining its core message and following these guidelines:

${R}

Format the response as a clear SAO statement with Situation, Action, and Outcome sections clearly separated.`;try{const D=(await(await new CE(void 0).getGenerativeModel({model:"gemini-2.0-flash"}).generateContent(N)).response).text();return console.log("API Response received:",D),D}catch($){throw console.error("Error in enhanceWithGemini:",$),$}},C=async()=>{if(i.trim()){f(!0);try{console.log("Starting enhancement process...");const R=await j(i);console.log("Enhancement completed:",R),p(R)}catch(R){console.error("Error in handleEnhanceWithAI:",R),alert(R instanceof Error?R.message:"Failed to enhance text. Please try again.")}finally{f(!1)}}},k=()=>{m&&(o(m),p(null))},_=()=>{p(null)};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-8 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-2xl font-semibold",children:n?"Edit SAO":"Create New SAO"}),a.jsx("button",{onClick:t,className:"text-slate-400 hover:text-slate-600",children:a.jsx(ct,{size:24})})]}),w&&a.jsx("div",{className:"mb-6 p-4 bg-red-50 text-red-700 rounded-md text-sm",children:w}),a.jsxs("form",{onSubmit:S,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-slate-700 mb-2",children:"Title"}),a.jsx("input",{type:"text",id:"title",value:s,onChange:R=>r(R.target.value),className:"w-full px-4 py-3 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500 text-lg",placeholder:"Enter SAO title",required:!0,disabled:v})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"sao",className:"block text-sm font-medium text-slate-700 mb-2",children:"Situation-Action-Outcome"}),a.jsxs("div",{className:"relative",children:[a.jsx("textarea",{id:"sao",value:m||i,onChange:R=>{m||o(R.target.value)},className:"w-full px-4 py-3 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500 min-h-[400px] text-lg",placeholder:"Describe your situation, actions, and outcomes...",required:!0,disabled:v||h}),a.jsxs("button",{type:"button",onClick:C,disabled:!i.trim()||v||h,className:"absolute top-4 right-4 p-3 text-slate-400 hover:text-teal-600 hover:bg-slate-100 rounded-lg transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed group",title:"Enhance with AI",children:[a.jsxs("div",{className:"relative",children:[a.jsx($k,{size:24,className:`${h?"animate-pulse":""} transition-transform duration-300 group-hover:scale-110`}),h&&a.jsx("div",{className:"absolute inset-0 animate-ping rounded-full bg-teal-400 opacity-20"})]}),a.jsx("span",{className:"absolute right-full mr-2 top-1/2 -translate-y-1/2 bg-slate-800 text-white px-3 py-1.5 rounded text-sm font-medium opacity-0 group-hover:opacity-100 transition-opacity duration-300 whitespace-nowrap",children:"Enhance with AI"})]})]}),m&&a.jsxs("div",{className:"mt-3 flex items-center gap-3",children:[a.jsx("span",{className:"text-sm text-slate-600",children:"AI Enhancement Preview"}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{type:"button",onClick:k,className:"px-4 py-2 text-sm font-medium text-white bg-teal-600 hover:bg-teal-700 rounded-md transition-all duration-300 hover:scale-105 active:scale-95",children:"Accept"}),a.jsx("button",{type:"button",onClick:_,className:"px-4 py-2 text-sm font-medium text-slate-600 hover:text-slate-800 hover:bg-slate-100 rounded-md transition-all duration-300 hover:scale-105 active:scale-95",children:"Decline"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Relevant Skills"}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:l.map(R=>a.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full text-sm font-medium bg-teal-100 text-teal-800",children:[R.name,a.jsx("button",{type:"button",onClick:()=>c(O=>O.filter(N=>N.id!==R.id)),className:"ml-2 text-teal-600 hover:text-teal-800",disabled:v,children:a.jsx(ct,{size:16})})]},R.id))}),a.jsxs("button",{type:"button",onClick:()=>d(!0),className:"btn btn-secondary w-full flex items-center justify-center gap-2 py-3 text-lg",disabled:v,children:[a.jsx(ci,{size:20}),"Select Skills"]})]}),a.jsxs("div",{className:"flex justify-end gap-3 mt-8",children:[a.jsx("button",{type:"button",onClick:t,className:"btn btn-secondary px-6 py-3 text-lg",disabled:v,children:"Cancel"}),a.jsx("button",{type:"submit",className:"btn btn-primary px-6 py-3 text-lg",disabled:v,children:v?"Saving...":n?"Update SAO":"Create SAO"})]})]}),u&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-[60]",children:a.jsxs("div",{className:"bg-white rounded-lg p-8 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h3",{className:"text-2xl font-semibold",children:"Select Skills"}),a.jsx("button",{onClick:()=>d(!1),className:"text-slate-400 hover:text-slate-600",children:a.jsx(ct,{size:24})})]}),a.jsx("div",{className:"space-y-6",children:x.map(R=>a.jsxs("div",{className:"border rounded-lg p-6",children:[a.jsx("h4",{className:"font-medium text-slate-900 text-lg mb-4",children:R.name}),a.jsx("div",{className:"space-y-3",children:R.skills.map(O=>a.jsxs("label",{className:"flex items-center space-x-3 p-3 hover:bg-slate-50 rounded cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:l.some(N=>N.id===O.id),onChange:N=>{N.target.checked?c($=>[...$,{...O,category_name:R.name}]):c($=>$.filter(P=>P.id!==O.id))},className:"rounded text-teal-600 focus:ring-teal-500 w-5 h-5"}),a.jsx("span",{className:"text-base",children:O.name})]},O.id))})]},R.name))}),a.jsx("div",{className:"flex justify-end mt-8",children:a.jsx("button",{onClick:()=>d(!1),className:"btn btn-primary px-6 py-3 text-lg",children:"Done"})})]})})]})}):null},PE=({sao:e,onDelete:t,onEdit:n})=>{const s=y.useRef(null),[r]=A0(),i=r.get("saoId");return y.useEffect(()=>{var o,l;i===e.id&&((o=s.current)==null||o.scrollIntoView({behavior:"smooth",block:"center"}),(l=s.current)==null||l.classList.add("ring","ring-teal-400"),setTimeout(()=>{var c;(c=s.current)==null||c.classList.remove("ring","ring-teal-400")},1500))},[i,e.id]),a.jsxs("div",{ref:s,className:"bg-white rounded-lg shadow p-6",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:e.title}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>n(e),className:"text-slate-400 hover:text-teal-600 transition-colors",title:"Edit SAO",children:a.jsx(li,{size:18})}),a.jsx("button",{onClick:()=>t(e.id),className:"text-slate-400 hover:text-red-600 transition-colors",title:"Delete SAO",children:a.jsx(Ti,{size:18})})]})]}),a.jsx("p",{className:"text-slate-600 whitespace-pre-wrap mb-4",children:e.content}),a.jsx("div",{className:"flex flex-wrap gap-2",children:e.skills.map(o=>a.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-sm font-medium bg-teal-100 text-teal-800",children:o.name},o.id))}),a.jsxs("div",{className:"mt-4 text-sm text-slate-500",children:["Created: ",new Date(e.created_at).toLocaleDateString()]})]})},AE=()=>{const[e,t]=y.useState(!1),[n,s]=y.useState(),{saos:r,loading:i,error:o,loadUserSAOs:l,deleteSAO:c}=od(),[u]=A0(),d=u.get("saoId");y.useEffect(()=>{l()},[l]),y.useEffect(()=>{if(d&&r.length>0){const p=r.find(x=>x.id===d);p&&(s(p),t(!0))}},[d,r]);const h=async p=>{window.confirm("Are you sure you want to delete this SAO?")&&await c(p)},f=p=>{s(p),t(!0)},m=()=>{t(!1),s(void 0)};return a.jsxs("div",{className:"max-w-4xl mx-auto p-6 space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Situation-Action-Outcome (SAO)"}),a.jsx("p",{className:"text-slate-500 mt-1",children:"Write and manage your SAO essays."})]}),a.jsxs("button",{onClick:()=>t(!0),className:"btn btn-primary flex items-center gap-2",children:[a.jsx(ci,{size:18}),"Start New SAO"]})]}),o&&a.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-red-600",children:"Error:"}),a.jsx("p",{className:"text-sm text-red-800",children:o})]})}),i?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-teal-600"})}):r.length>0?a.jsx("div",{className:"space-y-4",children:r.map(p=>a.jsx(PE,{sao:p,onDelete:h,onEdit:f},p.id))}):a.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:a.jsxs("div",{className:"text-center py-12",children:[a.jsx(sd,{className:"mx-auto h-12 w-12 text-slate-400"}),a.jsx("h3",{className:"mt-4 text-lg font-medium text-slate-900",children:"No SAOs yet"}),a.jsx("p",{className:"mt-2 text-slate-500",children:"Get started by writing your first SAO essay."}),a.jsx("button",{onClick:()=>t(!0),className:"mt-4 btn btn-primary",children:"Start Writing"})]})}),a.jsx(TE,{isOpen:e,onClose:m,editSAO:n})]})},RE=()=>{const[e,t]=y.useState(""),[n,s]=y.useState(""),[r,i]=y.useState(""),[o,l]=y.useState(!1),[c,u]=y.useState(null),[d,h]=y.useState(!1),f=async m=>{m.preventDefault(),l(!0),u(null),h(!1);try{const p=await fetch("https://bbixvnkqroskholbxkgj.supabase.co/functions/v1/send-support-email",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJiaXh2bmtxcm9za2hvbGJ4a2dqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcwMTg3NjMsImV4cCI6MjA2MjU5NDc2M30.6oGRIhAuzrOq3UI9bOUlxyIoaslzK_UtjrgaxV9WIrU"},body:JSON.stringify({email:e,subject:n,message:r})}),x=await p.json();if(!p.ok)throw new Error(x.error||"Failed to send message");h(!0),t(""),s(""),i("")}catch(p){u(p instanceof Error?p.message:"Failed to send message. Please try again later."),console.error("Error sending support message:",p)}finally{l(!1)}};return a.jsxs("div",{className:"max-w-4xl mx-auto p-6 space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Help & Support"}),a.jsx("p",{className:"text-slate-500 mt-1",children:"Get help with your EIT program journey"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Contact Us"}),a.jsxs("form",{onSubmit:f,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 mb-1",children:"Your Email"}),a.jsx("input",{type:"email",id:"email",value:e,onChange:m=>t(m.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Enter your email",required:!0,disabled:o})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-slate-700 mb-1",children:"Subject"}),a.jsx("input",{type:"text",id:"subject",value:n,onChange:m=>s(m.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"What's your question about?",required:!0,disabled:o})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-slate-700 mb-1",children:"Message"}),a.jsx("textarea",{id:"message",value:r,onChange:m=>i(m.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500 min-h-[150px]",placeholder:"Describe your issue or question...",required:!0,disabled:o})]}),c&&a.jsxs("div",{className:"p-3 bg-red-50 text-red-700 rounded-md text-sm flex items-center gap-2",children:[a.jsx(nv,{size:16}),c]}),d&&a.jsx("div",{className:"p-3 bg-green-50 text-green-700 rounded-md text-sm",children:"Your message has been sent successfully. We'll get back to you soon!"}),a.jsx("button",{type:"submit",className:"btn btn-primary w-full flex items-center justify-center gap-2",disabled:o,children:o?a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):a.jsxs(a.Fragment,{children:[a.jsx(Mk,{size:18}),"Send Message"]})})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Frequently Asked Questions"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-slate-900",children:"What is an SAO?"}),a.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"A Situation-Action-Outcome (SAO) is a structured way to document your experiences and demonstrate your competencies. It helps you reflect on specific situations, the actions you took, and the outcomes achieved."})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-slate-900",children:"How do I track my progress?"}),a.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Your progress is automatically tracked as you complete skills and document experiences. Visit the Dashboard to see your overall progress and skill-specific achievements."})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-slate-900",children:"Need more help?"}),a.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"If you can't find what you're looking for, use the contact form to send us a message. Our support team will get back to you as soon as possible."})]})]})]})]})]})},Dv=y.createContext({});function OE(e){const t=y.useRef(null);return t.current===null&&(t.current=e()),t.current}const ld=typeof window<"u",IE=ld?y.useLayoutEffect:y.useEffect,cd=y.createContext(null),Mv=y.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function LE(e=!0){const t=y.useContext(cd);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:r}=t,i=y.useId();y.useEffect(()=>{if(e)return r(i)},[e]);const o=y.useCallback(()=>e&&s&&s(i),[i,s,e]);return!n&&s?[!1,o]:[!0]}function ud(e,t){e.indexOf(t)===-1&&e.push(t)}function dd(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Wt=(e,t,n)=>n>t?t:n<e?e:n;let hd=()=>{};const Gt={},$v=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),Uv=e=>/^0[^.\s]+$/u.test(e);function fd(e){let t;return()=>(t===void 0&&(t=e()),t)}const ut=e=>e,DE=(e,t)=>n=>t(e(n)),Ai=(...e)=>e.reduce(DE),mi=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s};class md{constructor(){this.subscriptions=[]}add(t){return ud(this.subscriptions,t),()=>dd(this.subscriptions,t)}notify(t,n,s){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](t,n,s);else for(let i=0;i<r;i++){const o=this.subscriptions[i];o&&o(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Pt=e=>e*1e3,At=e=>e/1e3;function Fv(e,t){return t?e*(1e3/t):0}const zv=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,ME=1e-7,$E=12;function UE(e,t,n,s,r){let i,o,l=0;do o=t+(n-t)/2,i=zv(o,s,r)-e,i>0?n=o:t=o;while(Math.abs(i)>ME&&++l<$E);return o}function Ri(e,t,n,s){if(e===t&&n===s)return ut;const r=i=>UE(i,0,1,e,n);return i=>i===0||i===1?i:zv(r(i),t,s)}const Vv=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Bv=e=>t=>1-e(1-t),Hv=Ri(.33,1.53,.69,.99),pd=Bv(Hv),qv=Vv(pd),Wv=e=>(e*=2)<1?.5*pd(e):.5*(2-Math.pow(2,-10*(e-1))),gd=e=>1-Math.sin(Math.acos(e)),Gv=Bv(gd),Kv=Vv(gd),FE=Ri(.42,0,1,1),zE=Ri(0,0,.58,1),Jv=Ri(.42,0,.58,1),VE=e=>Array.isArray(e)&&typeof e[0]!="number",Yv=e=>Array.isArray(e)&&typeof e[0]=="number",BE={linear:ut,easeIn:FE,easeInOut:Jv,easeOut:zE,circIn:gd,circInOut:Kv,circOut:Gv,backIn:pd,backInOut:qv,backOut:Hv,anticipate:Wv},HE=e=>typeof e=="string",Jf=e=>{if(Yv(e)){hd(e.length===4);const[t,n,s,r]=e;return Ri(t,n,s,r)}else if(HE(e))return BE[e];return e},so=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Yf={value:null};function qE(e,t){let n=new Set,s=new Set,r=!1,i=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},c=0;function u(h){o.has(h)&&(d.schedule(h),e()),c++,h(l)}const d={schedule:(h,f=!1,m=!1)=>{const x=m&&r?n:s;return f&&o.add(h),x.has(h)||x.add(h),h},cancel:h=>{s.delete(h),o.delete(h)},process:h=>{if(l=h,r){i=!0;return}r=!0,[n,s]=[s,n],n.forEach(u),t&&Yf.value&&Yf.value.frameloop[t].push(c),c=0,n.clear(),r=!1,i&&(i=!1,d.process(h))}};return d}const WE=40;function Qv(e,t){let n=!1,s=!0;const r={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=so.reduce((w,S)=>(w[S]=qE(i,t?S:void 0),w),{}),{setup:l,read:c,resolveKeyframes:u,preUpdate:d,update:h,preRender:f,render:m,postRender:p}=o,x=()=>{const w=Gt.useManualTiming?r.timestamp:performance.now();n=!1,Gt.useManualTiming||(r.delta=s?1e3/60:Math.max(Math.min(w-r.timestamp,WE),1)),r.timestamp=w,r.isProcessing=!0,l.process(r),c.process(r),u.process(r),d.process(r),h.process(r),f.process(r),m.process(r),p.process(r),r.isProcessing=!1,n&&t&&(s=!1,e(x))},b=()=>{n=!0,s=!0,r.isProcessing||e(x)};return{schedule:so.reduce((w,S)=>{const j=o[S];return w[S]=(C,k=!1,_=!1)=>(n||b(),j.schedule(C,k,_)),w},{}),cancel:w=>{for(let S=0;S<so.length;S++)o[so[S]].cancel(w)},state:r,steps:o}}const{schedule:ae,cancel:kn,state:be,steps:ml}=Qv(typeof requestAnimationFrame<"u"?requestAnimationFrame:ut,!0);let wo;function GE(){wo=void 0}const He={now:()=>(wo===void 0&&He.set(be.isProcessing||Gt.useManualTiming?be.timestamp:performance.now()),wo),set:e=>{wo=e,queueMicrotask(GE)}},Xv=e=>t=>typeof t=="string"&&t.startsWith(e),vd=Xv("--"),KE=Xv("var(--"),yd=e=>KE(e)?JE.test(e.split("/*")[0].trim()):!1,JE=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,nr={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},pi={...nr,transform:e=>Wt(0,1,e)},ro={...nr,default:1},Lr=e=>Math.round(e*1e5)/1e5,xd=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function YE(e){return e==null}const QE=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,wd=(e,t)=>n=>!!(typeof n=="string"&&QE.test(n)&&n.startsWith(e)||t&&!YE(n)&&Object.prototype.hasOwnProperty.call(n,t)),Zv=(e,t,n)=>s=>{if(typeof s!="string")return s;const[r,i,o,l]=s.match(xd);return{[e]:parseFloat(r),[t]:parseFloat(i),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},XE=e=>Wt(0,255,e),pl={...nr,transform:e=>Math.round(XE(e))},Vn={test:wd("rgb","red"),parse:Zv("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+pl.transform(e)+", "+pl.transform(t)+", "+pl.transform(n)+", "+Lr(pi.transform(s))+")"};function ZE(e){let t="",n="",s="",r="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),r=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),r=e.substring(4,5),t+=t,n+=n,s+=s,r+=r),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:r?parseInt(r,16)/255:1}}const Rc={test:wd("#"),parse:ZE,transform:Vn.transform},Oi=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),en=Oi("deg"),Rt=Oi("%"),H=Oi("px"),eN=Oi("vh"),tN=Oi("vw"),Qf={...Rt,parse:e=>Rt.parse(e)/100,transform:e=>Rt.transform(e*100)},ks={test:wd("hsl","hue"),parse:Zv("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+Rt.transform(Lr(t))+", "+Rt.transform(Lr(n))+", "+Lr(pi.transform(s))+")"},Ce={test:e=>Vn.test(e)||Rc.test(e)||ks.test(e),parse:e=>Vn.test(e)?Vn.parse(e):ks.test(e)?ks.parse(e):Rc.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Vn.transform(e):ks.transform(e)},nN=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function sN(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(xd))==null?void 0:t.length)||0)+(((n=e.match(nN))==null?void 0:n.length)||0)>0}const ey="number",ty="color",rN="var",iN="var(",Xf="${}",oN=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function gi(e){const t=e.toString(),n=[],s={color:[],number:[],var:[]},r=[];let i=0;const l=t.replace(oN,c=>(Ce.test(c)?(s.color.push(i),r.push(ty),n.push(Ce.parse(c))):c.startsWith(iN)?(s.var.push(i),r.push(rN),n.push(c)):(s.number.push(i),r.push(ey),n.push(parseFloat(c))),++i,Xf)).split(Xf);return{values:n,split:l,indexes:s,types:r}}function ny(e){return gi(e).values}function sy(e){const{split:t,types:n}=gi(e),s=t.length;return r=>{let i="";for(let o=0;o<s;o++)if(i+=t[o],r[o]!==void 0){const l=n[o];l===ey?i+=Lr(r[o]):l===ty?i+=Ce.transform(r[o]):i+=r[o]}return i}}const aN=e=>typeof e=="number"?0:e;function lN(e){const t=ny(e);return sy(e)(t.map(aN))}const _n={test:sN,parse:ny,createTransformer:sy,getAnimatableNone:lN};function gl(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function cN({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let r=0,i=0,o=0;if(!t)r=i=o=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;r=gl(c,l,e+1/3),i=gl(c,l,e),o=gl(c,l,e-1/3)}return{red:Math.round(r*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:s}}function Qo(e,t){return n=>n>0?t:e}const re=(e,t,n)=>e+(t-e)*n,vl=(e,t,n)=>{const s=e*e,r=n*(t*t-s)+s;return r<0?0:Math.sqrt(r)},uN=[Rc,Vn,ks],dN=e=>uN.find(t=>t.test(e));function Zf(e){const t=dN(e);if(!t)return!1;let n=t.parse(e);return t===ks&&(n=cN(n)),n}const em=(e,t)=>{const n=Zf(e),s=Zf(t);if(!n||!s)return Qo(e,t);const r={...n};return i=>(r.red=vl(n.red,s.red,i),r.green=vl(n.green,s.green,i),r.blue=vl(n.blue,s.blue,i),r.alpha=re(n.alpha,s.alpha,i),Vn.transform(r))},Oc=new Set(["none","hidden"]);function hN(e,t){return Oc.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function fN(e,t){return n=>re(e,t,n)}function bd(e){return typeof e=="number"?fN:typeof e=="string"?yd(e)?Qo:Ce.test(e)?em:gN:Array.isArray(e)?ry:typeof e=="object"?Ce.test(e)?em:mN:Qo}function ry(e,t){const n=[...e],s=n.length,r=e.map((i,o)=>bd(i)(i,t[o]));return i=>{for(let o=0;o<s;o++)n[o]=r[o](i);return n}}function mN(e,t){const n={...e,...t},s={};for(const r in n)e[r]!==void 0&&t[r]!==void 0&&(s[r]=bd(e[r])(e[r],t[r]));return r=>{for(const i in s)n[i]=s[i](r);return n}}function pN(e,t){const n=[],s={color:0,var:0,number:0};for(let r=0;r<t.values.length;r++){const i=t.types[r],o=e.indexes[i][s[i]],l=e.values[o]??0;n[r]=l,s[i]++}return n}const gN=(e,t)=>{const n=_n.createTransformer(t),s=gi(e),r=gi(t);return s.indexes.var.length===r.indexes.var.length&&s.indexes.color.length===r.indexes.color.length&&s.indexes.number.length>=r.indexes.number.length?Oc.has(e)&&!r.values.length||Oc.has(t)&&!s.values.length?hN(e,t):Ai(ry(pN(s,r),r.values),n):Qo(e,t)};function iy(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?re(e,t,n):bd(e)(e,t)}const vN=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>ae.update(t,n),stop:()=>kn(t),now:()=>be.isProcessing?be.timestamp:He.now()}},oy=(e,t,n=10)=>{let s="";const r=Math.max(Math.round(t/n),2);for(let i=0;i<r;i++)s+=e(i/(r-1))+", ";return`linear(${s.substring(0,s.length-2)})`},Xo=2e4;function Sd(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<Xo;)t+=n,s=e.next(t);return t>=Xo?1/0:t}function yN(e,t=100,n){const s=n({...e,keyframes:[0,t]}),r=Math.min(Sd(s),Xo);return{type:"keyframes",ease:i=>s.next(r*i).value/t,duration:At(r)}}const xN=5;function ay(e,t,n){const s=Math.max(t-xN,0);return Fv(n-e(s),t-s)}const ce={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},tm=.001;function wN({duration:e=ce.duration,bounce:t=ce.bounce,velocity:n=ce.velocity,mass:s=ce.mass}){let r,i,o=1-t;o=Wt(ce.minDamping,ce.maxDamping,o),e=Wt(ce.minDuration,ce.maxDuration,At(e)),o<1?(r=u=>{const d=u*o,h=d*e,f=d-n,m=Ic(u,o),p=Math.exp(-h);return tm-f/m*p},i=u=>{const h=u*o*e,f=h*n+n,m=Math.pow(o,2)*Math.pow(u,2)*e,p=Math.exp(-h),x=Ic(Math.pow(u,2),o);return(-r(u)+tm>0?-1:1)*((f-m)*p)/x}):(r=u=>{const d=Math.exp(-u*e),h=(u-n)*e+1;return-.001+d*h},i=u=>{const d=Math.exp(-u*e),h=(n-u)*(e*e);return d*h});const l=5/e,c=SN(r,i,l);if(e=Pt(e),isNaN(c))return{stiffness:ce.stiffness,damping:ce.damping,duration:e};{const u=Math.pow(c,2)*s;return{stiffness:u,damping:o*2*Math.sqrt(s*u),duration:e}}}const bN=12;function SN(e,t,n){let s=n;for(let r=1;r<bN;r++)s=s-e(s)/t(s);return s}function Ic(e,t){return e*Math.sqrt(1-t*t)}const jN=["duration","bounce"],kN=["stiffness","damping","mass"];function nm(e,t){return t.some(n=>e[n]!==void 0)}function _N(e){let t={velocity:ce.velocity,stiffness:ce.stiffness,damping:ce.damping,mass:ce.mass,isResolvedFromDuration:!1,...e};if(!nm(e,kN)&&nm(e,jN))if(e.visualDuration){const n=e.visualDuration,s=2*Math.PI/(n*1.2),r=s*s,i=2*Wt(.05,1,1-(e.bounce||0))*Math.sqrt(r);t={...t,mass:ce.mass,stiffness:r,damping:i}}else{const n=wN(e);t={...t,...n,mass:ce.mass},t.isResolvedFromDuration=!0}return t}function Zo(e=ce.visualDuration,t=ce.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:r}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:u,mass:d,duration:h,velocity:f,isResolvedFromDuration:m}=_N({...n,velocity:-At(n.velocity||0)}),p=f||0,x=u/(2*Math.sqrt(c*d)),b=o-i,g=At(Math.sqrt(c/d)),v=Math.abs(b)<5;s||(s=v?ce.restSpeed.granular:ce.restSpeed.default),r||(r=v?ce.restDelta.granular:ce.restDelta.default);let w;if(x<1){const j=Ic(g,x);w=C=>{const k=Math.exp(-x*g*C);return o-k*((p+x*g*b)/j*Math.sin(j*C)+b*Math.cos(j*C))}}else if(x===1)w=j=>o-Math.exp(-g*j)*(b+(p+g*b)*j);else{const j=g*Math.sqrt(x*x-1);w=C=>{const k=Math.exp(-x*g*C),_=Math.min(j*C,300);return o-k*((p+x*g*b)*Math.sinh(_)+j*b*Math.cosh(_))/j}}const S={calculatedDuration:m&&h||null,next:j=>{const C=w(j);if(m)l.done=j>=h;else{let k=j===0?p:0;x<1&&(k=j===0?Pt(p):ay(w,j,C));const _=Math.abs(k)<=s,R=Math.abs(o-C)<=r;l.done=_&&R}return l.value=l.done?o:C,l},toString:()=>{const j=Math.min(Sd(S),Xo),C=oy(k=>S.next(j*k).value,j,30);return j+"ms "+C},toTransition:()=>{}};return S}Zo.applyToOptions=e=>{const t=yN(e,100,Zo);return e.ease=t.ease,e.duration=Pt(t.duration),e.type="keyframes",e};function Lc({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:r=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}){const h=e[0],f={done:!1,value:h},m=_=>l!==void 0&&_<l||c!==void 0&&_>c,p=_=>l===void 0?c:c===void 0||Math.abs(l-_)<Math.abs(c-_)?l:c;let x=n*t;const b=h+x,g=o===void 0?b:o(b);g!==b&&(x=g-h);const v=_=>-x*Math.exp(-_/s),w=_=>g+v(_),S=_=>{const R=v(_),O=w(_);f.done=Math.abs(R)<=u,f.value=f.done?g:O};let j,C;const k=_=>{m(f.value)&&(j=_,C=Zo({keyframes:[f.value,p(f.value)],velocity:ay(w,_,f.value),damping:r,stiffness:i,restDelta:u,restSpeed:d}))};return k(0),{calculatedDuration:null,next:_=>{let R=!1;return!C&&j===void 0&&(R=!0,S(_),k(_)),j!==void 0&&_>=j?C.next(_-j):(!R&&S(_),f)}}}function EN(e,t,n){const s=[],r=n||Gt.mix||iy,i=e.length-1;for(let o=0;o<i;o++){let l=r(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||ut:t;l=Ai(c,l)}s.push(l)}return s}function NN(e,t,{clamp:n=!0,ease:s,mixer:r}={}){const i=e.length;if(hd(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=EN(t,s,r),c=l.length,u=d=>{if(o&&d<e[0])return t[0];let h=0;if(c>1)for(;h<e.length-2&&!(d<e[h+1]);h++);const f=mi(e[h],e[h+1],d);return l[h](f)};return n?d=>u(Wt(e[0],e[i-1],d)):u}function CN(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const r=mi(0,t,s);e.push(re(n,1,r))}}function TN(e){const t=[0];return CN(t,e.length-1),t}function PN(e,t){return e.map(n=>n*t)}function AN(e,t){return e.map(()=>t||Jv).splice(0,e.length-1)}function Dr({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const r=VE(s)?s.map(Jf):Jf(s),i={done:!1,value:t[0]},o=PN(n&&n.length===t.length?n:TN(t),e),l=NN(o,t,{ease:Array.isArray(r)?r:AN(t,r)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}const RN=e=>e!==null;function jd(e,{repeat:t,repeatType:n="loop"},s,r=1){const i=e.filter(RN),l=r<0||t&&n!=="loop"&&t%2===1?0:i.length-1;return!l||s===void 0?i[l]:s}const ON={decay:Lc,inertia:Lc,tween:Dr,keyframes:Dr,spring:Zo};function ly(e){typeof e.type=="string"&&(e.type=ON[e.type])}class kd{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const IN=e=>e/100;class _d extends kd{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=(n=!0)=>{var s,r;if(n){const{motionValue:i}=this.options;i&&i.updatedAt!==He.now()&&this.tick(He.now())}this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(r=(s=this.options).onStop)==null||r.call(s))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;ly(t);const{type:n=Dr,repeat:s=0,repeatDelay:r=0,repeatType:i,velocity:o=0}=t;let{keyframes:l}=t;const c=n||Dr;c!==Dr&&typeof l[0]!="number"&&(this.mixKeyframes=Ai(IN,iy(l[0],l[1])),l=[0,100]);const u=c({...t,keyframes:l});i==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=Sd(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+r,this.totalDuration=this.resolvedDuration*(s+1)-r,this.generator=u}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:s,totalDuration:r,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return s.next(0);const{delay:u=0,keyframes:d,repeat:h,repeatType:f,repeatDelay:m,type:p,onUpdate:x,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-r/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const g=this.currentTime-u*(this.playbackSpeed>=0?1:-1),v=this.playbackSpeed>=0?g<0:g>r;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let w=this.currentTime,S=s;if(h){const _=Math.min(this.currentTime,r)/l;let R=Math.floor(_),O=_%1;!O&&_>=1&&(O=1),O===1&&R--,R=Math.min(R,h+1),!!(R%2)&&(f==="reverse"?(O=1-O,m&&(O-=m/l)):f==="mirror"&&(S=o)),w=Wt(0,1,O)*l}const j=v?{done:!1,value:d[0]}:S.next(w);i&&(j.value=i(j.value));let{done:C}=j;!v&&c!==null&&(C=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return k&&p!==Lc&&(j.value=jd(d,this.options,b,this.speed)),x&&x(j.value),k&&this.finish(),j}then(t,n){return this.finished.then(t,n)}get duration(){return At(this.calculatedDuration)}get time(){return At(this.currentTime)}set time(t){var n;t=Pt(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(He.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=At(this.currentTime))}play(){var r,i;if(this.isStopped)return;const{driver:t=vN,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(i=(r=this.options).onPlay)==null||i.call(r);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(He.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function LN(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Bn=e=>e*180/Math.PI,Dc=e=>{const t=Bn(Math.atan2(e[1],e[0]));return Mc(t)},DN={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Dc,rotateZ:Dc,skewX:e=>Bn(Math.atan(e[1])),skewY:e=>Bn(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Mc=e=>(e=e%360,e<0&&(e+=360),e),sm=Dc,rm=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),im=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),MN={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:rm,scaleY:im,scale:e=>(rm(e)+im(e))/2,rotateX:e=>Mc(Bn(Math.atan2(e[6],e[5]))),rotateY:e=>Mc(Bn(Math.atan2(-e[2],e[0]))),rotateZ:sm,rotate:sm,skewX:e=>Bn(Math.atan(e[4])),skewY:e=>Bn(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function $c(e){return e.includes("scale")?1:0}function Uc(e,t){if(!e||e==="none")return $c(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,r;if(n)s=MN,r=n;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=DN,r=l}if(!r)return $c(t);const i=s[t],o=r[1].split(",").map(UN);return typeof i=="function"?i(o):o[i]}const $N=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Uc(n,t)};function UN(e){return parseFloat(e.trim())}const sr=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],rr=new Set(sr),om=e=>e===nr||e===H,FN=new Set(["x","y","z"]),zN=sr.filter(e=>!FN.has(e));function VN(e){const t=[];return zN.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t}const Wn={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Uc(t,"x"),y:(e,{transform:t})=>Uc(t,"y")};Wn.translateX=Wn.x;Wn.translateY=Wn.y;const Gn=new Set;let Fc=!1,zc=!1,Vc=!1;function cy(){if(zc){const e=Array.from(Gn).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),n=new Map;t.forEach(s=>{const r=VN(s);r.length&&(n.set(s,r),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const r=n.get(s);r&&r.forEach(([i,o])=>{var l;(l=s.getValue(i))==null||l.set(o)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}zc=!1,Fc=!1,Gn.forEach(e=>e.complete(Vc)),Gn.clear()}function uy(){Gn.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(zc=!0)})}function BN(){Vc=!0,uy(),cy(),Vc=!1}class Ed{constructor(t,n,s,r,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=s,this.motionValue=r,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Gn.add(this),Fc||(Fc=!0,ae.read(uy),ae.resolveKeyframes(cy))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:s,motionValue:r}=this;if(t[0]===null){const i=r==null?void 0:r.get(),o=t[t.length-1];if(i!==void 0)t[0]=i;else if(s&&n){const l=s.readValue(n,o);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=o),r&&i===void 0&&r.set(t[0])}LN(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Gn.delete(this)}cancel(){this.state==="scheduled"&&(Gn.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const HN=e=>e.startsWith("--");function qN(e,t,n){HN(t)?e.style.setProperty(t,n):e.style[t]=n}const WN=fd(()=>window.ScrollTimeline!==void 0),GN={};function KN(e,t){const n=fd(e);return()=>GN[t]??n()}const dy=KN(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),br=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,am={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:br([0,.65,.55,1]),circOut:br([.55,0,1,.45]),backIn:br([.31,.01,.66,-.59]),backOut:br([.33,1.53,.69,.99])};function hy(e,t){if(e)return typeof e=="function"?dy()?oy(e,t):"ease-out":Yv(e)?br(e):Array.isArray(e)?e.map(n=>hy(n,t)||am.easeOut):am[e]}function JN(e,t,n,{delay:s=0,duration:r=300,repeat:i=0,repeatType:o="loop",ease:l="easeOut",times:c}={},u=void 0){const d={[t]:n};c&&(d.offset=c);const h=hy(l,r);Array.isArray(h)&&(d.easing=h);const f={delay:s,duration:r,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return u&&(f.pseudoElement=u),e.animate(d,f)}function fy(e){return typeof e=="function"&&"applyToOptions"in e}function YN({type:e,...t}){return fy(e)&&dy()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class QN extends kd{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:s,keyframes:r,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=t,hd(typeof t.type!="string");const u=YN(t);this.animation=JN(n,s,r,u,i),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const d=jd(r,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(d):qN(n,s,d),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,s;const t=((s=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:s.call(n).duration)||0;return At(Number(t))}get time(){return At(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Pt(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&WN()?(this.animation.timeline=t,ut):n(this)}}const my={anticipate:Wv,backInOut:qv,circInOut:Kv};function XN(e){return e in my}function ZN(e){typeof e.ease=="string"&&XN(e.ease)&&(e.ease=my[e.ease])}const lm=10;class eC extends QN{constructor(t){ZN(t),ly(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:s,onComplete:r,element:i,...o}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const l=new _d({...o,autoplay:!1}),c=Pt(this.finishedTime??this.time);n.setWithVelocity(l.sample(c-lm).value,l.sample(c).value,lm),l.stop()}}const cm=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(_n.test(e)||e==="0")&&!e.startsWith("url("));function tC(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function nC(e,t,n,s){const r=e[0];if(r===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=cm(r,t),l=cm(i,t);return!o||!l?!1:tC(e)||(n==="spring"||fy(n))&&s}const sC=new Set(["opacity","clipPath","filter","transform"]),rC=fd(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function iC(e){const{motionValue:t,name:n,repeatDelay:s,repeatType:r,damping:i,type:o}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=t.owner.getProps();return rC()&&n&&sC.has(n)&&(n!=="transform"||!c)&&!l&&!s&&r!=="mirror"&&i!==0&&o!=="inertia"}const oC=40;class aC extends kd{constructor({autoplay:t=!0,delay:n=0,type:s="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:o="loop",keyframes:l,name:c,motionValue:u,element:d,...h}){var p;super(),this.stop=()=>{var x,b;this._animation&&(this._animation.stop(),(x=this.stopTimeline)==null||x.call(this)),(b=this.keyframeResolver)==null||b.cancel()},this.createdAt=He.now();const f={autoplay:t,delay:n,type:s,repeat:r,repeatDelay:i,repeatType:o,name:c,motionValue:u,element:d,...h},m=(d==null?void 0:d.KeyframeResolver)||Ed;this.keyframeResolver=new m(l,(x,b,g)=>this.onKeyframesResolved(x,b,f,!g),c,u,d),(p=this.keyframeResolver)==null||p.scheduleResolve()}onKeyframesResolved(t,n,s,r){this.keyframeResolver=void 0;const{name:i,type:o,velocity:l,delay:c,isHandoff:u,onUpdate:d}=s;this.resolvedAt=He.now(),nC(t,i,o,l)||((Gt.instantAnimations||!c)&&(d==null||d(jd(t,s,n))),t[0]=t[t.length-1],s.duration=0,s.repeat=0);const f={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>oC?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:t},m=!u&&iC(f)?new eC({...f,element:f.motionValue.owner.current}):new _d(f);m.finished.then(()=>this.notifyFinished()).catch(ut),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),BN()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const lC=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function cC(e){const t=lC.exec(e);if(!t)return[,];const[,n,s,r]=t;return[`--${n??s}`,r]}function py(e,t,n=1){const[s,r]=cC(e);if(!s)return;const i=window.getComputedStyle(t).getPropertyValue(s);if(i){const o=i.trim();return $v(o)?parseFloat(o):o}return yd(r)?py(r,t,n+1):r}function Nd(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const gy=new Set(["width","height","top","left","right","bottom",...sr]),uC={test:e=>e==="auto",parse:e=>e},vy=e=>t=>t.test(e),yy=[nr,H,Rt,en,tN,eN,uC],um=e=>yy.find(vy(e));function dC(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Uv(e):!0}const hC=new Set(["brightness","contrast","saturate","opacity"]);function fC(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(xd)||[];if(!s)return e;const r=n.replace(s,"");let i=hC.has(t)?1:0;return s!==n&&(i*=100),t+"("+i+r+")"}const mC=/\b([a-z-]*)\(.*?\)/gu,Bc={..._n,getAnimatableNone:e=>{const t=e.match(mC);return t?t.map(fC).join(" "):e}},dm={...nr,transform:Math.round},pC={rotate:en,rotateX:en,rotateY:en,rotateZ:en,scale:ro,scaleX:ro,scaleY:ro,scaleZ:ro,skew:en,skewX:en,skewY:en,distance:H,translateX:H,translateY:H,translateZ:H,x:H,y:H,z:H,perspective:H,transformPerspective:H,opacity:pi,originX:Qf,originY:Qf,originZ:H},Cd={borderWidth:H,borderTopWidth:H,borderRightWidth:H,borderBottomWidth:H,borderLeftWidth:H,borderRadius:H,radius:H,borderTopLeftRadius:H,borderTopRightRadius:H,borderBottomRightRadius:H,borderBottomLeftRadius:H,width:H,maxWidth:H,height:H,maxHeight:H,top:H,right:H,bottom:H,left:H,padding:H,paddingTop:H,paddingRight:H,paddingBottom:H,paddingLeft:H,margin:H,marginTop:H,marginRight:H,marginBottom:H,marginLeft:H,backgroundPositionX:H,backgroundPositionY:H,...pC,zIndex:dm,fillOpacity:pi,strokeOpacity:pi,numOctaves:dm},gC={...Cd,color:Ce,backgroundColor:Ce,outlineColor:Ce,fill:Ce,stroke:Ce,borderColor:Ce,borderTopColor:Ce,borderRightColor:Ce,borderBottomColor:Ce,borderLeftColor:Ce,filter:Bc,WebkitFilter:Bc},xy=e=>gC[e];function wy(e,t){let n=xy(e);return n!==Bc&&(n=_n),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const vC=new Set(["auto","none","0"]);function yC(e,t,n){let s=0,r;for(;s<e.length&&!r;){const i=e[s];typeof i=="string"&&!vC.has(i)&&gi(i).values.length&&(r=e[s]),s++}if(r&&n)for(const i of t)e[i]=wy(n,r)}class xC extends Ed{constructor(t,n,s,r,i){super(t,n,s,r,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),yd(u))){const d=py(u,n.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!gy.has(s)||t.length!==2)return;const[r,i]=t,o=um(r),l=um(i);if(o!==l)if(om(o)&&om(l))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else Wn[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,s=[];for(let r=0;r<t.length;r++)(t[r]===null||dC(t[r]))&&s.push(r);s.length&&yC(t,s,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Wn[s](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&t.getValue(s,r).jump(r,!1)}measureEndState(){var l;const{element:t,name:n,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const r=t.getValue(n);r&&r.jump(this.measuredOrigin,!1);const i=s.length-1,o=s[i];s[i]=Wn[n](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,u])=>{t.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function wC(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let s=document;const r=(n==null?void 0:n[e])??s.querySelectorAll(e);return r?Array.from(r):[]}return Array.from(e)}const hm=30,bC=e=>!isNaN(parseFloat(e));class SC{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,r=!0)=>{var o,l;const i=He.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty();r&&((l=this.events.renderRequest)==null||l.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=He.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=bC(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new md);const s=this.events[t].add(n);return t==="change"?()=>{s(),ae.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=He.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>hm)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,hm);return Fv(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Gs(e,t){return new SC(e,t)}const by=(e,t)=>t&&typeof e=="number"?t.transform(e):e,{schedule:Td}=Qv(queueMicrotask,!1),pt={x:!1,y:!1};function Sy(){return pt.x||pt.y}function jC(e){return e==="x"||e==="y"?pt[e]?null:(pt[e]=!0,()=>{pt[e]=!1}):pt.x||pt.y?null:(pt.x=pt.y=!0,()=>{pt.x=pt.y=!1})}function jy(e,t){const n=wC(e),s=new AbortController,r={passive:!0,...t,signal:s.signal};return[n,r,()=>s.abort()]}function fm(e){return!(e.pointerType==="touch"||Sy())}function kC(e,t,n={}){const[s,r,i]=jy(e,n),o=l=>{if(!fm(l))return;const{target:c}=l,u=t(c,l);if(typeof u!="function"||!c)return;const d=h=>{fm(h)&&(u(h),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,r)};return s.forEach(l=>{l.addEventListener("pointerenter",o,r)}),i}const ky=(e,t)=>t?e===t?!0:ky(e,t.parentElement):!1,Pd=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,_C=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function EC(e){return _C.has(e.tagName)||e.tabIndex!==-1}const bo=new WeakSet;function mm(e){return t=>{t.key==="Enter"&&e(t)}}function yl(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const NC=(e,t)=>{const n=e.currentTarget;if(!n)return;const s=mm(()=>{if(bo.has(n))return;yl(n,"down");const r=mm(()=>{yl(n,"up")}),i=()=>yl(n,"cancel");n.addEventListener("keyup",r,t),n.addEventListener("blur",i,t)});n.addEventListener("keydown",s,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),t)};function pm(e){return Pd(e)&&!Sy()}function CC(e,t,n={}){const[s,r,i]=jy(e,n),o=l=>{const c=l.currentTarget;if(!pm(l))return;bo.add(c);const u=t(c,l),d=(m,p)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),bo.has(c)&&bo.delete(c),pm(m)&&typeof u=="function"&&u(m,{success:p})},h=m=>{d(m,c===window||c===document||n.useGlobalTarget||ky(c,m.target))},f=m=>{d(m,!1)};window.addEventListener("pointerup",h,r),window.addEventListener("pointercancel",f,r)};return s.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,r),l instanceof HTMLElement&&(l.addEventListener("focus",u=>NC(u,r)),!EC(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}const TC=[...yy,Ce,_n],PC=e=>TC.find(vy(e)),_y=y.createContext({strict:!1}),gm={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ks={};for(const e in gm)Ks[e]={isEnabled:t=>gm[e].some(n=>!!t[n])};function AC(e){for(const t in e)Ks[t]={...Ks[t],...e[t]}}const RC=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ea(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||RC.has(e)}let Ey=e=>!ea(e);function OC(e){e&&(Ey=t=>t.startsWith("on")?!ea(t):e(t))}try{OC(require("@emotion/is-prop-valid").default)}catch{}function IC(e,t,n){const s={};for(const r in e)r==="values"&&typeof e.values=="object"||(Ey(r)||n===!0&&ea(r)||!t&&!ea(r)||e.draggable&&r.startsWith("onDrag"))&&(s[r]=e[r]);return s}function LC(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...s)=>e(...s);return new Proxy(n,{get:(s,r)=>r==="create"?e:(t.has(r)||t.set(r,e(r)),t.get(r))})}const Pa=y.createContext({});function Aa(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function vi(e){return typeof e=="string"||Array.isArray(e)}const Ad=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Rd=["initial",...Ad];function Ra(e){return Aa(e.animate)||Rd.some(t=>vi(e[t]))}function Ny(e){return!!(Ra(e)||e.variants)}function DC(e,t){if(Ra(e)){const{initial:n,animate:s}=e;return{initial:n===!1||vi(n)?n:void 0,animate:vi(s)?s:void 0}}return e.inherit!==!1?t:{}}function MC(e){const{initial:t,animate:n}=DC(e,y.useContext(Pa));return y.useMemo(()=>({initial:t,animate:n}),[vm(t),vm(n)])}function vm(e){return Array.isArray(e)?e.join(" "):e}const $C=Symbol.for("motionComponentSymbol");function _s(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function UC(e,t,n){return y.useCallback(s=>{s&&e.onMount&&e.onMount(s),t&&(s?t.mount(s):t.unmount()),n&&(typeof n=="function"?n(s):_s(n)&&(n.current=s))},[t])}const Od=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),FC="framerAppearId",Cy="data-"+Od(FC),Ty=y.createContext({});function zC(e,t,n,s,r){var x,b;const{visualElement:i}=y.useContext(Pa),o=y.useContext(_y),l=y.useContext(cd),c=y.useContext(Mv).reducedMotion,u=y.useRef(null);s=s||o.renderer,!u.current&&s&&(u.current=s(e,{visualState:t,parent:i,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const d=u.current,h=y.useContext(Ty);d&&!d.projection&&r&&(d.type==="html"||d.type==="svg")&&VC(u.current,n,r,h);const f=y.useRef(!1);y.useInsertionEffect(()=>{d&&f.current&&d.update(n,l)});const m=n[Cy],p=y.useRef(!!m&&!((x=window.MotionHandoffIsComplete)!=null&&x.call(window,m))&&((b=window.MotionHasOptimisedAnimation)==null?void 0:b.call(window,m)));return IE(()=>{d&&(f.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),Td.render(d.render),p.current&&d.animationState&&d.animationState.animateChanges())}),y.useEffect(()=>{d&&(!p.current&&d.animationState&&d.animationState.animateChanges(),p.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)==null||g.call(window,m)}),p.current=!1))}),d}function VC(e,t,n,s){const{layoutId:r,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u,layoutCrossfade:d}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:Py(e.parent)),e.projection.setOptions({layoutId:r,layout:i,alwaysMeasureLayout:!!o||l&&_s(l),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:s,crossfade:d,layoutScroll:c,layoutRoot:u})}function Py(e){if(e)return e.options.allowProjection!==!1?e.projection:Py(e.parent)}function BC({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:s,Component:r}){e&&AC(e);function i(l,c){let u;const d={...y.useContext(Mv),...l,layoutId:HC(l)},{isStatic:h}=d,f=MC(l),m=s(l,h);if(!h&&ld){qC();const p=WC(d);u=p.MeasureLayout,f.visualElement=zC(r,m,d,t,p.ProjectionNode)}return a.jsxs(Pa.Provider,{value:f,children:[u&&f.visualElement?a.jsx(u,{visualElement:f.visualElement,...d}):null,n(r,l,UC(m,f.visualElement,c),m,h,f.visualElement)]})}i.displayName=`motion.${typeof r=="string"?r:`create(${r.displayName??r.name??""})`}`;const o=y.forwardRef(i);return o[$C]=r,o}function HC({layoutId:e}){const t=y.useContext(Dv).id;return t&&e!==void 0?t+"-"+e:e}function qC(e,t){y.useContext(_y).strict}function WC(e){const{drag:t,layout:n}=Ks;if(!t&&!n)return{};const s={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}const yi={};function GC(e){for(const t in e)yi[t]=e[t],vd(t)&&(yi[t].isCSSVariable=!0)}function Ay(e,{layout:t,layoutId:n}){return rr.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!yi[e]||e==="opacity")}const Oe=e=>!!(e&&e.getVelocity),KC={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},JC=sr.length;function YC(e,t,n){let s="",r=!0;for(let i=0;i<JC;i++){const o=sr[i],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const u=by(l,Cd[o]);if(!c){r=!1;const d=KC[o]||o;s+=`${d}(${u}) `}n&&(t[o]=u)}}return s=s.trim(),n?s=n(t,r?"":s):r&&(s="none"),s}function Id(e,t,n){const{style:s,vars:r,transformOrigin:i}=e;let o=!1,l=!1;for(const c in t){const u=t[c];if(rr.has(c)){o=!0;continue}else if(vd(c)){r[c]=u;continue}else{const d=by(u,Cd[c]);c.startsWith("origin")?(l=!0,i[c]=d):s[c]=d}}if(t.transform||(o||n?s.transform=YC(t,e.transform,n):s.transform&&(s.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=i;s.transformOrigin=`${c} ${u} ${d}`}}const Ld=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Ry(e,t,n){for(const s in t)!Oe(t[s])&&!Ay(s,n)&&(e[s]=t[s])}function QC({transformTemplate:e},t){return y.useMemo(()=>{const n=Ld();return Id(n,t,e),Object.assign({},n.vars,n.style)},[t])}function XC(e,t){const n=e.style||{},s={};return Ry(s,n,e),Object.assign(s,QC(e,t)),s}function ZC(e,t){const n={},s=XC(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const eT=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Dd(e){return typeof e!="string"||e.includes("-")?!1:!!(eT.indexOf(e)>-1||/[A-Z]/u.test(e))}const tT={offset:"stroke-dashoffset",array:"stroke-dasharray"},nT={offset:"strokeDashoffset",array:"strokeDasharray"};function sT(e,t,n=1,s=0,r=!0){e.pathLength=1;const i=r?tT:nT;e[i.offset]=H.transform(-s);const o=H.transform(t),l=H.transform(n);e[i.array]=`${o} ${l}`}function Oy(e,{attrX:t,attrY:n,attrScale:s,pathLength:r,pathSpacing:i=1,pathOffset:o=0,...l},c,u,d){if(Id(e,l,u),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:f}=e;h.transform&&(f.transform=h.transform,delete h.transform),(f.transform||h.transformOrigin)&&(f.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),f.transform&&(f.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete h.transformBox),t!==void 0&&(h.x=t),n!==void 0&&(h.y=n),s!==void 0&&(h.scale=s),r!==void 0&&sT(h,r,i,o,!1)}const Iy=()=>({...Ld(),attrs:{}}),Ly=e=>typeof e=="string"&&e.toLowerCase()==="svg";function rT(e,t,n,s){const r=y.useMemo(()=>{const i=Iy();return Oy(i,t,Ly(s),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};Ry(i,e.style,e),r.style={...i,...r.style}}return r}function iT(e=!1){return(n,s,r,{latestValues:i},o)=>{const c=(Dd(n)?rT:ZC)(s,i,o,n),u=IC(s,typeof n=="string",e),d=n!==y.Fragment?{...u,...c,ref:r}:{},{children:h}=s,f=y.useMemo(()=>Oe(h)?h.get():h,[h]);return y.createElement(n,{...d,children:f})}}function ym(e){const t=[{},{}];return e==null||e.values.forEach((n,s)=>{t[0][s]=n.get(),t[1][s]=n.getVelocity()}),t}function Md(e,t,n,s){if(typeof t=="function"){const[r,i]=ym(s);t=t(n!==void 0?n:e.custom,r,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[r,i]=ym(s);t=t(n!==void 0?n:e.custom,r,i)}return t}function So(e){return Oe(e)?e.get():e}function oT({scrapeMotionValuesFromProps:e,createRenderState:t},n,s,r){return{latestValues:aT(n,s,r,e),renderState:t()}}const Dy=e=>(t,n)=>{const s=y.useContext(Pa),r=y.useContext(cd),i=()=>oT(e,t,s,r);return n?i():OE(i)};function aT(e,t,n,s){const r={},i=s(e,{});for(const f in i)r[f]=So(i[f]);let{initial:o,animate:l}=e;const c=Ra(e),u=Ny(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const h=d?l:o;if(h&&typeof h!="boolean"&&!Aa(h)){const f=Array.isArray(h)?h:[h];for(let m=0;m<f.length;m++){const p=Md(e,f[m]);if(p){const{transitionEnd:x,transition:b,...g}=p;for(const v in g){let w=g[v];if(Array.isArray(w)){const S=d?w.length-1:0;w=w[S]}w!==null&&(r[v]=w)}for(const v in x)r[v]=x[v]}}}return r}function $d(e,t,n){var i;const{style:s}=e,r={};for(const o in s)(Oe(s[o])||t.style&&Oe(t.style[o])||Ay(o,e)||((i=n==null?void 0:n.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(r[o]=s[o]);return r}const lT={useVisualState:Dy({scrapeMotionValuesFromProps:$d,createRenderState:Ld})};function My(e,t,n){const s=$d(e,t,n);for(const r in e)if(Oe(e[r])||Oe(t[r])){const i=sr.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;s[i]=e[r]}return s}const cT={useVisualState:Dy({scrapeMotionValuesFromProps:My,createRenderState:Iy})};function uT(e,t){return function(s,{forwardMotionProps:r}={forwardMotionProps:!1}){const o={...Dd(s)?cT:lT,preloadedFeatures:e,useRender:iT(r),createVisualElement:t,Component:s};return BC(o)}}function xi(e,t,n){const s=e.getProps();return Md(s,t,n!==void 0?n:s.custom,e)}const Hc=e=>Array.isArray(e);function dT(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Gs(n))}function hT(e){return Hc(e)?e[e.length-1]||0:e}function fT(e,t){const n=xi(e,t);let{transitionEnd:s={},transition:r={},...i}=n||{};i={...i,...s};for(const o in i){const l=hT(i[o]);dT(e,o,l)}}function mT(e){return!!(Oe(e)&&e.add)}function qc(e,t){const n=e.getValue("willChange");if(mT(n))return n.add(t);if(!n&&Gt.WillChange){const s=new Gt.WillChange("auto");e.addValue("willChange",s),s.add(t)}}function $y(e){return e.props[Cy]}const pT=e=>e!==null;function gT(e,{repeat:t,repeatType:n="loop"},s){const r=e.filter(pT),i=t&&n!=="loop"&&t%2===1?0:r.length-1;return r[i]}const vT={type:"spring",stiffness:500,damping:25,restSpeed:10},yT=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),xT={type:"keyframes",duration:.8},wT={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},bT=(e,{keyframes:t})=>t.length>2?xT:rr.has(e)?e.startsWith("scale")?yT(t[1]):vT:wT;function ST({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:r,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const Ud=(e,t,n,s={},r,i)=>o=>{const l=Nd(s,e)||{},c=l.delay||s.delay||0;let{elapsed:u=0}=s;u=u-Pt(c);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:f=>{t.set(f),l.onUpdate&&l.onUpdate(f)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:i?void 0:r};ST(l)||Object.assign(d,bT(e,d)),d.duration&&(d.duration=Pt(d.duration)),d.repeatDelay&&(d.repeatDelay=Pt(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),(Gt.instantAnimations||Gt.skipAnimations)&&(h=!0,d.duration=0,d.delay=0),d.allowFlatten=!l.type&&!l.ease,h&&!i&&t.get()!==void 0){const f=gT(d.keyframes,l);if(f!==void 0){ae.update(()=>{d.onUpdate(f),d.onComplete()});return}}return l.isSync?new _d(d):new aC(d)};function jT({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function Uy(e,t,{delay:n=0,transitionOverride:s,type:r}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...l}=t;s&&(i=s);const c=[],u=r&&e.animationState&&e.animationState.getState()[r];for(const d in l){const h=e.getValue(d,e.latestValues[d]??null),f=l[d];if(f===void 0||u&&jT(u,d))continue;const m={delay:n,...Nd(i||{},d)},p=h.get();if(p!==void 0&&!h.isAnimating&&!Array.isArray(f)&&f===p&&!m.velocity)continue;let x=!1;if(window.MotionHandoffAnimation){const g=$y(e);if(g){const v=window.MotionHandoffAnimation(g,d,ae);v!==null&&(m.startTime=v,x=!0)}}qc(e,d),h.start(Ud(d,h,f,e.shouldReduceMotion&&gy.has(d)?{type:!1}:m,e,x));const b=h.animation;b&&c.push(b)}return o&&Promise.all(c).then(()=>{ae.update(()=>{o&&fT(e,o)})}),c}function Wc(e,t,n={}){var c;const s=xi(e,t,n.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:r=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(r=n.transitionOverride);const i=s?()=>Promise.all(Uy(e,s,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=r;return kT(e,t,d+u,h,f,n)}:()=>Promise.resolve(),{when:l}=r;if(l){const[u,d]=l==="beforeChildren"?[i,o]:[o,i];return u().then(()=>d())}else return Promise.all([i(),o(n.delay)])}function kT(e,t,n=0,s=0,r=1,i){const o=[],l=(e.variantChildren.size-1)*s,c=r===1?(u=0)=>u*s:(u=0)=>l-u*s;return Array.from(e.variantChildren).sort(_T).forEach((u,d)=>{u.notify("AnimationStart",t),o.push(Wc(u,t,{...i,delay:n+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function _T(e,t){return e.sortNodePosition(t)}function ET(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const r=t.map(i=>Wc(e,i,n));s=Promise.all(r)}else if(typeof t=="string")s=Wc(e,t,n);else{const r=typeof t=="function"?xi(e,t,n.custom):t;s=Promise.all(Uy(e,r,n))}return s.then(()=>{e.notify("AnimationComplete",t)})}function Fy(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}const NT=Rd.length;function zy(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?zy(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<NT;n++){const s=Rd[n],r=e.props[s];(vi(r)||r===!1)&&(t[s]=r)}return t}const CT=[...Ad].reverse(),TT=Ad.length;function PT(e){return t=>Promise.all(t.map(({animation:n,options:s})=>ET(e,n,s)))}function AT(e){let t=PT(e),n=xm(),s=!0;const r=c=>(u,d)=>{var f;const h=xi(e,d,c==="exit"?(f=e.presenceContext)==null?void 0:f.custom:void 0);if(h){const{transition:m,transitionEnd:p,...x}=h;u={...u,...x,...p}}return u};function i(c){t=c(e)}function o(c){const{props:u}=e,d=zy(e.parent)||{},h=[],f=new Set;let m={},p=1/0;for(let b=0;b<TT;b++){const g=CT[b],v=n[g],w=u[g]!==void 0?u[g]:d[g],S=vi(w),j=g===c?v.isActive:null;j===!1&&(p=b);let C=w===d[g]&&w!==u[g]&&S;if(C&&s&&e.manuallyAnimateOnMount&&(C=!1),v.protectedKeys={...m},!v.isActive&&j===null||!w&&!v.prevProp||Aa(w)||typeof w=="boolean")continue;const k=RT(v.prevProp,w);let _=k||g===c&&v.isActive&&!C&&S||b>p&&S,R=!1;const O=Array.isArray(w)?w:[w];let N=O.reduce(r(g),{});j===!1&&(N={});const{prevResolvedValues:$={}}=v,P={...$,...N},L=U=>{_=!0,f.has(U)&&(R=!0,f.delete(U)),v.needsAnimating[U]=!0;const E=e.getValue(U);E&&(E.liveStyle=!1)};for(const U in P){const E=N[U],M=$[U];if(m.hasOwnProperty(U))continue;let z=!1;Hc(E)&&Hc(M)?z=!Fy(E,M):z=E!==M,z?E!=null?L(U):f.add(U):E!==void 0&&f.has(U)?L(U):v.protectedKeys[U]=!0}v.prevProp=w,v.prevResolvedValues=N,v.isActive&&(m={...m,...N}),s&&e.blockInitialAnimation&&(_=!1),_&&(!(C&&k)||R)&&h.push(...O.map(U=>({animation:U,options:{type:g}})))}if(f.size){const b={};if(typeof u.initial!="boolean"){const g=xi(e,Array.isArray(u.initial)?u.initial[0]:u.initial);g&&g.transition&&(b.transition=g.transition)}f.forEach(g=>{const v=e.getBaseTarget(g),w=e.getValue(g);w&&(w.liveStyle=!0),b[g]=v??null}),h.push({animation:b})}let x=!!h.length;return s&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(x=!1),s=!1,x?t(h):Promise.resolve()}function l(c,u){var h;if(n[c].isActive===u)return Promise.resolve();(h=e.variantChildren)==null||h.forEach(f=>{var m;return(m=f.animationState)==null?void 0:m.setActive(c,u)}),n[c].isActive=u;const d=o(c);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>n,reset:()=>{n=xm(),s=!0}}}function RT(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Fy(t,e):!1}function On(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function xm(){return{animate:On(!0),whileInView:On(),whileHover:On(),whileTap:On(),whileDrag:On(),whileFocus:On(),exit:On()}}class Pn{constructor(t){this.isMounted=!1,this.node=t}update(){}}class OT extends Pn{constructor(t){super(t),t.animationState||(t.animationState=AT(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Aa(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let IT=0;class LT extends Pn{constructor(){super(...arguments),this.id=IT++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const r=this.node.animationState.setActive("exit",!t);n&&!t&&r.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const DT={animation:{Feature:OT},exit:{Feature:LT}};function wi(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}function Ii(e){return{point:{x:e.pageX,y:e.pageY}}}const MT=e=>t=>Pd(t)&&e(t,Ii(t));function Mr(e,t,n,s){return wi(e,t,MT(n),s)}function Vy({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function $T({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function UT(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}const By=1e-4,FT=1-By,zT=1+By,Hy=.01,VT=0-Hy,BT=0+Hy;function De(e){return e.max-e.min}function HT(e,t,n){return Math.abs(e-t)<=n}function wm(e,t,n,s=.5){e.origin=s,e.originPoint=re(t.min,t.max,e.origin),e.scale=De(n)/De(t),e.translate=re(n.min,n.max,e.origin)-e.originPoint,(e.scale>=FT&&e.scale<=zT||isNaN(e.scale))&&(e.scale=1),(e.translate>=VT&&e.translate<=BT||isNaN(e.translate))&&(e.translate=0)}function $r(e,t,n,s){wm(e.x,t.x,n.x,s?s.originX:void 0),wm(e.y,t.y,n.y,s?s.originY:void 0)}function bm(e,t,n){e.min=n.min+t.min,e.max=e.min+De(t)}function qT(e,t,n){bm(e.x,t.x,n.x),bm(e.y,t.y,n.y)}function Sm(e,t,n){e.min=t.min-n.min,e.max=e.min+De(t)}function Ur(e,t,n){Sm(e.x,t.x,n.x),Sm(e.y,t.y,n.y)}const jm=()=>({translate:0,scale:1,origin:0,originPoint:0}),Es=()=>({x:jm(),y:jm()}),km=()=>({min:0,max:0}),de=()=>({x:km(),y:km()});function st(e){return[e("x"),e("y")]}function xl(e){return e===void 0||e===1}function Gc({scale:e,scaleX:t,scaleY:n}){return!xl(e)||!xl(t)||!xl(n)}function Mn(e){return Gc(e)||qy(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function qy(e){return _m(e.x)||_m(e.y)}function _m(e){return e&&e!=="0%"}function ta(e,t,n){const s=e-n,r=t*s;return n+r}function Em(e,t,n,s,r){return r!==void 0&&(e=ta(e,r,s)),ta(e,n,s)+t}function Kc(e,t=0,n=1,s,r){e.min=Em(e.min,t,n,s,r),e.max=Em(e.max,t,n,s,r)}function Wy(e,{x:t,y:n}){Kc(e.x,t.translate,t.scale,t.originPoint),Kc(e.y,n.translate,n.scale,n.originPoint)}const Nm=.999999999999,Cm=1.0000000000001;function WT(e,t,n,s=!1){const r=n.length;if(!r)return;t.x=t.y=1;let i,o;for(let l=0;l<r;l++){i=n[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(s&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Cs(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,Wy(e,o)),s&&Mn(i.latestValues)&&Cs(e,i.latestValues))}t.x<Cm&&t.x>Nm&&(t.x=1),t.y<Cm&&t.y>Nm&&(t.y=1)}function Ns(e,t){e.min=e.min+t,e.max=e.max+t}function Tm(e,t,n,s,r=.5){const i=re(e.min,e.max,r);Kc(e,t,n,i,s)}function Cs(e,t){Tm(e.x,t.x,t.scaleX,t.scale,t.originX),Tm(e.y,t.y,t.scaleY,t.scale,t.originY)}function Gy(e,t){return Vy(UT(e.getBoundingClientRect(),t))}function GT(e,t,n){const s=Gy(e,n),{scroll:r}=t;return r&&(Ns(s.x,r.offset.x),Ns(s.y,r.offset.y)),s}const Ky=({current:e})=>e?e.ownerDocument.defaultView:null,Pm=(e,t)=>Math.abs(e-t);function KT(e,t){const n=Pm(e.x,t.x),s=Pm(e.y,t.y);return Math.sqrt(n**2+s**2)}class Jy{constructor(t,n,{transformPagePoint:s,contextWindow:r,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=bl(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,m=KT(h.offset,{x:0,y:0})>=3;if(!f&&!m)return;const{point:p}=h,{timestamp:x}=be;this.history.push({...p,timestamp:x});const{onStart:b,onMove:g}=this.handlers;f||(b&&b(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=wl(f,this.transformPagePoint),ae.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:m,onSessionEnd:p,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=bl(h.type==="pointercancel"?this.lastMoveEventInfo:wl(f,this.transformPagePoint),this.history);this.startEvent&&m&&m(h,b),p&&p(h,b)},!Pd(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=s,this.contextWindow=r||window;const o=Ii(t),l=wl(o,this.transformPagePoint),{point:c}=l,{timestamp:u}=be;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=n;d&&d(t,bl(l,this.history)),this.removeListeners=Ai(Mr(this.contextWindow,"pointermove",this.handlePointerMove),Mr(this.contextWindow,"pointerup",this.handlePointerUp),Mr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),kn(this.updatePoint)}}function wl(e,t){return t?{point:t(e.point)}:e}function Am(e,t){return{x:e.x-t.x,y:e.y-t.y}}function bl({point:e},t){return{point:e,delta:Am(e,Yy(t)),offset:Am(e,JT(t)),velocity:YT(t,.1)}}function JT(e){return e[0]}function Yy(e){return e[e.length-1]}function YT(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const r=Yy(e);for(;n>=0&&(s=e[n],!(r.timestamp-s.timestamp>Pt(t)));)n--;if(!s)return{x:0,y:0};const i=At(r.timestamp-s.timestamp);if(i===0)return{x:0,y:0};const o={x:(r.x-s.x)/i,y:(r.y-s.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function QT(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?re(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?re(n,e,s.max):Math.min(e,n)),e}function Rm(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function XT(e,{top:t,left:n,bottom:s,right:r}){return{x:Rm(e.x,n,r),y:Rm(e.y,t,s)}}function Om(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function ZT(e,t){return{x:Om(e.x,t.x),y:Om(e.y,t.y)}}function eP(e,t){let n=.5;const s=De(e),r=De(t);return r>s?n=mi(t.min,t.max-s,e.min):s>r&&(n=mi(e.min,e.max-r,t.min)),Wt(0,1,n)}function tP(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Jc=.35;function nP(e=Jc){return e===!1?e=0:e===!0&&(e=Jc),{x:Im(e,"left","right"),y:Im(e,"top","bottom")}}function Im(e,t,n){return{min:Lm(e,t),max:Lm(e,n)}}function Lm(e,t){return typeof e=="number"?e:e[t]||0}const sP=new WeakMap;class rP{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=de(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const r=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ii(d).point)},i=(d,h)=>{const{drag:f,dragPropagation:m,onDragStart:p}=this.getProps();if(f&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=jC(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),st(b=>{let g=this.getAxisMotionValue(b).get()||0;if(Rt.test(g)){const{projection:v}=this.visualElement;if(v&&v.layout){const w=v.layout.layoutBox[b];w&&(g=De(w)*(parseFloat(g)/100))}}this.originPoint[b]=g}),p&&ae.postRender(()=>p(d,h)),qc(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},o=(d,h)=>{const{dragPropagation:f,dragDirectionLock:m,onDirectionLock:p,onDrag:x}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:b}=h;if(m&&this.currentDirection===null){this.currentDirection=iP(b),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",h.point,b),this.updateAxis("y",h.point,b),this.visualElement.render(),x&&x(d,h)},l=(d,h)=>this.stop(d,h),c=()=>st(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)==null?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new Jy(t,{onSessionStart:r,onStart:i,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:Ky(this.visualElement)})}stop(t,n){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:r}=n;this.startAnimation(r);const{onDragEnd:i}=this.getProps();i&&ae.postRender(()=>i(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,s){const{drag:r}=this.getProps();if(!s||!io(t,r,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(o=QT(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,r=this.constraints;t&&_s(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=XT(s.layoutBox,t):this.constraints=!1,this.elastic=nP(n),r!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&st(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=tP(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!_s(t))return!1;const s=t.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=GT(s,r.root,this.visualElement.getTransformPagePoint());let o=ZT(r.layout.layoutBox,i);if(n){const l=n($T(o));this.hasMutatedConstraints=!!l,l&&(o=Vy(l))}return o}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:r,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=st(d=>{if(!io(d,n,this.currentDirection))return;let h=c&&c[d]||{};o&&(h={min:0,max:0});const f=r?200:1e6,m=r?40:1e7,p={type:"inertia",velocity:s?t[d]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(d,p)});return Promise.all(u).then(l)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return qc(this.visualElement,t),s.start(Ud(t,s,0,n,this.visualElement,!1))}stopAnimation(){st(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){st(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),r=s[n];return r||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){st(n=>{const{drag:s}=this.getProps();if(!io(n,s,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(n);if(r&&r.layout){const{min:o,max:l}=r.layout.layoutBox[n];i.set(t[n]-re(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!_s(n)||!s||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};st(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();r[o]=eP({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),st(o=>{if(!io(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(re(c,u,r[o]))})}addListeners(){if(!this.visualElement.current)return;sP.set(this.visualElement,this);const t=this.visualElement.current,n=Mr(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),s=()=>{const{dragConstraints:c}=this.getProps();_s(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,i=r.addEventListener("measure",s);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),ae.read(s);const o=wi(window,"resize",()=>this.scalePositionWithinConstraints()),l=r.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(st(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=c[d].translate,h.set(h.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:o=Jc,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:r,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function io(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function iP(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class oP extends Pn{constructor(t){super(t),this.removeGroupControls=ut,this.removeListeners=ut,this.controls=new rP(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ut}unmount(){this.removeGroupControls(),this.removeListeners()}}const Dm=e=>(t,n)=>{e&&ae.postRender(()=>e(t,n))};class aP extends Pn{constructor(){super(...arguments),this.removePointerDownListener=ut}onPointerDown(t){this.session=new Jy(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Ky(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:r}=this.node.getProps();return{onSessionStart:Dm(t),onStart:Dm(n),onMove:s,onEnd:(i,o)=>{delete this.session,r&&ae.postRender(()=>r(i,o))}}}mount(){this.removePointerDownListener=Mr(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const jo={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Mm(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const pr={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(H.test(e))e=parseFloat(e);else return e;const n=Mm(e,t.target.x),s=Mm(e,t.target.y);return`${n}% ${s}%`}},lP={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,r=_n.parse(e);if(r.length>5)return s;const i=_n.createTransformer(e),o=typeof r[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;r[0+o]/=l,r[1+o]/=c;const u=re(l,c,.5);return typeof r[2+o]=="number"&&(r[2+o]/=u),typeof r[3+o]=="number"&&(r[3+o]/=u),i(r)}};class cP extends y.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:r}=this.props,{projection:i}=t;GC(uP),i&&(n.group&&n.group.add(i),s&&s.register&&r&&s.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),jo.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:r,isPresent:i}=this.props,{projection:o}=s;return o&&(o.isPresent=i,r||t.layoutDependency!==n||n===void 0||t.isPresent!==i?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||ae.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Td.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:r}=t;r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),s&&s.deregister&&s.deregister(r))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Qy(e){const[t,n]=LE(),s=y.useContext(Dv);return a.jsx(cP,{...e,layoutGroup:s,switchLayoutGroup:y.useContext(Ty),isPresent:t,safeToRemove:n})}const uP={borderRadius:{...pr,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:pr,borderTopRightRadius:pr,borderBottomLeftRadius:pr,borderBottomRightRadius:pr,boxShadow:lP};function dP(e,t,n){const s=Oe(e)?e:Gs(e);return s.start(Ud("",s,t,n)),s.animation}function hP(e){return e instanceof SVGElement&&e.tagName!=="svg"}const fP=(e,t)=>e.depth-t.depth;class mP{constructor(){this.children=[],this.isDirty=!1}add(t){ud(this.children,t),this.isDirty=!0}remove(t){dd(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(fP),this.isDirty=!1,this.children.forEach(t)}}function pP(e,t){const n=He.now(),s=({timestamp:r})=>{const i=r-n;i>=t&&(kn(s),e(i-t))};return ae.setup(s,!0),()=>kn(s)}const Xy=["TopLeft","TopRight","BottomLeft","BottomRight"],gP=Xy.length,$m=e=>typeof e=="string"?parseFloat(e):e,Um=e=>typeof e=="number"||H.test(e);function vP(e,t,n,s,r,i){r?(e.opacity=re(0,n.opacity??1,yP(s)),e.opacityExit=re(t.opacity??1,0,xP(s))):i&&(e.opacity=re(t.opacity??1,n.opacity??1,s));for(let o=0;o<gP;o++){const l=`border${Xy[o]}Radius`;let c=Fm(t,l),u=Fm(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||Um(c)===Um(u)?(e[l]=Math.max(re($m(c),$m(u),s),0),(Rt.test(u)||Rt.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||n.rotate)&&(e.rotate=re(t.rotate||0,n.rotate||0,s))}function Fm(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const yP=Zy(0,.5,Gv),xP=Zy(.5,.95,ut);function Zy(e,t,n){return s=>s<e?0:s>t?1:n(mi(e,t,s))}function zm(e,t){e.min=t.min,e.max=t.max}function nt(e,t){zm(e.x,t.x),zm(e.y,t.y)}function Vm(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Bm(e,t,n,s,r){return e-=t,e=ta(e,1/n,s),r!==void 0&&(e=ta(e,1/r,s)),e}function wP(e,t=0,n=1,s=.5,r,i=e,o=e){if(Rt.test(t)&&(t=parseFloat(t),t=re(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=re(i.min,i.max,s);e===i&&(l-=t),e.min=Bm(e.min,t,n,l,r),e.max=Bm(e.max,t,n,l,r)}function Hm(e,t,[n,s,r],i,o){wP(e,t[n],t[s],t[r],t.scale,i,o)}const bP=["x","scaleX","originX"],SP=["y","scaleY","originY"];function qm(e,t,n,s){Hm(e.x,t,bP,n?n.x:void 0,s?s.x:void 0),Hm(e.y,t,SP,n?n.y:void 0,s?s.y:void 0)}function Wm(e){return e.translate===0&&e.scale===1}function ex(e){return Wm(e.x)&&Wm(e.y)}function Gm(e,t){return e.min===t.min&&e.max===t.max}function jP(e,t){return Gm(e.x,t.x)&&Gm(e.y,t.y)}function Km(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function tx(e,t){return Km(e.x,t.x)&&Km(e.y,t.y)}function Jm(e){return De(e.x)/De(e.y)}function Ym(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class kP{constructor(){this.members=[]}add(t){ud(this.members,t),t.scheduleRender()}remove(t){if(dd(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(r=>t===r);if(n===0)return!1;let s;for(let r=n;r>=0;r--){const i=this.members[r];if(i.isPresent!==!1){s=i;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:r}=t.options;r===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function _P(e,t,n){let s="";const r=e.x.translate/t.x,i=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((r||i||o)&&(s=`translate3d(${r}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:f,skewX:m,skewY:p}=n;u&&(s=`perspective(${u}px) ${s}`),d&&(s+=`rotate(${d}deg) `),h&&(s+=`rotateX(${h}deg) `),f&&(s+=`rotateY(${f}deg) `),m&&(s+=`skewX(${m}deg) `),p&&(s+=`skewY(${p}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(s+=`scale(${l}, ${c})`),s||"none"}const Sl=["","X","Y","Z"],EP={visibility:"hidden"},NP=1e3;let CP=0;function jl(e,t,n,s){const{latestValues:r}=t;r[e]&&(n[e]=r[e],t.setStaticValue(e,0),s&&(s[e]=0))}function nx(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=$y(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",ae,!(r||i))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&nx(s)}function sx({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:r}){return class{constructor(o={},l=t==null?void 0:t()){this.id=CP++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(AP),this.nodes.forEach(DP),this.nodes.forEach(MP),this.nodes.forEach(RP)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new mP)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new md),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=hP(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),e){let d;const h=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=pP(h,250),jo.hasAnimatedSinceResize&&(jo.hasAnimatedSinceResize=!1,this.nodes.forEach(Xm))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeLayoutChanged:f,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const p=this.options.transition||u.getDefaultTransition()||VP,{onLayoutAnimationStart:x,onLayoutAnimationComplete:b}=u.getProps(),g=!this.targetLayout||!tx(this.targetLayout,m),v=!h&&f;if(this.options.layoutRoot||this.resumeFrom||v||h&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,v);const w={...Nd(p,"layout"),onPlay:x,onComplete:b};(u.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w)}else h||Xm(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),kn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach($P),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&nx(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Qm);return}this.isUpdating||this.nodes.forEach(IP),this.isUpdating=!1,this.nodes.forEach(LP),this.nodes.forEach(TP),this.nodes.forEach(PP),this.clearAllSnapshots();const l=He.now();be.delta=Wt(0,1e3/60,l-be.timestamp),be.timestamp=l,be.isProcessing=!0,ml.update.process(be),ml.preRender.process(be),ml.render.process(be),be.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Td.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(OP),this.sharedNodes.forEach(UP)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ae.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ae.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!De(this.snapshot.measuredBox.x)&&!De(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=de(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=s(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!ex(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&this.instance&&(l||Mn(this.latestValues)||d)&&(r(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),BP(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:o}=this.options;if(!o)return de();const l=o.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(HP))){const{scroll:d}=this.root;d&&(Ns(l.x,d.offset.x),Ns(l.y,d.offset.y))}return l}removeElementScroll(o){var c;const l=de();if(nt(l,o),(c=this.scroll)!=null&&c.wasRoot)return l;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&nt(l,o),Ns(l.x,h.offset.x),Ns(l.y,h.offset.y))}return l}applyTransform(o,l=!1){const c=de();nt(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Cs(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Mn(d.latestValues)&&Cs(c,d.latestValues)}return Mn(this.latestValues)&&Cs(c,this.latestValues),c}removeTransform(o){const l=de();nt(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Mn(u.latestValues))continue;Gc(u.latestValues)&&u.updateSnapshot();const d=de(),h=u.measurePageBox();nt(d,h),qm(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Mn(this.latestValues)&&qm(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==be.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var f;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=be.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=de(),this.relativeTargetOrigin=de(),Ur(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),nt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=de(),this.targetWithTransforms=de()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),qT(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):nt(this.target,this.layout.layoutBox),Wy(this.target,this.targetDelta)):nt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=de(),this.relativeTargetOrigin=de(),Ur(this.relativeTargetOrigin,this.target,m.target),nt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Gc(this.parent.latestValues)||qy(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var p;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===be.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;nt(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;WT(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=de());const{target:m}=o;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Vm(this.prevProjectionDelta.x,this.projectionDelta.x),Vm(this.prevProjectionDelta.y,this.projectionDelta.y)),$r(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==f||!Ym(this.projectionDelta.x,this.prevProjectionDelta.x)||!Ym(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Es(),this.projectionDelta=Es(),this.projectionDeltaWithTransform=Es()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},h=Es();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const f=de(),m=c?c.source:void 0,p=this.layout?this.layout.source:void 0,x=m!==p,b=this.getStack(),g=!b||b.members.length<=1,v=!!(x&&!g&&this.options.crossfade===!0&&!this.path.some(zP));this.animationProgress=0;let w;this.mixTargetDelta=S=>{const j=S/1e3;Zm(h.x,o.x,j),Zm(h.y,o.y,j),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ur(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),FP(this.relativeTarget,this.relativeTargetOrigin,f,j),w&&jP(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=de()),nt(w,this.relativeTarget)),x&&(this.animationValues=d,vP(d,u,this.latestValues,j,v,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,c,u;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(!1),(u=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||u.stop(!1),this.pendingAnimation&&(kn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ae.update(()=>{jo.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Gs(0)),this.currentAnimation=dP(this.motionValue,[0,1e3],{...o,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),o.onUpdate&&o.onUpdate(d)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(NP),this.currentAnimation.stop(!1)),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&rx(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||de();const h=De(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const f=De(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+f}nt(l,c),Cs(l,d),$r(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new kP),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&jl("z",o,u,this.animationValues);for(let d=0;d<Sl.length;d++)jl(`rotate${Sl[d]}`,o,u,this.animationValues),jl(`skew${Sl[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}getProjectionStyles(o){if(!this.instance||this.isSVG)return;if(!this.isVisible)return EP;const l={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=So(o==null?void 0:o.pointerEvents)||"",l.transform=c?c(this.latestValues,""):"none",l;const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){const m={};return this.options.layoutId&&(m.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,m.pointerEvents=So(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Mn(this.latestValues)&&(m.transform=c?c({},""):"none",this.hasProjected=!1),m}const d=u.animationValues||u.latestValues;this.applyTransformsToTarget(),l.transform=_P(this.projectionDeltaWithTransform,this.treeScale,d),c&&(l.transform=c(d,l.transform));const{x:h,y:f}=this.projectionDelta;l.transformOrigin=`${h.origin*100}% ${f.origin*100}% 0`,u.animationValues?l.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:l.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const m in yi){if(d[m]===void 0)continue;const{correct:p,applyTo:x,isCSSVariable:b}=yi[m],g=l.transform==="none"?d[m]:p(d[m],u);if(x){const v=x.length;for(let w=0;w<v;w++)l[x[w]]=g}else b?this.options.visualElement.renderState.vars[m]=g:l[m]=g}return this.options.layoutId&&(l.pointerEvents=u===this?So(o==null?void 0:o.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop(!1)}),this.root.nodes.forEach(Qm),this.root.sharedNodes.clear()}}}function TP(e){e.updateLayout()}function PP(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:r}=e.layout,{animationType:i}=e.options,o=t.source!==e.layout.source;i==="size"?st(h=>{const f=o?t.measuredBox[h]:t.layoutBox[h],m=De(f);f.min=s[h].min,f.max=f.min+m}):rx(i,t.layoutBox,s)&&st(h=>{const f=o?t.measuredBox[h]:t.layoutBox[h],m=De(s[h]);f.max=f.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+m)});const l=Es();$r(l,s,t.layoutBox);const c=Es();o?$r(c,e.applyTransform(r,!0),t.measuredBox):$r(c,s,t.layoutBox);const u=!ex(l);let d=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:m}=h;if(f&&m){const p=de();Ur(p,t.layoutBox,f.layoutBox);const x=de();Ur(x,s,m.layoutBox),tx(p,x)||(d=!0),h.options.layoutRoot&&(e.relativeTarget=x,e.relativeTargetOrigin=p,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function AP(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function RP(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function OP(e){e.clearSnapshot()}function Qm(e){e.clearMeasurements()}function IP(e){e.isLayoutDirty=!1}function LP(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Xm(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function DP(e){e.resolveTargetDelta()}function MP(e){e.calcProjection()}function $P(e){e.resetSkewAndRotation()}function UP(e){e.removeLeadSnapshot()}function Zm(e,t,n){e.translate=re(t.translate,0,n),e.scale=re(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function ep(e,t,n,s){e.min=re(t.min,n.min,s),e.max=re(t.max,n.max,s)}function FP(e,t,n,s){ep(e.x,t.x,n.x,s),ep(e.y,t.y,n.y,s)}function zP(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const VP={duration:.45,ease:[.4,0,.1,1]},tp=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),np=tp("applewebkit/")&&!tp("chrome/")?Math.round:ut;function sp(e){e.min=np(e.min),e.max=np(e.max)}function BP(e){sp(e.x),sp(e.y)}function rx(e,t,n){return e==="position"||e==="preserve-aspect"&&!HT(Jm(t),Jm(n),.2)}function HP(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const qP=sx({attachResizeListener:(e,t)=>wi(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),kl={current:void 0},ix=sx({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!kl.current){const e=new qP({});e.mount(window),e.setOptions({layoutScroll:!0}),kl.current=e}return kl.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),WP={pan:{Feature:aP},drag:{Feature:oP,ProjectionNode:ix,MeasureLayout:Qy}};function rp(e,t,n){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",n==="Start");const r="onHover"+n,i=s[r];i&&ae.postRender(()=>i(t,Ii(t)))}class GP extends Pn{mount(){const{current:t}=this.node;t&&(this.unmount=kC(t,(n,s)=>(rp(this.node,s,"Start"),r=>rp(this.node,r,"End"))))}unmount(){}}class KP extends Pn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ai(wi(this.node.current,"focus",()=>this.onFocus()),wi(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function ip(e,t,n){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",n==="Start");const r="onTap"+(n==="End"?"":n),i=s[r];i&&ae.postRender(()=>i(t,Ii(t)))}class JP extends Pn{mount(){const{current:t}=this.node;t&&(this.unmount=CC(t,(n,s)=>(ip(this.node,s,"Start"),(r,{success:i})=>ip(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Yc=new WeakMap,_l=new WeakMap,YP=e=>{const t=Yc.get(e.target);t&&t(e)},QP=e=>{e.forEach(YP)};function XP({root:e,...t}){const n=e||document;_l.has(n)||_l.set(n,{});const s=_l.get(n),r=JSON.stringify(t);return s[r]||(s[r]=new IntersectionObserver(QP,{root:e,...t})),s[r]}function ZP(e,t,n){const s=XP(t);return Yc.set(e,n),s.observe(e),()=>{Yc.delete(e),s.unobserve(e)}}const eA={some:0,all:1};class tA extends Pn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:r="some",once:i}=t,o={root:n?n.current:void 0,rootMargin:s,threshold:typeof r=="number"?r:eA[r]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(c)};return ZP(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(nA(t,n))&&this.startObserver()}unmount(){}}function nA({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const sA={inView:{Feature:tA},tap:{Feature:JP},focus:{Feature:KP},hover:{Feature:GP}},rA={layout:{ProjectionNode:ix,MeasureLayout:Qy}},Qc={current:null},ox={current:!1};function iA(){if(ox.current=!0,!!ld)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Qc.current=e.matches;e.addListener(t),t()}else Qc.current=!1}const oA=new WeakMap;function aA(e,t,n){for(const s in t){const r=t[s],i=n[s];if(Oe(r))e.addValue(s,r);else if(Oe(i))e.addValue(s,Gs(r,{owner:e}));else if(i!==r)if(e.hasValue(s)){const o=e.getValue(s);o.liveStyle===!0?o.jump(r):o.hasAnimated||o.set(r)}else{const o=e.getStaticValue(s);e.addValue(s,Gs(o!==void 0?o:r,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const op=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class lA{scrapeMotionValuesFromProps(t,n,s){return{}}constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:r,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Ed,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=He.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,ae.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=r,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=Ra(n),this.isVariantNode=Ny(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in h){const m=h[f];c[f]!==void 0&&Oe(m)&&m.set(c[f],!1)}}mount(t){this.current=t,oA.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),ox.current||iA(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Qc.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),kn(this.notifyUpdate),kn(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=rr.has(t);s&&this.onBindTransform&&this.onBindTransform();const r=n.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&ae.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{r(),i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Ks){const n=Ks[t];if(!n)continue;const{isEnabled:s,Feature:r}=n;if(!this.features[t]&&r&&s(this.props)&&(this.features[t]=new r(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):de()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<op.length;s++){const r=op[s];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const i="on"+r,o=t[i];o&&(this.propEventSubscriptions[r]=this.on(r,o))}this.prevMotionValues=aA(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const s=this.values.get(t);n!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=Gs(n===null?void 0:n,{owner:this}),this.addValue(t,s)),s}readValue(t,n){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&($v(s)||Uv(s))?s=parseFloat(s):!PC(s)&&_n.test(n)&&(s=wy(t,n)),this.setBaseTarget(t,Oe(s)?s.get():s)),Oe(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var i;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const o=Md(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);o&&(s=o[t])}if(n&&s!==void 0)return s;const r=this.getBaseTargetFromProps(this.props,t);return r!==void 0&&!Oe(r)?r:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new md),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class ax extends lA{constructor(){super(...arguments),this.KeyframeResolver=xC}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Oe(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function lx(e,{style:t,vars:n},s,r){Object.assign(e.style,t,r&&r.getProjectionStyles(s));for(const i in n)e.style.setProperty(i,n[i])}function cA(e){return window.getComputedStyle(e)}class uA extends ax{constructor(){super(...arguments),this.type="html",this.renderInstance=lx}readValueFromInstance(t,n){var s;if(rr.has(n))return(s=this.projection)!=null&&s.isProjecting?$c(n):$N(t,n);{const r=cA(t),i=(vd(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return Gy(t,n)}build(t,n,s){Id(t,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,n,s){return $d(t,n,s)}}const cx=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function dA(e,t,n,s){lx(e,t,void 0,s);for(const r in t.attrs)e.setAttribute(cx.has(r)?r:Od(r),t.attrs[r])}class hA extends ax{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=de}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(rr.has(n)){const s=xy(n);return s&&s.default||0}return n=cx.has(n)?n:Od(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,s){return My(t,n,s)}build(t,n,s){Oy(t,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,n,s,r){dA(t,n,s,r)}mount(t){this.isSVGTag=Ly(t.tagName),super.mount(t)}}const fA=(e,t)=>Dd(e)?new hA(t):new uA(t,{allowProjection:e!==y.Fragment}),mA=uT({...DT,...sA,...WP,...rA},fA),Ne=LC(mA),pA=()=>{const[e,t]=y.useState(""),[n,s]=y.useState(""),[r,i]=y.useState("idle"),[o,l]=y.useState(""),c=async u=>{u.preventDefault(),i("loading"),l("");try{const h=await(await fetch("/api/waitlist",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,province:n})})).json();h.success?(i("success"),t(""),s("")):(i("error"),l(h.error||"Something went wrong."))}catch{i("error"),l("Network error.")}};return a.jsxs("div",{className:"min-h-screen bg-white",children:[a.jsxs("div",{className:"relative bg-gradient-to-b from-teal-50 to-white overflow-hidden",children:[a.jsx(Ne.div,{className:"absolute top-0 left-1/2 w-[600px] h-[600px] bg-teal-100 rounded-full opacity-30 -translate-x-1/2 -z-10",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:1.2,ease:"easeOut"}}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-20 pb-16 text-center",children:[a.jsx(Ne.h1,{className:"text-4xl md:text-6xl font-bold text-slate-900 mb-4",initial:{y:-40,opacity:0},animate:{y:0,opacity:1},transition:{duration:.7},children:"Streamline Your EIT Journey"}),a.jsx(Ne.p,{className:"text-2xl text-teal-700 mb-2 font-semibold",initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2,duration:.7},children:"Your path to engineering excellence starts here."}),a.jsx(Ne.p,{className:"text-xl text-slate-600 mb-8 max-w-3xl mx-auto",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4,duration:.7},children:"Accreda helps engineers track, document, and manage their professional development journey towards becoming an Engineer in Training (EIT)."}),a.jsxs(Ne.div,{className:"flex flex-col sm:flex-row gap-4 justify-center",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.6,duration:.5},children:[a.jsx(ot,{to:"/signup",className:"btn btn-primary text-lg px-8 py-3",children:"Get Started"}),a.jsx(ot,{to:"/login",className:"btn btn-secondary text-lg px-8 py-3",children:"Sign In"}),a.jsx("a",{href:"#features",className:"btn btn-outline text-lg px-8 py-3 border-teal-500 text-teal-700 hover:bg-teal-50 transition",children:"Learn More"})]})]})]}),a.jsx("div",{className:"bg-yellow-50 border-b border-yellow-200 py-12",children:a.jsxs("div",{className:"max-w-2xl mx-auto px-4 text-center",children:[a.jsx("h2",{className:"text-2xl font-bold text-yellow-800 mb-2",children:"Currently Available Only in Alberta (APEGA)"}),a.jsx("p",{className:"text-yellow-700 mb-6",children:"We're working hard to expand Accreda to other provinces. Join our waitlist to be notified when we launch in your area!"}),a.jsxs("form",{className:"flex flex-col sm:flex-row gap-3 justify-center items-center",onSubmit:c,children:[a.jsx("input",{type:"email",required:!0,placeholder:"Your email",className:"border border-yellow-300 rounded px-4 py-2 focus:outline-none focus:ring-2 focus:ring-yellow-400",value:e,onChange:u=>t(u.target.value),disabled:r==="loading"}),a.jsxs("select",{required:!0,className:"border border-yellow-300 rounded px-4 py-2 focus:outline-none focus:ring-2 focus:ring-yellow-400",value:n,onChange:u=>s(u.target.value),disabled:r==="loading",children:[a.jsx("option",{value:"",children:"Select province"}),a.jsx("option",{value:"AB",children:"Alberta"}),a.jsx("option",{value:"BC",children:"British Columbia"}),a.jsx("option",{value:"MB",children:"Manitoba"}),a.jsx("option",{value:"NB",children:"New Brunswick"}),a.jsx("option",{value:"NL",children:"Newfoundland and Labrador"}),a.jsx("option",{value:"NS",children:"Nova Scotia"}),a.jsx("option",{value:"ON",children:"Ontario"}),a.jsx("option",{value:"PE",children:"Prince Edward Island"}),a.jsx("option",{value:"QC",children:"Quebec"}),a.jsx("option",{value:"SK",children:"Saskatchewan"}),a.jsx("option",{value:"NT",children:"Northwest Territories"}),a.jsx("option",{value:"NU",children:"Nunavut"}),a.jsx("option",{value:"YT",children:"Yukon"})]}),a.jsx("button",{type:"submit",className:"btn btn-primary px-6 py-2",disabled:r==="loading",children:r==="loading"?"Joining...":"Join Waitlist"})]}),r==="success"&&a.jsx("div",{className:"text-green-700 mt-3",children:"Thank you! You've been added to the waitlist."}),r==="error"&&a.jsx("div",{className:"text-red-700 mt-3",children:o})]})}),a.jsx("div",{id:"features",className:"py-20 bg-white",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsx(Ne.h2,{className:"text-3xl font-bold text-center text-slate-900 mb-4",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.7},children:"Everything You Need to Succeed"}),a.jsx(Ne.p,{className:"text-lg text-center text-slate-600 mb-12 max-w-2xl mx-auto",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.2,duration:.7},children:"Accreda provides a comprehensive suite of tools to help you document, track, and showcase your engineering journey with confidence."}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[0,1,2].map(u=>a.jsxs(Ne.div,{className:"card hover:scale-105 transition-transform",initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.2+u*.15,duration:.7},children:[u===0&&a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"w-12 h-12 bg-teal-100 rounded-lg flex items-center justify-center mb-4",children:a.jsx(td,{className:"w-6 h-6 text-teal-600"})}),a.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Skill Tracking"}),a.jsx("p",{className:"text-slate-600",children:"Track your progress across all required engineering competencies with our intuitive skill assessment system."})]}),u===1&&a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"w-12 h-12 bg-teal-100 rounded-lg flex items-center justify-center mb-4",children:a.jsx(tr,{className:"w-6 h-6 text-teal-600"})}),a.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Experience Documentation"}),a.jsx("p",{className:"text-slate-600",children:"Document your engineering experiences with our structured templates and guidance."})]}),u===2&&a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"w-12 h-12 bg-teal-100 rounded-lg flex items-center justify-center mb-4",children:a.jsx(nd,{className:"w-6 h-6 text-teal-600"})}),a.jsx("h3",{className:"text-xl font-semibold mb-2",children:"SAO Management"}),a.jsx("p",{className:"text-slate-600",children:"Create and manage your Self-Assessment Outcomes with our AI-powered writing assistant."})]})]},u))})]})}),a.jsx("div",{className:"py-20 bg-slate-50",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsx(Ne.h2,{className:"text-3xl font-bold text-center text-slate-900 mb-12",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.7},children:"Why Choose Accreda?"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[0,1,2,3].map(u=>a.jsxs(Ne.div,{className:"flex items-start space-x-4",initial:{opacity:0,x:u%2===0?-40:40},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{delay:.2+u*.1,duration:.7},children:[u===0&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(qs,{className:"w-6 h-6 text-teal-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Structured Progress Tracking"}),a.jsx("p",{className:"text-slate-600",children:"Stay organized with our comprehensive tracking system for skills, experiences, and documentation."})]})]}),u===1&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(Ca,{className:"w-6 h-6 text-teal-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Supervisor Collaboration"}),a.jsx("p",{className:"text-slate-600",children:"Streamline the approval process with our integrated supervisor review system."})]})]}),u===2&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(cv,{className:"w-6 h-6 text-teal-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Time-Saving Tools"}),a.jsx("p",{className:"text-slate-600",children:"Our AI-powered writing assistant helps you draft professional documentation quickly."})]})]}),u===3&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(yk,{className:"w-6 h-6 text-teal-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Progress Analytics"}),a.jsx("p",{className:"text-slate-600",children:"Get clear insights into your progress with detailed analytics and visualizations."})]})]})]},u))}),a.jsxs(Ne.div,{className:"mt-16 max-w-2xl mx-auto bg-white rounded-xl shadow-lg p-8 text-center",initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{delay:.5,duration:.7},children:[a.jsx("p",{className:"text-lg italic text-slate-700 mb-4",children:'"Accreda made my EIT journey so much easier. The skill tracking and supervisor collaboration features are game changers!"'}),a.jsx("div",{className:"font-semibold text-slate-900",children:" Alex P., EIT Candidate"})]})]})}),a.jsx("div",{className:"py-20 bg-white",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[a.jsx(Ne.h2,{className:"text-3xl font-bold text-slate-900 mb-6",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.7},children:"Ready to Start Your EIT Journey?"}),a.jsx(Ne.p,{className:"text-xl text-slate-600 mb-8 max-w-2xl mx-auto",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.2,duration:.7},children:"Join thousands of engineers who are using Accreda to streamline their path to becoming an Engineer in Training."}),a.jsxs(Ne.div,{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{delay:.4,duration:.5},children:[a.jsxs(ot,{to:"/signup",className:"btn btn-primary text-lg px-8 py-3 inline-flex items-center",children:["Get Started Now",a.jsx(gk,{className:"ml-2 w-5 h-5"})]}),a.jsx("a",{href:"#features",className:"btn btn-outline text-lg px-8 py-3 border-teal-500 text-teal-700 hover:bg-teal-50 transition",children:"See How It Works"})]})]})}),a.jsx("footer",{className:"bg-slate-900 text-white py-12",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Accreda"}),a.jsx("p",{className:"text-slate-400",children:"Helping engineers achieve their professional goals through structured development and documentation."}),a.jsxs("div",{className:"flex space-x-4 mt-4",children:[a.jsx(Ne.a,{href:"#",whileHover:{scale:1.2,rotate:10},className:"text-slate-400 hover:text-white transition","aria-label":"Twitter",children:a.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M24 4.557a9.93 9.93 0 0 1-2.828.775 4.932 4.932 0 0 0 2.165-2.724c-.951.564-2.005.974-3.127 1.195A4.92 4.92 0 0 0 16.616 3c-2.73 0-4.942 2.21-4.942 4.932 0 .386.045.762.127 1.124C7.728 8.807 4.1 6.884 1.671 3.965c-.423.722-.666 1.561-.666 2.475 0 1.708.87 3.216 2.188 4.099a4.904 4.904 0 0 1-2.239-.616c-.054 2.281 1.581 4.415 3.949 4.89a4.936 4.936 0 0 1-2.224.084c.627 1.956 2.444 3.377 4.6 3.417A9.867 9.867 0 0 1 0 21.543a13.94 13.94 0 0 0 7.548 2.209c9.057 0 14.009-7.496 14.009-13.986 0-.213-.005-.425-.014-.636A9.936 9.936 0 0 0 24 4.557z"})})}),a.jsx(Ne.a,{href:"#",whileHover:{scale:1.2,rotate:-10},className:"text-slate-400 hover:text-white transition","aria-label":"LinkedIn",children:a.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M19 0h-14c-2.76 0-5 2.24-5 5v14c0 2.76 2.24 5 5 5h14c2.76 0 5-2.24 5-5v-14c0-2.76-2.24-5-5-5zm-11 19h-3v-10h3v10zm-1.5-11.28c-.966 0-1.75-.79-1.75-1.76s.784-1.76 1.75-1.76 1.75.79 1.75 1.76-.784 1.76-1.75 1.76zm13.5 11.28h-3v-5.6c0-1.34-.03-3.07-1.87-3.07-1.87 0-2.16 1.46-2.16 2.97v5.7h-3v-10h2.89v1.36h.04c.4-.76 1.37-1.56 2.82-1.56 3.01 0 3.57 1.98 3.57 4.56v5.64z"})})})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Quick Links"}),a.jsxs("ul",{className:"space-y-2",children:[a.jsx("li",{children:a.jsx(ot,{to:"/login",className:"text-slate-400 hover:text-white",children:"Sign In"})}),a.jsx("li",{children:a.jsx(ot,{to:"/signup",className:"text-slate-400 hover:text-white",children:"Sign Up"})}),a.jsx("li",{children:a.jsx(ot,{to:"/help",className:"text-slate-400 hover:text-white",children:"Help & Support"})})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Contact"}),a.jsxs("ul",{className:"space-y-2 text-slate-400",children:[a.jsx("li",{children:"Email: support@accreda.com"}),a.jsx("li",{children:"Phone: (555) 123-4567"})]})]})]}),a.jsx("div",{className:"border-t border-slate-800 mt-8 pt-8 text-center text-slate-400",children:a.jsxs("p",{children:[" ",new Date().getFullYear()," Accreda. All rights reserved."]})})]})})]})},ap=({onSubmit:e,onCancel:t,isEditing:n,job:s,onJobChange:r,onSkillsToggle:i,onSkillsPopupOpen:o,skillCategories:l})=>{var c;return a.jsxs("div",{className:"mb-6 p-4 bg-slate-50 rounded-lg border border-slate-200",children:[a.jsx("h3",{className:"font-medium mb-4",children:n?"Edit Job":"Add New Job"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Job Title"}),a.jsx("input",{type:"text",value:s.title||"",onChange:u=>r("title",u.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 min-w-[200px]",placeholder:"e.g., Software Engineer",maxLength:100})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Company"}),a.jsx("input",{type:"text",value:s.company||"",onChange:u=>r("company",u.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 min-w-[200px]",placeholder:"e.g., Tech Corp",maxLength:100})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Location"}),a.jsx("input",{type:"text",value:s.location||"",onChange:u=>r("location",u.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 min-w-[200px]",placeholder:"e.g., San Francisco, CA",maxLength:100})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Start Date"}),a.jsx("input",{type:"date",value:s.start_date||"",onChange:u=>r("start_date",u.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 min-w-[150px]"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"End Date"}),a.jsx("input",{type:"date",value:s.end_date||"",onChange:u=>r("end_date",u.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 min-w-[150px]",placeholder:"Present"})]})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Description"}),a.jsx("textarea",{value:s.description||"",onChange:u=>r("description",u.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 min-w-[200px]",rows:3,placeholder:"Brief description of your role and responsibilities",maxLength:500})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Skills"}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:(s.skills||[]).map(u=>{const d=l.flatMap(h=>h.skills).find(h=>h.id===u);return d?a.jsxs("span",{className:"px-2 py-1 bg-slate-100 text-slate-700 rounded-full text-xs flex items-center gap-1",children:[d.name,a.jsx("button",{onClick:()=>i(u),className:"text-slate-400 hover:text-red-600",children:a.jsx(ct,{size:12})})]},u):null})}),a.jsx("button",{onClick:o,className:"btn btn-secondary w-full",children:(c=s.skills)!=null&&c.length?"Edit Skills":"Select Skills"})]})]}),a.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[a.jsx("button",{onClick:t,className:"btn btn-secondary",children:"Cancel"}),a.jsx("button",{onClick:e,className:"btn btn-primary",children:n?"Update Job":"Save Job"})]})]})},gA=()=>{const[e,t]=y.useState([]),[n,s]=y.useState({}),[r,i]=y.useState({}),[o,l]=y.useState(!1),[c,u]=y.useState(null),[d,h]=y.useState(null),[f,m]=y.useState(!0),{skillCategories:p}=qt(),[x,b]=y.useState({title:"",company:"",location:"",start_date:"",end_date:"",description:"",skills:[]}),[g,v]=y.useState(null),w=async()=>{m(!0);try{const{data:{user:N}}=await A.auth.getUser();if(!N)return;const $=await A.from("jobs").select("id, title, company, location, start_date, end_date, description, skills").eq("eit_id",N.id).order("start_date",{ascending:!1});t($.data||[]);const P=($.data||[]).map(E=>E.id);let L={data:[]};P.length>0&&(L=await A.from("job_references").select("id, job_id, full_name, email, description, reference_number, created_at, updated_at").in("job_id",P));const T=await A.from("validators").select("id, eit_id, skill_id, full_name, email, description, created_at, updated_at").eq("eit_id",N.id);let D=[];!L.error&&Array.isArray(L.data)&&(D=L.data);const U=D.reduce((E,M)=>(E[M.job_id]||(E[M.job_id]=[]),E[M.job_id].push(M),E),{});if(s(U),T.data){const E=T.data.reduce((M,z)=>(M[z.skill_id]||(M[z.skill_id]=[]),M[z.skill_id].push(z),M),{});i(E)}}catch(N){console.error("Error loading jobs, references, or validators:",N)}finally{m(!1)}};y.useEffect(()=>{w();const N=sessionStorage.getItem("pendingScroll");if(N){try{const P=JSON.parse(N);P&&P.itemId&&P.itemType&&v({itemId:P.itemId,itemType:P.itemType})}catch{}sessionStorage.removeItem("pendingScroll")}const $=P=>{console.log("Scroll event received, queuing:",P.detail);const{itemId:L,itemType:T}=P.detail;L&&T&&v({itemId:L,itemType:T})};return window.addEventListener("scroll-to-item",$),()=>{window.removeEventListener("scroll-to-item",$)}},[]),y.useEffect(()=>{if(!g||f){g&&f&&console.log("Holding scroll for item",g.itemId,"due to main loading state.");return}const{itemId:N,itemType:$}=g;let P=null,L=!1;if(console.log(`Processing pending scroll for ${$} ${N}`),$==="job"){L=!0;const T=`[data-job-id="${N}"]`;console.log("Attempting to find job element with selector:",T),P=document.querySelector(T)}else if($==="reference")if(Object.keys(n).length>0||e.some(T=>{var D;return(D=n[T.id])==null?void 0:D.some(U=>U.id===N)})){L=!0;const T=`[data-reference-id="${N}"]`;console.log("Attempting to find reference element with selector:",T),P=document.querySelector(T)}else console.log("References data not yet populated enough to find item:",N);else if($==="validator"){let T=Object.keys(r).length>0,D=null;for(const U in r)if(r[U].some(E=>E.id===N)){D=U;break}if(D&&e.some(U=>{var E;return(E=U.skills)==null?void 0:E.includes(D)})?L=!0:T?(L=!0,console.log("Validator data seems generally loaded, attempting query for:",N)):console.log("Validators data not yet populated enough to find item:",N),L){const U=`[data-validator-id="${N}"]`;console.log("Attempting to find validator element with selector:",U),P=document.querySelector(U)}}if(L&&P)console.log(`Performing queued scroll for ${$} ${N} to element:`,P),requestAnimationFrame(()=>{requestAnimationFrame(()=>{P.scrollIntoView({behavior:"smooth",block:"center"}),P.classList.add("highlight-item"),setTimeout(()=>{P==null||P.classList.remove("highlight-item")},2e3)})}),v(null);else if(L&&!P){let T=0;const D=30,U=$==="job"?`[data-job-id="${N}"]`:$==="reference"?`[data-reference-id="${N}"]`:$==="validator"?`[data-validator-id="${N}"]`:"";if(!U){v(null);return}const E=setInterval(()=>{const M=document.querySelector(U);T++,M?(console.log(`Polling found element for ${$} ${N} after ${T} attempts.`),M.scrollIntoView({behavior:"smooth",block:"center"}),M.classList.add("highlight-item"),setTimeout(()=>{M.classList.remove("highlight-item")},2e3),clearInterval(E),v(null)):T>=D&&(console.warn(`Polling failed to find element for ${$} ${N} after ${T} attempts.`),clearInterval(E),v(null))},100)}else L||console.log(`Data not yet ready for ${$} ${N}. Scroll remains pending. Will retry on next data update.`)},[g,e,n,r,f]);const S=async()=>{try{const{data:{user:N}}=await A.auth.getUser();if(!N)return;const{error:$}=await A.from("jobs").insert([{...x,eit_id:N.id,skills:x.skills||[]}]);if($)throw $;b({title:"",company:"",location:"",start_date:"",end_date:"",description:"",skills:[]}),l(!1),await w(),window.dispatchEvent(new Event("jobs-updated"))}catch(N){console.error("Error adding job:",N)}},j=async(N,$)=>{try{const{data:{user:P}}=await A.auth.getUser();if(!P){console.error("No user found");return}const{data:L,error:T}=await A.from("jobs").select("*").eq("id",N).single();if(T)throw console.error("Error fetching existing job:",T),T;if(!L){console.error("Job not found");return}const D={title:x.title||L.title,description:x.description||L.description,skills:$||x.skills||[],eit_id:P.id};console.log("Updating job with data:",{jobId:N,updateData:D,currentSkills:x.skills});const{error:U}=await A.from("jobs").update(D).eq("id",N).eq("eit_id",P.id);if(U)throw console.error("Error updating job:",U),U;b({title:"",company:"",location:"",start_date:"",end_date:"",description:"",skills:[]}),u(null),await w(),window.dispatchEvent(new Event("jobs-updated"))}catch(P){console.error("Error in handleUpdateJob:",P)}},C=async N=>{try{const{error:$}=await A.from("jobs").delete().eq("id",N);if($)throw $;await w(),window.dispatchEvent(new Event("jobs-updated"))}catch($){console.error("Error deleting job:",$)}},k=N=>{b({...N,skills:N.skills||[]}),u(N.id)},_=N=>{b($=>{const P=$.skills||[],L=P.includes(N)?P.filter(T=>T!==N):[...P,N];return console.log("Updating skills:",{currentSkills:P,updatedSkills:L,skillId:N}),{...$,skills:L}})},R=(N,$)=>{b(P=>({...P,[N]:$}))},O=()=>{const N=Te.useRef(null),[$,P]=Te.useState([]),L=Te.useRef(null);Te.useEffect(()=>{d&&L.current!==d&&(P(x.skills?[...x.skills]:[]),L.current=d),d||(L.current=null)},[d,x.skills]);const T=Te.useRef(0),D=E=>{N.current&&(T.current=N.current.scrollTop),P(M=>M.includes(E)?M.filter(z=>z!==E):[...M,E])};Te.useLayoutEffect(()=>{N.current&&(N.current.scrollTop=T.current)}),Te.useEffect(()=>{N.current&&(T.current=N.current.scrollTop)},[$]);const U=async()=>{d!=="new"&&d&&(await j(d,$),await w()),h(null)};return a.jsx("div",{className:`fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 transition-opacity duration-200 ${d?"":"hidden"}`,children:a.jsxs("div",{ref:N,className:"bg-white rounded-lg p-6 max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Select Skills"}),a.jsx("button",{onClick:()=>h(null),className:"text-slate-400 hover:text-slate-600",children:a.jsx(ct,{size:20})})]}),a.jsx("div",{className:"space-y-4",children:p.map(E=>a.jsxs("div",{className:"border rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium mb-2",children:E.name}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:E.skills.map(M=>a.jsxs("label",{className:"flex items-center space-x-2 p-2 rounded hover:bg-slate-50 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:$.includes(M.id),onChange:()=>D(M.id),className:"rounded text-teal-600 focus:ring-teal-500"}),a.jsx("span",{className:"text-sm",children:M.name})]},M.id))})]},E.name))}),a.jsx("div",{className:"flex justify-end mt-6",children:a.jsx("button",{onClick:U,className:"btn btn-primary",children:"Done"})})]})})};return y.useEffect(()=>{o&&!c&&b({title:"",company:"",location:"",start_date:"",end_date:"",description:"",skills:[]})},[o,c]),f?a.jsx("div",{className:"card animate-pulse",children:a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"h-6 bg-slate-200 rounded w-1/4 mb-4"}),a.jsx("div",{className:"space-y-4",children:[1,2,3].map(N=>a.jsxs("div",{className:"flex gap-4",children:[a.jsx("div",{className:"w-24 h-24 bg-slate-200 rounded"}),a.jsxs("div",{className:"flex-1 space-y-2",children:[a.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/3"}),a.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/4"})]})]},N))})]})}):a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Work Experience"}),a.jsxs("button",{onClick:()=>l(!0),className:"btn btn-primary flex items-center gap-2 shadow-sm hover:shadow-md transition-shadow",children:[a.jsx(ci,{size:16}),"Add Job"]})]}),o&&a.jsx("div",{className:"mb-6",children:a.jsx(ap,{onSubmit:S,onCancel:()=>{l(!1),b({title:"",company:"",location:"",start_date:"",end_date:"",description:"",skills:[]})},isEditing:!1,job:x,onJobChange:R,onSkillsToggle:_,onSkillsPopupOpen:()=>h("new"),skillCategories:p})}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute left-3 top-0 bottom-0 w-0.5 bg-gradient-to-b from-teal-500 to-teal-200"}),a.jsxs("div",{className:"space-y-6",children:[e.map((N,$)=>{var P,L,T,D,U;return a.jsxs("div",{className:"relative pl-10","data-job-id":N.id,"data-reference-id":(L=(P=n[N.id])==null?void 0:P[0])==null?void 0:L.id,"data-validator-id":(T=N.skills)!=null&&T[0]?(U=(D=r[N.skills[0]])==null?void 0:D[0])==null?void 0:U.id:void 0,children:[a.jsx("div",{className:"absolute left-0 w-7 h-7 rounded-full bg-gradient-to-br from-teal-400 to-blue-400 border-4 border-white flex items-center justify-center shadow-lg z-10",children:a.jsx(oi,{size:16,className:"text-white"})}),c===N.id?a.jsx(ap,{onSubmit:()=>j(N.id),onCancel:()=>{u(null),b({title:"",company:"",location:"",start_date:"",end_date:"",description:"",skills:[]})},isEditing:!0,job:x,onJobChange:R,onSkillsToggle:_,onSkillsPopupOpen:()=>h(N.id),skillCategories:p}):a.jsxs("div",{className:"bg-gradient-to-br from-white via-sky-50 to-teal-50 rounded-xl border border-teal-100 p-6 shadow-md hover:shadow-lg transition-shadow",children:[a.jsxs("div",{className:"flex justify-between items-start mb-3",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"font-bold text-lg text-teal-900 flex items-center gap-2",children:[N.title,a.jsx("span",{className:"ml-2 px-2 py-0.5 rounded-full bg-teal-100 text-teal-700 text-xs font-semibold",children:N.company})]}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:N.location})]}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx("button",{onClick:()=>{b({...N,skills:N.skills||[]}),h(N.id)},className:"p-1.5 text-slate-400 hover:text-teal-600 hover:bg-teal-100 rounded-lg transition-colors",title:"Edit Skills",children:a.jsx(ci,{size:14})}),a.jsx("button",{onClick:()=>k(N),className:"p-1.5 text-slate-400 hover:text-blue-600 hover:bg-blue-100 rounded-lg transition-colors",title:"Edit Job",children:a.jsx(li,{size:14})}),a.jsx("button",{onClick:()=>C(N.id),className:"p-1.5 text-slate-400 hover:text-red-600 hover:bg-red-100 rounded-lg transition-colors",title:"Delete Job",children:a.jsx(Ti,{size:14})})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-xs text-slate-500 mb-3",children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx(av,{size:14,className:"text-teal-500"}),a.jsxs("span",{children:[new Date(N.start_date).toLocaleDateString()," - ",N.end_date?new Date(N.end_date).toLocaleDateString():"Present"]})]}),a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx(hv,{size:14,className:"text-teal-500"}),a.jsx("span",{children:N.location})]})]}),N.description&&a.jsx("p",{className:"text-sm text-slate-700 mb-4 leading-relaxed",children:N.description}),n[N.id]&&n[N.id].length>0&&a.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-100",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(Ca,{size:14,className:"text-blue-500"}),a.jsx("h4",{className:"text-xs font-semibold text-blue-700 uppercase tracking-wide",children:"References"})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:n[N.id].map(E=>a.jsxs("div",{"data-reference-id":E.id,className:"bg-blue-50 rounded-full px-3 py-1 border border-blue-100 text-xs text-blue-800 flex items-center gap-2 shadow-sm",children:[a.jsx("span",{className:"font-medium",children:E.full_name}),a.jsx("span",{className:"text-blue-400",children:"|"}),a.jsx("span",{children:E.email}),a.jsxs("span",{className:"ml-2 px-2 py-0.5 bg-blue-100 text-blue-700 rounded-full font-semibold",children:["Ref ",E.reference_number]})]},E.id))})]}),N.skills&&N.skills.length>0&&a.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-100",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(qs,{size:14,className:"text-green-500"}),a.jsx("h4",{className:"text-xs font-semibold text-green-700 uppercase tracking-wide",children:"Skills & Validators"})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:N.skills.map(E=>{const M=p.flatMap(K=>K.skills).find(K=>K.id===E),z=r[E]||[];return M?a.jsxs("div",{className:"bg-green-50 rounded-full px-3 py-1 border border-green-100 text-xs text-green-800 flex items-center gap-2 shadow-sm",children:[a.jsx("span",{className:"font-medium",children:M.name}),M.rank&&a.jsxs("span",{className:"ml-2 px-2 py-0.5 bg-green-100 text-green-700 rounded-full font-semibold",children:["Score ",M.rank]}),z.length>0&&a.jsx("span",{className:"ml-2 flex items-center gap-1",children:z.map(K=>a.jsx("span",{className:"bg-white border border-green-200 rounded-full px-2 py-0.5 text-green-700 font-medium ml-1",children:K.full_name},K.id))})]},E):null})})]})]})]},N.id)}),e.length===0&&!o&&a.jsxs("div",{className:"text-center py-8 text-slate-500",children:[a.jsx(oi,{size:24,className:"mx-auto mb-2 text-slate-400"}),a.jsx("p",{className:"text-sm mb-2",children:"No work experience added yet"}),a.jsx("button",{onClick:()=>l(!0),className:"text-teal-600 hover:text-teal-700 font-medium",children:"Add your first job"})]})]})]})]}),a.jsx(O,{}),a.jsx("style",{children:`
          .highlight-item {
            animation: highlight 2s ease-out;
          }

          @keyframes highlight {
            0% {
              background-color: rgba(99, 102, 241, 0.1);
            }
            100% {
              background-color: transparent;
            }
          }
        `})]})},vA=({isOpen:e,onClose:t,skillName:n,skillId:s,existingValidator:r,onSave:i})=>{const[o,l]=y.useState({fullName:(r==null?void 0:r.full_name)||"",email:(r==null?void 0:r.email)||"",description:(r==null?void 0:r.description)||""}),[c,u]=y.useState(!1),[d,h]=y.useState(null);y.useEffect(()=>{e&&l(r?{fullName:r.full_name,email:r.email,description:r.description}:{fullName:"",email:"",description:""})},[e,r,s]);const f=async m=>{m.preventDefault(),u(!0),h(null);try{const{data:{user:p}}=await A.auth.getUser();if(!p)throw new Error("No authenticated user");if(r){const{error:x}=await A.from("validators").update({full_name:o.fullName,email:o.email,description:o.description}).eq("id",r.id);if(x)throw x}else{const{error:x}=await A.from("validators").insert([{eit_id:p.id,skill_id:s,full_name:o.fullName,email:o.email,description:o.description}]);if(x)throw x}i(),t()}catch(p){h(p instanceof Error?p.message:"An error occurred")}finally{u(!1)}};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-[60]",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("h3",{className:"text-lg font-semibold",children:[r?"Edit":"Add"," Validator for ",n]}),a.jsx("button",{onClick:t,className:"text-slate-400 hover:text-slate-600",children:a.jsx(ct,{size:24})})]}),d&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:a.jsx("p",{className:"text-sm text-red-600",children:d})}),a.jsxs("form",{onSubmit:f,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Full Name"}),a.jsx("input",{type:"text",value:o.fullName,onChange:m=>l(p=>({...p,fullName:m.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Enter validator's full name",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Email"}),a.jsx("input",{type:"email",value:o.email,onChange:m=>l(p=>({...p,email:m.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Enter validator's email",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Description"}),a.jsx("textarea",{value:o.description,onChange:m=>l(p=>({...p,description:m.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Enter description of validation",rows:4,required:!0})]}),a.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[a.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm font-medium text-slate-700 hover:bg-slate-100 rounded-lg",disabled:c,children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-teal-600 hover:bg-teal-700 rounded-lg disabled:opacity-50",disabled:c,children:c?"Saving...":r?"Update Validator":"Add Validator"})]})]})]})}):null},yA=({isOpen:e,onClose:t,job:n,referenceNumber:s,existingReference:r,onSave:i})=>{const[o,l]=y.useState({fullName:"",email:"",referenceText:""}),[c,u]=y.useState(!1),[d,h]=y.useState(null);y.useEffect(()=>{e&&l(r?{fullName:r.full_name,email:r.email,referenceText:r.description}:{fullName:"",email:"",referenceText:""})},[e,r]);const f=async m=>{m.preventDefault(),u(!0),h(null);try{const{data:{user:p}}=await A.auth.getUser();if(!p)throw new Error("No authenticated user");const x={job_id:n.id,full_name:o.fullName,email:o.email,description:o.referenceText,reference_number:s,eit_id:p.id};if(console.log("Reference data to insert/update:",x),r){const{error:b}=await A.from("job_references").update(x).eq("id",r.id);if(b)throw console.error("Update error:",b),b}else{const{error:b}=await A.from("job_references").insert([x]);if(b)throw console.error("Insert error:",b),b}i(),t()}catch(p){console.error("ReferencePopup error:",p),h(p instanceof Error?p.message:"An error occurred")}finally{u(!1)}};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-[60]",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("h3",{className:"text-lg font-semibold",children:[r?"Edit":"Add"," Reference ",s," for ",n.title," at ",n.company]}),a.jsx("button",{onClick:t,className:"text-slate-400 hover:text-slate-600",children:a.jsx(ct,{size:24})})]}),d&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:a.jsx("p",{className:"text-sm text-red-600",children:d})}),a.jsxs("form",{onSubmit:f,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Full Name"}),a.jsx("input",{type:"text",value:o.fullName,onChange:m=>l(p=>({...p,fullName:m.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Enter reference's full name",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Email"}),a.jsx("input",{type:"email",value:o.email,onChange:m=>l(p=>({...p,email:m.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Enter reference's email",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Reference Text"}),a.jsx("textarea",{value:o.referenceText,onChange:m=>l(p=>({...p,referenceText:m.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Enter reference text",rows:4,required:!0})]}),a.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[a.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm font-medium text-slate-700 hover:bg-slate-100 rounded-lg",disabled:c,children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-teal-600 hover:bg-teal-700 rounded-lg disabled:opacity-50",disabled:c,children:c?"Saving...":r?"Update Reference":"Add Reference"})]})]})]})}):null},xA=()=>{var $;const[e,t]=y.useState("references"),[n,s]=y.useState(null),[r,i]=y.useState(null),[o,l]=y.useState(null),[c,u]=y.useState(null),[d,h]=y.useState(null),[f,m]=y.useState({}),[p,x]=y.useState({}),[b,g]=y.useState([]),{skillCategories:v}=qt(),w=y.useRef(null),S=y.useRef(null),j=y.useRef(null),C=v.map(P=>({...P,skills:P.skills.filter(L=>L.status==="completed"||L.rank!==void 0)})).filter(P=>P.skills.length>0),k=async()=>{try{const{data:{user:P}}=await A.auth.getUser();if(!P)return;const{data:L,error:T}=await A.from("validators").select("*").eq("eit_id",P.id);if(T)throw T;const D=L.reduce((U,E)=>(U[E.skill_id]||(U[E.skill_id]=[]),U[E.skill_id].push(E),U),{});m(D)}catch(P){console.error("Error loading validators:",P)}},_=async()=>{try{const{data:{user:P}}=await A.auth.getUser();if(!P)return;const{data:L,error:T}=await A.from("jobs").select("*").eq("eit_id",P.id).order("start_date",{ascending:!1});if(T)throw T;g(L||[])}catch(P){console.error("Error loading jobs:",P)}},R=async()=>{try{const{data:{user:P}}=await A.auth.getUser();if(!P)return;const{data:L,error:T}=await A.from("job_references").select("*").eq("eit_id",P.id);if(T)throw T;const D=L.reduce((U,E)=>(U[E.job_id]||(U[E.job_id]=[]),U[E.job_id].push(E),U),{});x(D)}catch(P){console.error("Error loading references:",P)}};y.useEffect(()=>{k(),_(),R()},[]),y.useEffect(()=>{const P=L=>{const{itemId:T,itemType:D}=L.detail||{},U=()=>{var z,K;const E=D==="reference"?`[data-reference-id="${T}"]`:D==="validator"?`[data-validator-id="${T}"]`:D==="job"?`[data-job-id="${T}"]`:"";if(!E)return;const M=document.querySelector(E);M&&(D==="reference"?(t("references"),(z=S.current)==null||z.scrollIntoView({behavior:"smooth",block:"start"})):D==="validator"&&(t("validators"),(K=j.current)==null||K.scrollIntoView({behavior:"smooth",block:"start"})),setTimeout(()=>{M.scrollIntoView({behavior:"smooth",block:"center"}),M.classList.add("highlight-item"),M.classList.add("animate-bounce-subtle"),setTimeout(()=>{M.classList.remove("highlight-item","animate-bounce-subtle")},2e3)},300))};requestAnimationFrame(()=>{D==="reference"&&e!=="references"||D==="validator"&&e!=="validators"?setTimeout(U,100):U()})};return window.addEventListener("scroll-to-item",P),()=>window.removeEventListener("scroll-to-item",P)},[e]),y.useEffect(()=>{const P=()=>{_(),R()};return window.addEventListener("jobs-updated",P),()=>window.removeEventListener("jobs-updated",P)},[]);const O=()=>{k()},N=()=>{R()};return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex items-center justify-between",ref:w,children:a.jsxs("h1",{className:"text-2xl font-semibold text-slate-900 flex items-center",children:[a.jsx(ov,{size:24,className:"mr-2 text-teal-600"}),"Jobs"]})}),a.jsx(gA,{}),a.jsxs("div",{className:"card",ref:S,children:[a.jsxs("div",{className:"flex border-b border-slate-200",children:[a.jsx("button",{onClick:()=>t("references"),className:`flex-1 py-3 px-4 text-sm font-medium ${e==="references"?"text-teal-600 border-b-2 border-teal-600":"text-slate-500 hover:text-slate-700"}`,children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx(Ca,{size:18}),"References"]})}),a.jsx("button",{onClick:()=>t("validators"),className:`flex-1 py-3 px-4 text-sm font-medium ${e==="validators"?"text-teal-600 border-b-2 border-teal-600":"text-slate-500 hover:text-slate-700"}`,children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx(qs,{size:18}),"Validators"]})})]}),a.jsx("div",{className:"p-6",ref:j,children:e==="references"?a.jsx("div",{className:"space-y-6",children:b.length>0?b.map(P=>a.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-4","data-job-id":P.id,children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-slate-900",children:P.title}),a.jsx("p",{className:"text-slate-600",children:P.company})]}),a.jsx("div",{className:"flex gap-2",children:[1,2].map(L=>{var D;const T=(D=p[P.id])==null?void 0:D.find(U=>U.reference_number===L);return T?a.jsxs("button",{onClick:()=>{l(P),u(T),h(L),window.dispatchEvent(new CustomEvent("scroll-to-item",{detail:{itemId:T.id,itemType:"reference"}}))},className:"px-3 py-1.5 text-sm font-medium text-slate-600 hover:text-slate-700 hover:bg-slate-50 rounded-lg transition-colors flex items-center gap-2","data-reference-id":T.id,children:[a.jsx(li,{size:14}),"Reference ",L,": ",T.full_name]},T.id):a.jsxs("button",{onClick:()=>{l(P),u(null),h(L)},className:"px-3 py-1.5 text-sm font-medium text-teal-600 hover:text-teal-700 hover:bg-teal-50 rounded-lg transition-colors flex items-center gap-2",children:[a.jsx(ci,{size:14}),"Add Reference ",L]},L)})})]}),a.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-500 mb-3",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(av,{size:14}),a.jsxs("span",{children:[new Date(P.start_date).toLocaleDateString()," - ",P.end_date?new Date(P.end_date).toLocaleDateString():"Present"]})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(hv,{size:14}),a.jsx("span",{children:P.location})]})]}),P.description&&a.jsx("p",{className:"text-slate-600 text-sm mb-3",children:P.description}),P.skills&&P.skills.length>0&&a.jsxs("div",{className:"mt-3",children:[a.jsx("h4",{className:"text-sm font-medium text-slate-700 mb-2",children:"Skills:"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:P.skills.map(L=>{const T=v.flatMap(D=>D.skills).find(D=>D.id===L);return T?a.jsx("span",{className:"px-2 py-1 bg-slate-100 text-slate-700 rounded-full text-xs",children:T.name},L):null})})]})]},P.id)):a.jsxs("div",{className:"text-center py-8 text-slate-500",children:[a.jsx(oi,{size:24,className:"mx-auto mb-2 text-slate-400"}),a.jsx("p",{children:"No work experience added yet"}),a.jsx("p",{className:"text-sm mt-1",children:"Add jobs in the Work Experience section above"})]})}):a.jsx("div",{className:"space-y-6",children:C.length>0?C.map(P=>a.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-4",children:[a.jsx("h3",{className:"font-semibold text-slate-900 mb-4",children:P.name}),a.jsx("div",{className:"space-y-4",children:P.skills.map(L=>{var T;return a.jsx("div",{className:"flex items-center justify-between","data-skill-id":L.id,children:a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-medium text-slate-800",children:L.name}),a.jsxs("div",{className:"flex items-center gap-2",children:[(T=f[L.id])==null?void 0:T.map(D=>a.jsxs("button",{onClick:()=>{s(L.id),i(D),window.dispatchEvent(new CustomEvent("scroll-to-item",{detail:{itemId:D.id,itemType:"validator"}}))},className:"px-3 py-1.5 text-sm font-medium text-slate-600 hover:text-slate-700 hover:bg-slate-50 rounded-lg transition-colors flex items-center gap-2","data-validator-id":D.id,children:[a.jsx(li,{size:14}),D.full_name]},D.id)),(!f[L.id]||f[L.id].length===0)&&a.jsx("button",{onClick:()=>{s(L.id),i(null)},className:"px-3 py-1.5 text-sm font-medium text-teal-600 hover:text-teal-700 hover:bg-teal-50 rounded-lg transition-colors",children:"Add Validator"})]})]})},L.id)})})]},P.name)):a.jsxs("div",{className:"text-center py-8 text-slate-500",children:[a.jsx(qs,{size:24,className:"mx-auto mb-2 text-slate-400"}),a.jsx("p",{children:"No completed skills yet"}),a.jsx("p",{className:"text-sm mt-1",children:"Complete skills in the Skills section to see them here"})]})})})]}),a.jsx(vA,{isOpen:n!==null,onClose:()=>{s(null),i(null)},skillName:n&&(($=v.flatMap(P=>P.skills).find(P=>P.id===n))==null?void 0:$.name)||"",skillId:n||"",existingValidator:r||void 0,onSave:O}),a.jsx(yA,{isOpen:o!==null&&d!==null,onClose:()=>{l(null),u(null),h(null)},job:o,referenceNumber:d,existingReference:c||void 0,onSave:N})]})};function wA(){const[e,t]=y.useState(null),[n,s]=y.useState(!0),r=ui(u=>u.initialize),i=ui(u=>u.setupRealtimeSubscriptions),o=qt(u=>u.loadUserSkills),l="75421336207-tftquv2i1mvom7ve3abijonie2r70kb6.apps.googleusercontent.com",c=async()=>{try{console.log("Starting app initialization..."),await o(),console.log("Skills loaded successfully"),await r(),console.log("Progress initialized successfully"),await i(),console.log("Realtime subscriptions set up successfully")}catch(u){console.error("Error initializing app:",u)}};return y.useEffect(()=>{console.log("Checking for existing session..."),A.auth.getSession().then(({data:{session:d}})=>{console.log("Session check result:",d?"Session found":"No session"),t(d),s(!1),d&&(console.log("Session found, initializing app..."),c())});const{data:{subscription:u}}=A.auth.onAuthStateChange((d,h)=>{console.log("Auth state changed:",d,h?"Session present":"No session"),t(h),h&&(console.log("New session detected, initializing app..."),c())});return()=>u.unsubscribe()},[r,i,o]),y.useEffect(()=>{const u="accreda_last_tab_close",h=localStorage.getItem(u);if(h){const m=parseInt(h,10);!isNaN(m)&&Date.now()-m>18e5&&A.auth.signOut().then(()=>{t(null)})}const f=()=>{localStorage.setItem(u,Date.now().toString())};return window.addEventListener("beforeunload",f),()=>{window.removeEventListener("beforeunload",f)}},[]),n?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-teal-600"})}):a.jsx(Ev,{clientId:l,children:a.jsxs(Ab,{children:[a.jsx(ge,{path:"/",element:e?a.jsx(os,{to:"/dashboard"}):a.jsx(pA,{})}),a.jsx(ge,{path:"/login",element:e?a.jsx(os,{to:"/dashboard"}):a.jsx(ck,{})}),a.jsx(ge,{path:"/signup",element:e?a.jsx(os,{to:"/dashboard"}):a.jsx(uk,{})}),a.jsx(ge,{path:"/forgot-password",element:e?a.jsx(os,{to:"/dashboard"}):a.jsx(dk,{})}),a.jsx(ge,{path:"/reset-password",element:e?a.jsx(os,{to:"/dashboard"}):a.jsx(hk,{})}),a.jsxs(ge,{path:"/dashboard",element:e?a.jsx(k2,{}):a.jsx(os,{to:"/"}),children:[a.jsx(ge,{index:!0,element:a.jsx(O2,{})}),a.jsx(ge,{path:"skills",element:a.jsx($2,{})}),a.jsx(ge,{path:"saos",element:a.jsx(AE,{})}),a.jsx(ge,{path:"documents",element:a.jsx(F2,{})}),a.jsx(ge,{path:"essays",element:a.jsx(z2,{})}),a.jsx(ge,{path:"text-input",element:a.jsx(K2,{})}),a.jsx(ge,{path:"edit-document/:id",element:a.jsx(Y2,{})}),a.jsx(ge,{path:"settings",element:a.jsx(X2,{})}),a.jsx(ge,{path:"help",element:a.jsx(RE,{})}),a.jsx(ge,{path:"references",element:a.jsx(xA,{})})]}),a.jsx(ge,{path:"*",element:a.jsx(J2,{})})]})})}w0(document.getElementById("root")).render(a.jsx(y.StrictMode,{children:a.jsx(Fb,{children:a.jsx(wA,{})})}));export{oi as B,qs as C,tr as F,xf as P,TE as S,Ca as U,ct as X,qt as a,ft as b,V as c,Xc as g,a as j,y as r,A as s,od as u};
